var vw=Object.defineProperty;var yw=(n,e,t)=>e in n?vw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var b1=(n,e,t)=>(yw(n,typeof e!="symbol"?e+"":e,t),t);function xw(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function u7(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vf={},_w={get exports(){return vf},set exports(n){vf=n}},Lm={},Z={},Cw={get exports(){return Z},set exports(n){Z=n}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=Symbol.for("react.element"),Mw=Symbol.for("react.portal"),Sw=Symbol.for("react.fragment"),ww=Symbol.for("react.strict_mode"),Aw=Symbol.for("react.profiler"),Ew=Symbol.for("react.provider"),Tw=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),Bw=Symbol.for("react.suspense"),Rw=Symbol.for("react.memo"),Pw=Symbol.for("react.lazy"),I5=Symbol.iterator;function Lw(n){return n===null||typeof n!="object"?null:(n=I5&&n[I5]||n["@@iterator"],typeof n=="function"?n:null)}var c7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f7=Object.assign,d7={};function Du(n,e,t){this.props=n,this.context=e,this.refs=d7,this.updater=t||c7}Du.prototype.isReactComponent={};Du.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Du.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function h7(){}h7.prototype=Du.prototype;function Z3(n,e,t){this.props=n,this.context=e,this.refs=d7,this.updater=t||c7}var Y3=Z3.prototype=new h7;Y3.constructor=Z3;f7(Y3,Du.prototype);Y3.isPureReactComponent=!0;var D5=Array.isArray,p7=Object.prototype.hasOwnProperty,Q3={current:null},m7={key:!0,ref:!0,__self:!0,__source:!0};function g7(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)p7.call(e,i)&&!m7.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),f=0;f<a;f++)l[f]=arguments[f+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:qf,type:n,key:s,ref:o,props:r,_owner:Q3.current}}function Iw(n,e){return{$$typeof:qf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function q3(n){return typeof n=="object"&&n!==null&&n.$$typeof===qf}function Dw(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var F5=/\/+/g;function B1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Dw(""+n.key):e.toString(36)}function Rp(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case qf:case Mw:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+B1(o,0):i,D5(r)?(t="",n!=null&&(t=n.replace(F5,"$&/")+"/"),Rp(r,e,t,"",function(f){return f})):r!=null&&(q3(r)&&(r=Iw(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(F5,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",D5(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+B1(s,a);o+=Rp(s,e,t,l,r)}else if(l=Lw(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+B1(s,a++),o+=Rp(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xh(n,e,t){if(n==null)return n;var i=[],r=0;return Rp(n,i,"","",function(s){return e.call(t,s,r++)}),i}function Fw(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var xi={current:null},Pp={transition:null},kw={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:Pp,ReactCurrentOwner:Q3};At.Children={map:xh,forEach:function(n,e,t){xh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return xh(n,function(){e++}),e},toArray:function(n){return xh(n,function(e){return e})||[]},only:function(n){if(!q3(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};At.Component=Du;At.Fragment=Sw;At.Profiler=Aw;At.PureComponent=Z3;At.StrictMode=ww;At.Suspense=Bw;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kw;At.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=f7({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Q3.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)p7.call(e,l)&&!m7.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var f=0;f<l;f++)a[f]=arguments[f+2];i.children=a}return{$$typeof:qf,type:n.type,key:r,ref:s,props:i,_owner:o}};At.createContext=function(n){return n={$$typeof:Tw,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Ew,_context:n},n.Consumer=n};At.createElement=g7;At.createFactory=function(n){var e=g7.bind(null,n);return e.type=n,e};At.createRef=function(){return{current:null}};At.forwardRef=function(n){return{$$typeof:bw,render:n}};At.isValidElement=q3;At.lazy=function(n){return{$$typeof:Pw,_payload:{_status:-1,_result:n},_init:Fw}};At.memo=function(n,e){return{$$typeof:Rw,type:n,compare:e===void 0?null:e}};At.startTransition=function(n){var e=Pp.transition;Pp.transition={};try{n()}finally{Pp.transition=e}};At.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};At.useCallback=function(n,e){return xi.current.useCallback(n,e)};At.useContext=function(n){return xi.current.useContext(n)};At.useDebugValue=function(){};At.useDeferredValue=function(n){return xi.current.useDeferredValue(n)};At.useEffect=function(n,e){return xi.current.useEffect(n,e)};At.useId=function(){return xi.current.useId()};At.useImperativeHandle=function(n,e,t){return xi.current.useImperativeHandle(n,e,t)};At.useInsertionEffect=function(n,e){return xi.current.useInsertionEffect(n,e)};At.useLayoutEffect=function(n,e){return xi.current.useLayoutEffect(n,e)};At.useMemo=function(n,e){return xi.current.useMemo(n,e)};At.useReducer=function(n,e,t){return xi.current.useReducer(n,e,t)};At.useRef=function(n){return xi.current.useRef(n)};At.useState=function(n){return xi.current.useState(n)};At.useSyncExternalStore=function(n,e,t){return xi.current.useSyncExternalStore(n,e,t)};At.useTransition=function(){return xi.current.useTransition()};At.version="18.2.0";(function(n){n.exports=At})(Cw);const Nr=u7(Z),n2=xw({__proto__:null,default:Nr},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw=Z,Ow=Symbol.for("react.element"),Uw=Symbol.for("react.fragment"),zw=Object.prototype.hasOwnProperty,Gw=Nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hw={key:!0,ref:!0,__self:!0,__source:!0};function v7(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)zw.call(e,i)&&!Hw.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Ow,type:n,key:s,ref:o,props:r,_owner:Gw.current}}Lm.Fragment=Uw;Lm.jsx=v7;Lm.jsxs=v7;(function(n){n.exports=Lm})(_w);const $f=vf.Fragment,fe=vf.jsx,gr=vf.jsxs;var i2={},r2={},Vw={get exports(){return r2},set exports(n){r2=n}},Qi={},s2={},Ww={get exports(){return s2},set exports(n){s2=n}},y7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,V){var W=L.length;L.push(V);e:for(;0<W;){var X=W-1>>>1,H=L[X];if(0<r(H,V))L[X]=V,L[W]=H,W=X;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var V=L[0],W=L.pop();if(W!==V){L[0]=W;e:for(var X=0,H=L.length,q=H>>>1;X<q;){var ne=2*(X+1)-1,ge=L[ne],N=ne+1,Ee=L[N];if(0>r(ge,W))N<H&&0>r(Ee,ge)?(L[X]=Ee,L[N]=W,X=N):(L[X]=ge,L[ne]=W,X=ne);else if(N<H&&0>r(Ee,W))L[X]=Ee,L[N]=W,X=N;else break e}}return V}function r(L,V){var W=L.sortIndex-V.sortIndex;return W!==0?W:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],f=[],d=1,p=null,h=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var V=t(f);V!==null;){if(V.callback===null)i(f);else if(V.startTime<=L)i(f),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(f)}}function w(L){if(y=!1,S(L),!v)if(t(l)!==null)v=!0,le(T);else{var V=t(f);V!==null&&ce(w,V.startTime-L)}}function T(L,V){v=!1,y&&(y=!1,_(E),E=-1),g=!0;var W=h;try{for(S(V),p=t(l);p!==null&&(!(p.expirationTime>V)||L&&!G());){var X=p.callback;if(typeof X=="function"){p.callback=null,h=p.priorityLevel;var H=X(p.expirationTime<=V);V=n.unstable_now(),typeof H=="function"?p.callback=H:p===t(l)&&i(l),S(V)}else i(l);p=t(l)}if(p!==null)var q=!0;else{var ne=t(f);ne!==null&&ce(w,ne.startTime-V),q=!1}return q}finally{p=null,h=W,g=!1}}var B=!1,R=null,E=-1,P=5,I=-1;function G(){return!(n.unstable_now()-I<P)}function ie(){if(R!==null){var L=n.unstable_now();I=L;var V=!0;try{V=R(!0,L)}finally{V?K():(B=!1,R=null)}}else B=!1}var K;if(typeof C=="function")K=function(){C(ie)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,te=j.port2;j.port1.onmessage=ie,K=function(){te.postMessage(null)}}else K=function(){x(ie,0)};function le(L){R=L,B||(B=!0,K())}function ce(L,V){E=x(function(){L(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,le(T))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var W=h;h=V;try{return L()}finally{h=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=h;h=L;try{return V()}finally{h=W}},n.unstable_scheduleCallback=function(L,V,W){var X=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,L={id:d++,callback:V,priorityLevel:L,startTime:W,expirationTime:H,sortIndex:-1},W>X?(L.sortIndex=W,e(f,L),t(l)===null&&L===t(f)&&(y?(_(E),E=-1):y=!0,ce(w,W-X))):(L.sortIndex=H,e(l,L),v||g||(v=!0,le(T))),L},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(L){var V=h;return function(){var W=h;h=V;try{return L.apply(this,arguments)}finally{h=W}}}})(y7);(function(n){n.exports=y7})(Ww);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x7=Z,Ki=s2;function Pe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _7=new Set,yf={};function Ya(n,e){hu(n,e),hu(n+"Capture",e)}function hu(n,e){for(yf[n]=e,n=0;n<e.length;n++)_7.add(e[n])}var Ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o2=Object.prototype.hasOwnProperty,Jw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k5={},N5={};function Xw(n){return o2.call(N5,n)?!0:o2.call(k5,n)?!1:Jw.test(n)?N5[n]=!0:(k5[n]=!0,!1)}function jw(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Kw(n,e,t,i){if(e===null||typeof e>"u"||jw(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _i(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){qn[n]=new _i(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];qn[e]=new _i(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){qn[n]=new _i(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){qn[n]=new _i(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){qn[n]=new _i(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){qn[n]=new _i(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){qn[n]=new _i(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){qn[n]=new _i(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){qn[n]=new _i(n,5,!1,n.toLowerCase(),null,!1,!1)});var $3=/[\-:]([a-z])/g;function ev(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace($3,ev);qn[e]=new _i(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace($3,ev);qn[e]=new _i(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace($3,ev);qn[e]=new _i(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){qn[n]=new _i(n,1,!1,n.toLowerCase(),null,!1,!1)});qn.xlinkHref=new _i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){qn[n]=new _i(n,1,!1,n.toLowerCase(),null,!0,!0)});function tv(n,e,t,i){var r=qn.hasOwnProperty(e)?qn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Kw(e,t,r,i)&&(t=null),i||r===null?Xw(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Qs=x7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_h=Symbol.for("react.element"),Gl=Symbol.for("react.portal"),Hl=Symbol.for("react.fragment"),nv=Symbol.for("react.strict_mode"),a2=Symbol.for("react.profiler"),C7=Symbol.for("react.provider"),M7=Symbol.for("react.context"),iv=Symbol.for("react.forward_ref"),l2=Symbol.for("react.suspense"),u2=Symbol.for("react.suspense_list"),rv=Symbol.for("react.memo"),Mo=Symbol.for("react.lazy"),S7=Symbol.for("react.offscreen"),O5=Symbol.iterator;function yc(n){return n===null||typeof n!="object"?null:(n=O5&&n[O5]||n["@@iterator"],typeof n=="function"?n:null)}var fn=Object.assign,R1;function jc(n){if(R1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);R1=e&&e[1]||""}return`
`+R1+n}var P1=!1;function L1(n,e){if(!n||P1)return"";P1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(n,[],e)}else{try{e.call()}catch(f){i=f}n.call(e.prototype)}else{try{throw Error()}catch(f){i=f}n()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{P1=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?jc(n):""}function Zw(n){switch(n.tag){case 5:return jc(n.type);case 16:return jc("Lazy");case 13:return jc("Suspense");case 19:return jc("SuspenseList");case 0:case 2:case 15:return n=L1(n.type,!1),n;case 11:return n=L1(n.type.render,!1),n;case 1:return n=L1(n.type,!0),n;default:return""}}function c2(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Hl:return"Fragment";case Gl:return"Portal";case a2:return"Profiler";case nv:return"StrictMode";case l2:return"Suspense";case u2:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case M7:return(n.displayName||"Context")+".Consumer";case C7:return(n._context.displayName||"Context")+".Provider";case iv:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case rv:return e=n.displayName||null,e!==null?e:c2(n.type)||"Memo";case Mo:e=n._payload,n=n._init;try{return c2(n(e))}catch{}}return null}function Yw(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c2(e);case 8:return e===nv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Go(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function w7(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qw(n){var e=w7(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ch(n){n._valueTracker||(n._valueTracker=Qw(n))}function A7(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=w7(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Qp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function f2(n,e){var t=e.checked;return fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function U5(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Go(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function E7(n,e){e=e.checked,e!=null&&tv(n,"checked",e,!1)}function d2(n,e){E7(n,e);var t=Go(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?h2(n,e.type,t):e.hasOwnProperty("defaultValue")&&h2(n,e.type,Go(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function z5(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function h2(n,e,t){(e!=="number"||Qp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Kc=Array.isArray;function ru(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Go(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function p2(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return fn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function G5(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Pe(92));if(Kc(t)){if(1<t.length)throw Error(Pe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Go(t)}}function T7(n,e){var t=Go(e.value),i=Go(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function H5(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function b7(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m2(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?b7(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Mh,B7=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Mh=Mh||document.createElement("div"),Mh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function xf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var tf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qw=["Webkit","ms","Moz","O"];Object.keys(tf).forEach(function(n){qw.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),tf[e]=tf[n]})});function R7(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||tf.hasOwnProperty(n)&&tf[n]?(""+e).trim():e+"px"}function P7(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=R7(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var $w=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g2(n,e){if(e){if($w[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function v2(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y2=null;function sv(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var x2=null,su=null,ou=null;function V5(n){if(n=nd(n)){if(typeof x2!="function")throw Error(Pe(280));var e=n.stateNode;e&&(e=Nm(e),x2(n.stateNode,n.type,e))}}function L7(n){su?ou?ou.push(n):ou=[n]:su=n}function I7(){if(su){var n=su,e=ou;if(ou=su=null,V5(n),e)for(n=0;n<e.length;n++)V5(e[n])}}function D7(n,e){return n(e)}function F7(){}var I1=!1;function k7(n,e,t){if(I1)return n(e,t);I1=!0;try{return D7(n,e,t)}finally{I1=!1,(su!==null||ou!==null)&&(F7(),I7())}}function _f(n,e){var t=n.stateNode;if(t===null)return null;var i=Nm(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Pe(231,e,typeof t));return t}var _2=!1;if(Ws)try{var xc={};Object.defineProperty(xc,"passive",{get:function(){_2=!0}}),window.addEventListener("test",xc,xc),window.removeEventListener("test",xc,xc)}catch{_2=!1}function eA(n,e,t,i,r,s,o,a,l){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(d){this.onError(d)}}var nf=!1,qp=null,$p=!1,C2=null,tA={onError:function(n){nf=!0,qp=n}};function nA(n,e,t,i,r,s,o,a,l){nf=!1,qp=null,eA.apply(tA,arguments)}function iA(n,e,t,i,r,s,o,a,l){if(nA.apply(this,arguments),nf){if(nf){var f=qp;nf=!1,qp=null}else throw Error(Pe(198));$p||($p=!0,C2=f)}}function Qa(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function N7(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function W5(n){if(Qa(n)!==n)throw Error(Pe(188))}function rA(n){var e=n.alternate;if(!e){if(e=Qa(n),e===null)throw Error(Pe(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return W5(r),n;if(s===i)return W5(r),e;s=s.sibling}throw Error(Pe(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Pe(189))}}if(t.alternate!==i)throw Error(Pe(190))}if(t.tag!==3)throw Error(Pe(188));return t.stateNode.current===t?n:e}function O7(n){return n=rA(n),n!==null?U7(n):null}function U7(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=U7(n);if(e!==null)return e;n=n.sibling}return null}var z7=Ki.unstable_scheduleCallback,J5=Ki.unstable_cancelCallback,sA=Ki.unstable_shouldYield,oA=Ki.unstable_requestPaint,Cn=Ki.unstable_now,aA=Ki.unstable_getCurrentPriorityLevel,ov=Ki.unstable_ImmediatePriority,G7=Ki.unstable_UserBlockingPriority,em=Ki.unstable_NormalPriority,lA=Ki.unstable_LowPriority,H7=Ki.unstable_IdlePriority,Im=null,ss=null;function uA(n){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(Im,n,void 0,(n.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:dA,cA=Math.log,fA=Math.LN2;function dA(n){return n>>>=0,n===0?32:31-(cA(n)/fA|0)|0}var Sh=64,wh=4194304;function Zc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function tm(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Zc(a):(s&=o,s!==0&&(i=Zc(s)))}else o=t&~r,o!==0?i=Zc(o):s!==0&&(i=Zc(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Or(e),r=1<<t,i|=n[t],e&=~r;return i}function hA(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pA(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Or(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=hA(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function M2(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function V7(){var n=Sh;return Sh<<=1,!(Sh&4194240)&&(Sh=64),n}function D1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function ed(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Or(e),n[e]=t}function mA(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Or(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function av(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Or(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Ht=0;function W7(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var J7,lv,X7,j7,K7,S2=!1,Ah=[],Ro=null,Po=null,Lo=null,Cf=new Map,Mf=new Map,Ao=[],gA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X5(n,e){switch(n){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Cf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mf.delete(e.pointerId)}}function _c(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=nd(e),e!==null&&lv(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function vA(n,e,t,i,r){switch(e){case"focusin":return Ro=_c(Ro,n,e,t,i,r),!0;case"dragenter":return Po=_c(Po,n,e,t,i,r),!0;case"mouseover":return Lo=_c(Lo,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Cf.set(s,_c(Cf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Mf.set(s,_c(Mf.get(s)||null,n,e,t,i,r)),!0}return!1}function Z7(n){var e=Ea(n.target);if(e!==null){var t=Qa(e);if(t!==null){if(e=t.tag,e===13){if(e=N7(t),e!==null){n.blockedOn=e,K7(n.priority,function(){X7(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=w2(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);y2=i,t.target.dispatchEvent(i),y2=null}else return e=nd(t),e!==null&&lv(e),n.blockedOn=t,!1;e.shift()}return!0}function j5(n,e,t){Lp(n)&&t.delete(e)}function yA(){S2=!1,Ro!==null&&Lp(Ro)&&(Ro=null),Po!==null&&Lp(Po)&&(Po=null),Lo!==null&&Lp(Lo)&&(Lo=null),Cf.forEach(j5),Mf.forEach(j5)}function Cc(n,e){n.blockedOn===e&&(n.blockedOn=null,S2||(S2=!0,Ki.unstable_scheduleCallback(Ki.unstable_NormalPriority,yA)))}function Sf(n){function e(r){return Cc(r,n)}if(0<Ah.length){Cc(Ah[0],n);for(var t=1;t<Ah.length;t++){var i=Ah[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Ro!==null&&Cc(Ro,n),Po!==null&&Cc(Po,n),Lo!==null&&Cc(Lo,n),Cf.forEach(e),Mf.forEach(e),t=0;t<Ao.length;t++)i=Ao[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Ao.length&&(t=Ao[0],t.blockedOn===null);)Z7(t),t.blockedOn===null&&Ao.shift()}var au=Qs.ReactCurrentBatchConfig,nm=!0;function xA(n,e,t,i){var r=Ht,s=au.transition;au.transition=null;try{Ht=1,uv(n,e,t,i)}finally{Ht=r,au.transition=s}}function _A(n,e,t,i){var r=Ht,s=au.transition;au.transition=null;try{Ht=4,uv(n,e,t,i)}finally{Ht=r,au.transition=s}}function uv(n,e,t,i){if(nm){var r=w2(n,e,t,i);if(r===null)W1(n,e,i,im,t),X5(n,i);else if(vA(r,n,e,t,i))i.stopPropagation();else if(X5(n,i),e&4&&-1<gA.indexOf(n)){for(;r!==null;){var s=nd(r);if(s!==null&&J7(s),s=w2(n,e,t,i),s===null&&W1(n,e,i,im,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else W1(n,e,i,null,t)}}var im=null;function w2(n,e,t,i){if(im=null,n=sv(i),n=Ea(n),n!==null)if(e=Qa(n),e===null)n=null;else if(t=e.tag,t===13){if(n=N7(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return im=n,null}function Y7(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aA()){case ov:return 1;case G7:return 4;case em:case lA:return 16;case H7:return 536870912;default:return 16}default:return 16}}var To=null,cv=null,Ip=null;function Q7(){if(Ip)return Ip;var n,e=cv,t=e.length,i,r="value"in To?To.value:To.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Ip=r.slice(n,1<i?1-i:void 0)}function Dp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Eh(){return!0}function K5(){return!1}function qi(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Eh:K5,this.isPropagationStopped=K5,this}return fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Eh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Eh)},persist:function(){},isPersistent:Eh}),e}var Fu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fv=qi(Fu),td=fn({},Fu,{view:0,detail:0}),CA=qi(td),F1,k1,Mc,Dm=fn({},td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dv,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Mc&&(Mc&&n.type==="mousemove"?(F1=n.screenX-Mc.screenX,k1=n.screenY-Mc.screenY):k1=F1=0,Mc=n),F1)},movementY:function(n){return"movementY"in n?n.movementY:k1}}),Z5=qi(Dm),MA=fn({},Dm,{dataTransfer:0}),SA=qi(MA),wA=fn({},td,{relatedTarget:0}),N1=qi(wA),AA=fn({},Fu,{animationName:0,elapsedTime:0,pseudoElement:0}),EA=qi(AA),TA=fn({},Fu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),bA=qi(TA),BA=fn({},Fu,{data:0}),Y5=qi(BA),RA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IA(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=LA[n])?!!e[n]:!1}function dv(){return IA}var DA=fn({},td,{key:function(n){if(n.key){var e=RA[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Dp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?PA[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dv,charCode:function(n){return n.type==="keypress"?Dp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Dp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),FA=qi(DA),kA=fn({},Dm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q5=qi(kA),NA=fn({},td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dv}),OA=qi(NA),UA=fn({},Fu,{propertyName:0,elapsedTime:0,pseudoElement:0}),zA=qi(UA),GA=fn({},Dm,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),HA=qi(GA),VA=[9,13,27,32],hv=Ws&&"CompositionEvent"in window,rf=null;Ws&&"documentMode"in document&&(rf=document.documentMode);var WA=Ws&&"TextEvent"in window&&!rf,q7=Ws&&(!hv||rf&&8<rf&&11>=rf),q5=String.fromCharCode(32),$5=!1;function $7(n,e){switch(n){case"keyup":return VA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ex(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Vl=!1;function JA(n,e){switch(n){case"compositionend":return ex(e);case"keypress":return e.which!==32?null:($5=!0,q5);case"textInput":return n=e.data,n===q5&&$5?null:n;default:return null}}function XA(n,e){if(Vl)return n==="compositionend"||!hv&&$7(n,e)?(n=Q7(),Ip=cv=To=null,Vl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q7&&e.locale!=="ko"?null:e.data;default:return null}}var jA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e6(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!jA[n.type]:e==="textarea"}function tx(n,e,t,i){L7(i),e=rm(e,"onChange"),0<e.length&&(t=new fv("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var sf=null,wf=null;function KA(n){dx(n,0)}function Fm(n){var e=Xl(n);if(A7(e))return n}function ZA(n,e){if(n==="change")return e}var nx=!1;if(Ws){var O1;if(Ws){var U1="oninput"in document;if(!U1){var t6=document.createElement("div");t6.setAttribute("oninput","return;"),U1=typeof t6.oninput=="function"}O1=U1}else O1=!1;nx=O1&&(!document.documentMode||9<document.documentMode)}function n6(){sf&&(sf.detachEvent("onpropertychange",ix),wf=sf=null)}function ix(n){if(n.propertyName==="value"&&Fm(wf)){var e=[];tx(e,wf,n,sv(n)),k7(KA,e)}}function YA(n,e,t){n==="focusin"?(n6(),sf=e,wf=t,sf.attachEvent("onpropertychange",ix)):n==="focusout"&&n6()}function QA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fm(wf)}function qA(n,e){if(n==="click")return Fm(e)}function $A(n,e){if(n==="input"||n==="change")return Fm(e)}function eE(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Hr=typeof Object.is=="function"?Object.is:eE;function Af(n,e){if(Hr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!o2.call(e,r)||!Hr(n[r],e[r]))return!1}return!0}function i6(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function r6(n,e){var t=i6(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=i6(t)}}function rx(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?rx(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function sx(){for(var n=window,e=Qp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Qp(n.document)}return e}function pv(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function tE(n){var e=sx(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&rx(t.ownerDocument.documentElement,t)){if(i!==null&&pv(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=r6(t,s);var o=r6(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nE=Ws&&"documentMode"in document&&11>=document.documentMode,Wl=null,A2=null,of=null,E2=!1;function s6(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;E2||Wl==null||Wl!==Qp(i)||(i=Wl,"selectionStart"in i&&pv(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),of&&Af(of,i)||(of=i,i=rm(A2,"onSelect"),0<i.length&&(e=new fv("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Wl)))}function Th(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Jl={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},z1={},ox={};Ws&&(ox=document.createElement("div").style,"AnimationEvent"in window||(delete Jl.animationend.animation,delete Jl.animationiteration.animation,delete Jl.animationstart.animation),"TransitionEvent"in window||delete Jl.transitionend.transition);function km(n){if(z1[n])return z1[n];if(!Jl[n])return n;var e=Jl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in ox)return z1[n]=e[t];return n}var ax=km("animationend"),lx=km("animationiteration"),ux=km("animationstart"),cx=km("transitionend"),fx=new Map,o6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(n,e){fx.set(n,e),Ya(e,[n])}for(var G1=0;G1<o6.length;G1++){var H1=o6[G1],iE=H1.toLowerCase(),rE=H1[0].toUpperCase()+H1.slice(1);Ko(iE,"on"+rE)}Ko(ax,"onAnimationEnd");Ko(lx,"onAnimationIteration");Ko(ux,"onAnimationStart");Ko("dblclick","onDoubleClick");Ko("focusin","onFocus");Ko("focusout","onBlur");Ko(cx,"onTransitionEnd");hu("onMouseEnter",["mouseout","mouseover"]);hu("onMouseLeave",["mouseout","mouseover"]);hu("onPointerEnter",["pointerout","pointerover"]);hu("onPointerLeave",["pointerout","pointerover"]);Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yc));function a6(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,iA(i,e,void 0,n),n.currentTarget=null}function dx(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,f=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;a6(r,a,f),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,f=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;a6(r,a,f),s=l}}}if($p)throw n=C2,$p=!1,C2=null,n}function Qt(n,e){var t=e[P2];t===void 0&&(t=e[P2]=new Set);var i=n+"__bubble";t.has(i)||(hx(e,n,2,!1),t.add(i))}function V1(n,e,t){var i=0;e&&(i|=4),hx(t,n,i,e)}var bh="_reactListening"+Math.random().toString(36).slice(2);function Ef(n){if(!n[bh]){n[bh]=!0,_7.forEach(function(t){t!=="selectionchange"&&(sE.has(t)||V1(t,!1,n),V1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[bh]||(e[bh]=!0,V1("selectionchange",!1,e))}}function hx(n,e,t,i){switch(Y7(e)){case 1:var r=xA;break;case 4:r=_A;break;default:r=uv}t=r.bind(null,e,t,n),r=void 0,!_2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function W1(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ea(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}k7(function(){var f=s,d=sv(t),p=[];e:{var h=fx.get(n);if(h!==void 0){var g=fv,v=n;switch(n){case"keypress":if(Dp(t)===0)break e;case"keydown":case"keyup":g=FA;break;case"focusin":v="focus",g=N1;break;case"focusout":v="blur",g=N1;break;case"beforeblur":case"afterblur":g=N1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Z5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=SA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=OA;break;case ax:case lx:case ux:g=EA;break;case cx:g=zA;break;case"scroll":g=CA;break;case"wheel":g=HA;break;case"copy":case"cut":case"paste":g=bA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Q5}var y=(e&4)!==0,x=!y&&n==="scroll",_=y?h!==null?h+"Capture":null:h;y=[];for(var C=f,S;C!==null;){S=C;var w=S.stateNode;if(S.tag===5&&w!==null&&(S=w,_!==null&&(w=_f(C,_),w!=null&&y.push(Tf(C,w,S)))),x)break;C=C.return}0<y.length&&(h=new g(h,v,null,t,d),p.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",h&&t!==y2&&(v=t.relatedTarget||t.fromElement)&&(Ea(v)||v[Js]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=t.relatedTarget||t.toElement,g=f,v=v?Ea(v):null,v!==null&&(x=Qa(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=f),g!==v)){if(y=Z5,w="onMouseLeave",_="onMouseEnter",C="mouse",(n==="pointerout"||n==="pointerover")&&(y=Q5,w="onPointerLeave",_="onPointerEnter",C="pointer"),x=g==null?h:Xl(g),S=v==null?h:Xl(v),h=new y(w,C+"leave",g,t,d),h.target=x,h.relatedTarget=S,w=null,Ea(d)===f&&(y=new y(_,C+"enter",v,t,d),y.target=S,y.relatedTarget=x,w=y),x=w,g&&v)t:{for(y=g,_=v,C=0,S=y;S;S=xl(S))C++;for(S=0,w=_;w;w=xl(w))S++;for(;0<C-S;)y=xl(y),C--;for(;0<S-C;)_=xl(_),S--;for(;C--;){if(y===_||_!==null&&y===_.alternate)break t;y=xl(y),_=xl(_)}y=null}else y=null;g!==null&&l6(p,h,g,y,!1),v!==null&&x!==null&&l6(p,x,v,y,!0)}}e:{if(h=f?Xl(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var T=ZA;else if(e6(h))if(nx)T=$A;else{T=QA;var B=YA}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=qA);if(T&&(T=T(n,f))){tx(p,T,t,d);break e}B&&B(n,h,f),n==="focusout"&&(B=h._wrapperState)&&B.controlled&&h.type==="number"&&h2(h,"number",h.value)}switch(B=f?Xl(f):window,n){case"focusin":(e6(B)||B.contentEditable==="true")&&(Wl=B,A2=f,of=null);break;case"focusout":of=A2=Wl=null;break;case"mousedown":E2=!0;break;case"contextmenu":case"mouseup":case"dragend":E2=!1,s6(p,t,d);break;case"selectionchange":if(nE)break;case"keydown":case"keyup":s6(p,t,d)}var R;if(hv)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Vl?$7(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(q7&&t.locale!=="ko"&&(Vl||E!=="onCompositionStart"?E==="onCompositionEnd"&&Vl&&(R=Q7()):(To=d,cv="value"in To?To.value:To.textContent,Vl=!0)),B=rm(f,E),0<B.length&&(E=new Y5(E,n,null,t,d),p.push({event:E,listeners:B}),R?E.data=R:(R=ex(t),R!==null&&(E.data=R)))),(R=WA?JA(n,t):XA(n,t))&&(f=rm(f,"onBeforeInput"),0<f.length&&(d=new Y5("onBeforeInput","beforeinput",null,t,d),p.push({event:d,listeners:f}),d.data=R))}dx(p,e)})}function Tf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function rm(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=_f(n,t),s!=null&&i.unshift(Tf(n,s,r)),s=_f(n,e),s!=null&&i.push(Tf(n,s,r))),n=n.return}return i}function xl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function l6(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,f=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&f!==null&&(a=f,r?(l=_f(t,s),l!=null&&o.unshift(Tf(t,l,a))):r||(l=_f(t,s),l!=null&&o.push(Tf(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var oE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function u6(n){return(typeof n=="string"?n:""+n).replace(oE,`
`).replace(aE,"")}function Bh(n,e,t){if(e=u6(e),u6(n)!==e&&t)throw Error(Pe(425))}function sm(){}var T2=null,b2=null;function B2(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var R2=typeof setTimeout=="function"?setTimeout:void 0,lE=typeof clearTimeout=="function"?clearTimeout:void 0,c6=typeof Promise=="function"?Promise:void 0,uE=typeof queueMicrotask=="function"?queueMicrotask:typeof c6<"u"?function(n){return c6.resolve(null).then(n).catch(cE)}:R2;function cE(n){setTimeout(function(){throw n})}function J1(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Sf(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Sf(e)}function Io(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function f6(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ku=Math.random().toString(36).slice(2),is="__reactFiber$"+ku,bf="__reactProps$"+ku,Js="__reactContainer$"+ku,P2="__reactEvents$"+ku,fE="__reactListeners$"+ku,dE="__reactHandles$"+ku;function Ea(n){var e=n[is];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Js]||t[is]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=f6(n);n!==null;){if(t=n[is])return t;n=f6(n)}return e}n=t,t=n.parentNode}return null}function nd(n){return n=n[is]||n[Js],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Xl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Pe(33))}function Nm(n){return n[bf]||null}var L2=[],jl=-1;function Zo(n){return{current:n}}function qt(n){0>jl||(n.current=L2[jl],L2[jl]=null,jl--)}function Zt(n,e){jl++,L2[jl]=n.current,n.current=e}var Ho={},li=Zo(Ho),Pi=Zo(!1),Ha=Ho;function pu(n,e){var t=n.type.contextTypes;if(!t)return Ho;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Li(n){return n=n.childContextTypes,n!=null}function om(){qt(Pi),qt(li)}function d6(n,e,t){if(li.current!==Ho)throw Error(Pe(168));Zt(li,e),Zt(Pi,t)}function px(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Pe(108,Yw(n)||"Unknown",r));return fn({},t,i)}function am(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ho,Ha=li.current,Zt(li,n),Zt(Pi,Pi.current),!0}function h6(n,e,t){var i=n.stateNode;if(!i)throw Error(Pe(169));t?(n=px(n,e,Ha),i.__reactInternalMemoizedMergedChildContext=n,qt(Pi),qt(li),Zt(li,n)):qt(Pi),Zt(Pi,t)}var Ls=null,Om=!1,X1=!1;function mx(n){Ls===null?Ls=[n]:Ls.push(n)}function hE(n){Om=!0,mx(n)}function Yo(){if(!X1&&Ls!==null){X1=!0;var n=0,e=Ht;try{var t=Ls;for(Ht=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Ls=null,Om=!1}catch(r){throw Ls!==null&&(Ls=Ls.slice(n+1)),z7(ov,Yo),r}finally{Ht=e,X1=!1}}return null}var Kl=[],Zl=0,lm=null,um=0,pr=[],mr=0,Va=null,Fs=1,ks="";function _a(n,e){Kl[Zl++]=um,Kl[Zl++]=lm,lm=n,um=e}function gx(n,e,t){pr[mr++]=Fs,pr[mr++]=ks,pr[mr++]=Va,Va=n;var i=Fs;n=ks;var r=32-Or(i)-1;i&=~(1<<r),t+=1;var s=32-Or(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Fs=1<<32-Or(e)+r|t<<r|i,ks=s+n}else Fs=1<<s|t<<r|i,ks=n}function mv(n){n.return!==null&&(_a(n,1),gx(n,1,0))}function gv(n){for(;n===lm;)lm=Kl[--Zl],Kl[Zl]=null,um=Kl[--Zl],Kl[Zl]=null;for(;n===Va;)Va=pr[--mr],pr[mr]=null,ks=pr[--mr],pr[mr]=null,Fs=pr[--mr],pr[mr]=null}var Xi=null,Vi=null,nn=!1,Fr=null;function vx(n,e){var t=yr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function p6(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Xi=n,Vi=Io(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Xi=n,Vi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Va!==null?{id:Fs,overflow:ks}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=yr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Xi=n,Vi=null,!0):!1;default:return!1}}function I2(n){return(n.mode&1)!==0&&(n.flags&128)===0}function D2(n){if(nn){var e=Vi;if(e){var t=e;if(!p6(n,e)){if(I2(n))throw Error(Pe(418));e=Io(t.nextSibling);var i=Xi;e&&p6(n,e)?vx(i,t):(n.flags=n.flags&-4097|2,nn=!1,Xi=n)}}else{if(I2(n))throw Error(Pe(418));n.flags=n.flags&-4097|2,nn=!1,Xi=n}}}function m6(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Xi=n}function Rh(n){if(n!==Xi)return!1;if(!nn)return m6(n),nn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!B2(n.type,n.memoizedProps)),e&&(e=Vi)){if(I2(n))throw yx(),Error(Pe(418));for(;e;)vx(n,e),e=Io(e.nextSibling)}if(m6(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Pe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Vi=Io(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Vi=null}}else Vi=Xi?Io(n.stateNode.nextSibling):null;return!0}function yx(){for(var n=Vi;n;)n=Io(n.nextSibling)}function mu(){Vi=Xi=null,nn=!1}function vv(n){Fr===null?Fr=[n]:Fr.push(n)}var pE=Qs.ReactCurrentBatchConfig;function Lr(n,e){if(n&&n.defaultProps){e=fn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var cm=Zo(null),fm=null,Yl=null,yv=null;function xv(){yv=Yl=fm=null}function _v(n){var e=cm.current;qt(cm),n._currentValue=e}function F2(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function lu(n,e){fm=n,yv=Yl=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ri=!0),n.firstContext=null)}function Cr(n){var e=n._currentValue;if(yv!==n)if(n={context:n,memoizedValue:e,next:null},Yl===null){if(fm===null)throw Error(Pe(308));Yl=n,fm.dependencies={lanes:0,firstContext:n}}else Yl=Yl.next=n;return e}var Ta=null;function Cv(n){Ta===null?Ta=[n]:Ta.push(n)}function xx(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Cv(e)):(t.next=r.next,r.next=t),e.interleaved=t,Xs(n,i)}function Xs(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var So=!1;function Mv(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _x(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Gs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Do(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Rt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Xs(n,t)}return r=i.interleaved,r===null?(e.next=e,Cv(i)):(e.next=r.next,r.next=e),i.interleaved=e,Xs(n,t)}function Fp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,av(n,t)}}function g6(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function dm(n,e,t,i){var r=n.updateQueue;So=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,f=l.next;l.next=null,o===null?s=f:o.next=f,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=f:a.next=f,d.lastBaseUpdate=l))}if(s!==null){var p=r.baseState;o=0,d=f=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((i&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(h=e,g=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){p=v.call(g,p,h);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(g,p,h):v,h==null)break e;p=fn({},p,h);break e;case 2:So=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(f=d=g,l=p):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(d===null&&(l=p),r.baseState=l,r.firstBaseUpdate=f,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Ja|=o,n.lanes=o,n.memoizedState=p}}function v6(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Pe(191,r));r.call(i)}}}var Cx=new x7.Component().refs;function k2(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:fn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Um={isMounted:function(n){return(n=n._reactInternals)?Qa(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=vi(),r=ko(n),s=Gs(i,r);s.payload=e,t!=null&&(s.callback=t),e=Do(n,s,r),e!==null&&(Ur(e,n,r,i),Fp(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=vi(),r=ko(n),s=Gs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Do(n,s,r),e!==null&&(Ur(e,n,r,i),Fp(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=vi(),i=ko(n),r=Gs(t,i);r.tag=2,e!=null&&(r.callback=e),e=Do(n,r,i),e!==null&&(Ur(e,n,i,t),Fp(e,n,i))}};function y6(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Af(t,i)||!Af(r,s):!0}function Mx(n,e,t){var i=!1,r=Ho,s=e.contextType;return typeof s=="object"&&s!==null?s=Cr(s):(r=Li(e)?Ha:li.current,i=e.contextTypes,s=(i=i!=null)?pu(n,r):Ho),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Um,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function x6(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Um.enqueueReplaceState(e,e.state,null)}function N2(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=Cx,Mv(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Cr(s):(s=Li(e)?Ha:li.current,r.context=pu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(k2(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Um.enqueueReplaceState(r,r.state,null),dm(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Sc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Pe(309));var i=t.stateNode}if(!i)throw Error(Pe(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===Cx&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Pe(284));if(!t._owner)throw Error(Pe(290,n))}return n}function Ph(n,e){throw n=Object.prototype.toString.call(e),Error(Pe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function _6(n){var e=n._init;return e(n._payload)}function Sx(n){function e(_,C){if(n){var S=_.deletions;S===null?(_.deletions=[C],_.flags|=16):S.push(C)}}function t(_,C){if(!n)return null;for(;C!==null;)e(_,C),C=C.sibling;return null}function i(_,C){for(_=new Map;C!==null;)C.key!==null?_.set(C.key,C):_.set(C.index,C),C=C.sibling;return _}function r(_,C){return _=No(_,C),_.index=0,_.sibling=null,_}function s(_,C,S){return _.index=S,n?(S=_.alternate,S!==null?(S=S.index,S<C?(_.flags|=2,C):S):(_.flags|=2,C)):(_.flags|=1048576,C)}function o(_){return n&&_.alternate===null&&(_.flags|=2),_}function a(_,C,S,w){return C===null||C.tag!==6?(C=$1(S,_.mode,w),C.return=_,C):(C=r(C,S),C.return=_,C)}function l(_,C,S,w){var T=S.type;return T===Hl?d(_,C,S.props.children,w,S.key):C!==null&&(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Mo&&_6(T)===C.type)?(w=r(C,S.props),w.ref=Sc(_,C,S),w.return=_,w):(w=Gp(S.type,S.key,S.props,null,_.mode,w),w.ref=Sc(_,C,S),w.return=_,w)}function f(_,C,S,w){return C===null||C.tag!==4||C.stateNode.containerInfo!==S.containerInfo||C.stateNode.implementation!==S.implementation?(C=eg(S,_.mode,w),C.return=_,C):(C=r(C,S.children||[]),C.return=_,C)}function d(_,C,S,w,T){return C===null||C.tag!==7?(C=ka(S,_.mode,w,T),C.return=_,C):(C=r(C,S),C.return=_,C)}function p(_,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return C=$1(""+C,_.mode,S),C.return=_,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _h:return S=Gp(C.type,C.key,C.props,null,_.mode,S),S.ref=Sc(_,null,C),S.return=_,S;case Gl:return C=eg(C,_.mode,S),C.return=_,C;case Mo:var w=C._init;return p(_,w(C._payload),S)}if(Kc(C)||yc(C))return C=ka(C,_.mode,S,null),C.return=_,C;Ph(_,C)}return null}function h(_,C,S,w){var T=C!==null?C.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(_,C,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _h:return S.key===T?l(_,C,S,w):null;case Gl:return S.key===T?f(_,C,S,w):null;case Mo:return T=S._init,h(_,C,T(S._payload),w)}if(Kc(S)||yc(S))return T!==null?null:d(_,C,S,w,null);Ph(_,S)}return null}function g(_,C,S,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return _=_.get(S)||null,a(C,_,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _h:return _=_.get(w.key===null?S:w.key)||null,l(C,_,w,T);case Gl:return _=_.get(w.key===null?S:w.key)||null,f(C,_,w,T);case Mo:var B=w._init;return g(_,C,S,B(w._payload),T)}if(Kc(w)||yc(w))return _=_.get(S)||null,d(C,_,w,T,null);Ph(C,w)}return null}function v(_,C,S,w){for(var T=null,B=null,R=C,E=C=0,P=null;R!==null&&E<S.length;E++){R.index>E?(P=R,R=null):P=R.sibling;var I=h(_,R,S[E],w);if(I===null){R===null&&(R=P);break}n&&R&&I.alternate===null&&e(_,R),C=s(I,C,E),B===null?T=I:B.sibling=I,B=I,R=P}if(E===S.length)return t(_,R),nn&&_a(_,E),T;if(R===null){for(;E<S.length;E++)R=p(_,S[E],w),R!==null&&(C=s(R,C,E),B===null?T=R:B.sibling=R,B=R);return nn&&_a(_,E),T}for(R=i(_,R);E<S.length;E++)P=g(R,_,E,S[E],w),P!==null&&(n&&P.alternate!==null&&R.delete(P.key===null?E:P.key),C=s(P,C,E),B===null?T=P:B.sibling=P,B=P);return n&&R.forEach(function(G){return e(_,G)}),nn&&_a(_,E),T}function y(_,C,S,w){var T=yc(S);if(typeof T!="function")throw Error(Pe(150));if(S=T.call(S),S==null)throw Error(Pe(151));for(var B=T=null,R=C,E=C=0,P=null,I=S.next();R!==null&&!I.done;E++,I=S.next()){R.index>E?(P=R,R=null):P=R.sibling;var G=h(_,R,I.value,w);if(G===null){R===null&&(R=P);break}n&&R&&G.alternate===null&&e(_,R),C=s(G,C,E),B===null?T=G:B.sibling=G,B=G,R=P}if(I.done)return t(_,R),nn&&_a(_,E),T;if(R===null){for(;!I.done;E++,I=S.next())I=p(_,I.value,w),I!==null&&(C=s(I,C,E),B===null?T=I:B.sibling=I,B=I);return nn&&_a(_,E),T}for(R=i(_,R);!I.done;E++,I=S.next())I=g(R,_,E,I.value,w),I!==null&&(n&&I.alternate!==null&&R.delete(I.key===null?E:I.key),C=s(I,C,E),B===null?T=I:B.sibling=I,B=I);return n&&R.forEach(function(ie){return e(_,ie)}),nn&&_a(_,E),T}function x(_,C,S,w){if(typeof S=="object"&&S!==null&&S.type===Hl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case _h:e:{for(var T=S.key,B=C;B!==null;){if(B.key===T){if(T=S.type,T===Hl){if(B.tag===7){t(_,B.sibling),C=r(B,S.props.children),C.return=_,_=C;break e}}else if(B.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Mo&&_6(T)===B.type){t(_,B.sibling),C=r(B,S.props),C.ref=Sc(_,B,S),C.return=_,_=C;break e}t(_,B);break}else e(_,B);B=B.sibling}S.type===Hl?(C=ka(S.props.children,_.mode,w,S.key),C.return=_,_=C):(w=Gp(S.type,S.key,S.props,null,_.mode,w),w.ref=Sc(_,C,S),w.return=_,_=w)}return o(_);case Gl:e:{for(B=S.key;C!==null;){if(C.key===B)if(C.tag===4&&C.stateNode.containerInfo===S.containerInfo&&C.stateNode.implementation===S.implementation){t(_,C.sibling),C=r(C,S.children||[]),C.return=_,_=C;break e}else{t(_,C);break}else e(_,C);C=C.sibling}C=eg(S,_.mode,w),C.return=_,_=C}return o(_);case Mo:return B=S._init,x(_,C,B(S._payload),w)}if(Kc(S))return v(_,C,S,w);if(yc(S))return y(_,C,S,w);Ph(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,C!==null&&C.tag===6?(t(_,C.sibling),C=r(C,S),C.return=_,_=C):(t(_,C),C=$1(S,_.mode,w),C.return=_,_=C),o(_)):t(_,C)}return x}var gu=Sx(!0),wx=Sx(!1),id={},os=Zo(id),Bf=Zo(id),Rf=Zo(id);function ba(n){if(n===id)throw Error(Pe(174));return n}function Sv(n,e){switch(Zt(Rf,e),Zt(Bf,n),Zt(os,id),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:m2(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=m2(e,n)}qt(os),Zt(os,e)}function vu(){qt(os),qt(Bf),qt(Rf)}function Ax(n){ba(Rf.current);var e=ba(os.current),t=m2(e,n.type);e!==t&&(Zt(Bf,n),Zt(os,t))}function wv(n){Bf.current===n&&(qt(os),qt(Bf))}var ln=Zo(0);function hm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var j1=[];function Av(){for(var n=0;n<j1.length;n++)j1[n]._workInProgressVersionPrimary=null;j1.length=0}var kp=Qs.ReactCurrentDispatcher,K1=Qs.ReactCurrentBatchConfig,Wa=0,cn=null,In=null,Hn=null,pm=!1,af=!1,Pf=0,mE=0;function ii(){throw Error(Pe(321))}function Ev(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Hr(n[t],e[t]))return!1;return!0}function Tv(n,e,t,i,r,s){if(Wa=s,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kp.current=n===null||n.memoizedState===null?xE:_E,n=t(i,r),af){s=0;do{if(af=!1,Pf=0,25<=s)throw Error(Pe(301));s+=1,Hn=In=null,e.updateQueue=null,kp.current=CE,n=t(i,r)}while(af)}if(kp.current=mm,e=In!==null&&In.next!==null,Wa=0,Hn=In=cn=null,pm=!1,e)throw Error(Pe(300));return n}function bv(){var n=Pf!==0;return Pf=0,n}function ns(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?cn.memoizedState=Hn=n:Hn=Hn.next=n,Hn}function Mr(){if(In===null){var n=cn.alternate;n=n!==null?n.memoizedState:null}else n=In.next;var e=Hn===null?cn.memoizedState:Hn.next;if(e!==null)Hn=e,In=n;else{if(n===null)throw Error(Pe(310));In=n,n={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Hn===null?cn.memoizedState=Hn=n:Hn=Hn.next=n}return Hn}function Lf(n,e){return typeof e=="function"?e(n):e}function Z1(n){var e=Mr(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=n;var i=In,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,f=s;do{var d=f.lane;if((Wa&d)===d)l!==null&&(l=l.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:n(i,f.action);else{var p={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};l===null?(a=l=p,o=i):l=l.next=p,cn.lanes|=d,Ja|=d}f=f.next}while(f!==null&&f!==s);l===null?o=i:l.next=a,Hr(i,e.memoizedState)||(Ri=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,cn.lanes|=s,Ja|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Y1(n){var e=Mr(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Hr(s,e.memoizedState)||(Ri=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function Ex(){}function Tx(n,e){var t=cn,i=Mr(),r=e(),s=!Hr(i.memoizedState,r);if(s&&(i.memoizedState=r,Ri=!0),i=i.queue,Bv(Rx.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Hn!==null&&Hn.memoizedState.tag&1){if(t.flags|=2048,If(9,Bx.bind(null,t,i,r,e),void 0,null),Vn===null)throw Error(Pe(349));Wa&30||bx(t,e,r)}return r}function bx(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Bx(n,e,t,i){e.value=t,e.getSnapshot=i,Px(e)&&Lx(n)}function Rx(n,e,t){return t(function(){Px(e)&&Lx(n)})}function Px(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Hr(n,t)}catch{return!0}}function Lx(n){var e=Xs(n,1);e!==null&&Ur(e,n,1,-1)}function C6(n){var e=ns();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:n},e.queue=n,n=n.dispatch=yE.bind(null,cn,n),[e.memoizedState,n]}function If(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Ix(){return Mr().memoizedState}function Np(n,e,t,i){var r=ns();cn.flags|=n,r.memoizedState=If(1|e,t,void 0,i===void 0?null:i)}function zm(n,e,t,i){var r=Mr();i=i===void 0?null:i;var s=void 0;if(In!==null){var o=In.memoizedState;if(s=o.destroy,i!==null&&Ev(i,o.deps)){r.memoizedState=If(e,t,s,i);return}}cn.flags|=n,r.memoizedState=If(1|e,t,s,i)}function M6(n,e){return Np(8390656,8,n,e)}function Bv(n,e){return zm(2048,8,n,e)}function Dx(n,e){return zm(4,2,n,e)}function Fx(n,e){return zm(4,4,n,e)}function kx(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Nx(n,e,t){return t=t!=null?t.concat([n]):null,zm(4,4,kx.bind(null,e,n),t)}function Rv(){}function Ox(n,e){var t=Mr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Ev(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Ux(n,e){var t=Mr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Ev(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function zx(n,e,t){return Wa&21?(Hr(t,e)||(t=V7(),cn.lanes|=t,Ja|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ri=!0),n.memoizedState=t)}function gE(n,e){var t=Ht;Ht=t!==0&&4>t?t:4,n(!0);var i=K1.transition;K1.transition={};try{n(!1),e()}finally{Ht=t,K1.transition=i}}function Gx(){return Mr().memoizedState}function vE(n,e,t){var i=ko(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},Hx(n))Vx(e,t);else if(t=xx(n,e,t,i),t!==null){var r=vi();Ur(t,n,i,r),Wx(t,e,i)}}function yE(n,e,t){var i=ko(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(Hx(n))Vx(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Hr(a,o)){var l=e.interleaved;l===null?(r.next=r,Cv(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=xx(n,e,r,i),t!==null&&(r=vi(),Ur(t,n,i,r),Wx(t,e,i))}}function Hx(n){var e=n.alternate;return n===cn||e!==null&&e===cn}function Vx(n,e){af=pm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Wx(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,av(n,t)}}var mm={readContext:Cr,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useInsertionEffect:ii,useLayoutEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useMutableSource:ii,useSyncExternalStore:ii,useId:ii,unstable_isNewReconciler:!1},xE={readContext:Cr,useCallback:function(n,e){return ns().memoizedState=[n,e===void 0?null:e],n},useContext:Cr,useEffect:M6,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Np(4194308,4,kx.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Np(4194308,4,n,e)},useInsertionEffect:function(n,e){return Np(4,2,n,e)},useMemo:function(n,e){var t=ns();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=ns();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=vE.bind(null,cn,n),[i.memoizedState,n]},useRef:function(n){var e=ns();return n={current:n},e.memoizedState=n},useState:C6,useDebugValue:Rv,useDeferredValue:function(n){return ns().memoizedState=n},useTransition:function(){var n=C6(!1),e=n[0];return n=gE.bind(null,n[1]),ns().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=cn,r=ns();if(nn){if(t===void 0)throw Error(Pe(407));t=t()}else{if(t=e(),Vn===null)throw Error(Pe(349));Wa&30||bx(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,M6(Rx.bind(null,i,s,n),[n]),i.flags|=2048,If(9,Bx.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=ns(),e=Vn.identifierPrefix;if(nn){var t=ks,i=Fs;t=(i&~(1<<32-Or(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Pf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=mE++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},_E={readContext:Cr,useCallback:Ox,useContext:Cr,useEffect:Bv,useImperativeHandle:Nx,useInsertionEffect:Dx,useLayoutEffect:Fx,useMemo:Ux,useReducer:Z1,useRef:Ix,useState:function(){return Z1(Lf)},useDebugValue:Rv,useDeferredValue:function(n){var e=Mr();return zx(e,In.memoizedState,n)},useTransition:function(){var n=Z1(Lf)[0],e=Mr().memoizedState;return[n,e]},useMutableSource:Ex,useSyncExternalStore:Tx,useId:Gx,unstable_isNewReconciler:!1},CE={readContext:Cr,useCallback:Ox,useContext:Cr,useEffect:Bv,useImperativeHandle:Nx,useInsertionEffect:Dx,useLayoutEffect:Fx,useMemo:Ux,useReducer:Y1,useRef:Ix,useState:function(){return Y1(Lf)},useDebugValue:Rv,useDeferredValue:function(n){var e=Mr();return In===null?e.memoizedState=n:zx(e,In.memoizedState,n)},useTransition:function(){var n=Y1(Lf)[0],e=Mr().memoizedState;return[n,e]},useMutableSource:Ex,useSyncExternalStore:Tx,useId:Gx,unstable_isNewReconciler:!1};function yu(n,e){try{var t="",i=e;do t+=Zw(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Q1(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function O2(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var ME=typeof WeakMap=="function"?WeakMap:Map;function Jx(n,e,t){t=Gs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){vm||(vm=!0,K2=i),O2(n,e)},t}function Xx(n,e,t){t=Gs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){O2(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){O2(n,e),typeof i!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function S6(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new ME;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=kE.bind(null,n,e,t),e.then(n,n))}function w6(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function A6(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Gs(-1,1),e.tag=2,Do(t,e,1))),t.lanes|=1),n)}var SE=Qs.ReactCurrentOwner,Ri=!1;function mi(n,e,t,i){e.child=n===null?wx(e,null,t,i):gu(e,n.child,t,i)}function E6(n,e,t,i,r){t=t.render;var s=e.ref;return lu(e,r),i=Tv(n,e,t,i,s,r),t=bv(),n!==null&&!Ri?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,js(n,e,r)):(nn&&t&&mv(e),e.flags|=1,mi(n,e,i,r),e.child)}function T6(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!Ov(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,jx(n,e,s,i,r)):(n=Gp(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Af,t(o,i)&&n.ref===e.ref)return js(n,e,r)}return e.flags|=1,n=No(s,i),n.ref=e.ref,n.return=e,e.child=n}function jx(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Af(s,i)&&n.ref===e.ref)if(Ri=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ri=!0);else return e.lanes=n.lanes,js(n,e,r)}return U2(n,e,t,i,r)}function Kx(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(ql,Gi),Gi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Zt(ql,Gi),Gi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Zt(ql,Gi),Gi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Zt(ql,Gi),Gi|=i;return mi(n,e,r,t),e.child}function Zx(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function U2(n,e,t,i,r){var s=Li(t)?Ha:li.current;return s=pu(e,s),lu(e,r),t=Tv(n,e,t,i,s,r),i=bv(),n!==null&&!Ri?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,js(n,e,r)):(nn&&i&&mv(e),e.flags|=1,mi(n,e,t,r),e.child)}function b6(n,e,t,i,r){if(Li(t)){var s=!0;am(e)}else s=!1;if(lu(e,r),e.stateNode===null)Op(n,e),Mx(e,t,i),N2(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,f=t.contextType;typeof f=="object"&&f!==null?f=Cr(f):(f=Li(t)?Ha:li.current,f=pu(e,f));var d=t.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==f)&&x6(e,o,i,f),So=!1;var h=e.memoizedState;o.state=h,dm(e,i,o,r),l=e.memoizedState,a!==i||h!==l||Pi.current||So?(typeof d=="function"&&(k2(e,t,d,i),l=e.memoizedState),(a=So||y6(e,t,a,i,h,l,f))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=f,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,_x(n,e),a=e.memoizedProps,f=e.type===e.elementType?a:Lr(e.type,a),o.props=f,p=e.pendingProps,h=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Cr(l):(l=Li(t)?Ha:li.current,l=pu(e,l));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==l)&&x6(e,o,i,l),So=!1,h=e.memoizedState,o.state=h,dm(e,i,o,r);var v=e.memoizedState;a!==p||h!==v||Pi.current||So?(typeof g=="function"&&(k2(e,t,g,i),v=e.memoizedState),(f=So||y6(e,t,f,i,h,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=f):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return z2(n,e,t,i,s,r)}function z2(n,e,t,i,r,s){Zx(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&h6(e,t,!1),js(n,e,s);i=e.stateNode,SE.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=gu(e,n.child,null,s),e.child=gu(e,null,a,s)):mi(n,e,a,s),e.memoizedState=i.state,r&&h6(e,t,!0),e.child}function Yx(n){var e=n.stateNode;e.pendingContext?d6(n,e.pendingContext,e.pendingContext!==e.context):e.context&&d6(n,e.context,!1),Sv(n,e.containerInfo)}function B6(n,e,t,i,r){return mu(),vv(r),e.flags|=256,mi(n,e,t,i),e.child}var G2={dehydrated:null,treeContext:null,retryLane:0};function H2(n){return{baseLanes:n,cachePool:null,transitions:null}}function Qx(n,e,t){var i=e.pendingProps,r=ln.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Zt(ln,r&1),n===null)return D2(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vm(o,i,0,null),n=ka(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=H2(t),e.memoizedState=G2,n):Pv(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return wE(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=No(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=No(a,s):(s=ka(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?H2(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=G2,i}return s=n.child,n=s.sibling,i=No(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Pv(n,e){return e=Vm({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Lh(n,e,t,i){return i!==null&&vv(i),gu(e,n.child,null,t),n=Pv(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function wE(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Q1(Error(Pe(422))),Lh(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Vm({mode:"visible",children:i.children},r,0,null),s=ka(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&gu(e,n.child,null,o),e.child.memoizedState=H2(o),e.memoizedState=G2,s);if(!(e.mode&1))return Lh(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Pe(419)),i=Q1(s,i,void 0),Lh(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ri||a){if(i=Vn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Xs(n,r),Ur(i,n,r,-1))}return Nv(),i=Q1(Error(Pe(421))),Lh(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=NE.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Vi=Io(r.nextSibling),Xi=e,nn=!0,Fr=null,n!==null&&(pr[mr++]=Fs,pr[mr++]=ks,pr[mr++]=Va,Fs=n.id,ks=n.overflow,Va=e),e=Pv(e,i.children),e.flags|=4096,e)}function R6(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),F2(n.return,e,t)}function q1(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function qx(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(mi(n,e,i.children,t),i=ln.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&R6(n,t,e);else if(n.tag===19)R6(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Zt(ln,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&hm(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),q1(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&hm(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}q1(e,!0,t,null,s);break;case"together":q1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Op(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function js(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ja|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Pe(153));if(e.child!==null){for(n=e.child,t=No(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=No(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function AE(n,e,t){switch(e.tag){case 3:Yx(e),mu();break;case 5:Ax(e);break;case 1:Li(e.type)&&am(e);break;case 4:Sv(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Zt(cm,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Zt(ln,ln.current&1),e.flags|=128,null):t&e.child.childLanes?Qx(n,e,t):(Zt(ln,ln.current&1),n=js(n,e,t),n!==null?n.sibling:null);Zt(ln,ln.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return qx(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Zt(ln,ln.current),i)break;return null;case 22:case 23:return e.lanes=0,Kx(n,e,t)}return js(n,e,t)}var $x,V2,e_,t_;$x=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};V2=function(){};e_=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,ba(os.current);var s=null;switch(t){case"input":r=f2(n,r),i=f2(n,i),s=[];break;case"select":r=fn({},r,{value:void 0}),i=fn({},i,{value:void 0}),s=[];break;case"textarea":r=p2(n,r),i=p2(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=sm)}g2(t,i);var o;t=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var a=r[f];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(yf.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in i){var l=i[f];if(a=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&l!==a&&(l!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(f,t)),t=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(yf.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&Qt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(f,l))}t&&(s=s||[]).push("style",t);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};t_=function(n,e,t,i){t!==i&&(e.flags|=4)};function wc(n,e){if(!nn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ri(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function EE(n,e,t){var i=e.pendingProps;switch(gv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(e),null;case 1:return Li(e.type)&&om(),ri(e),null;case 3:return i=e.stateNode,vu(),qt(Pi),qt(li),Av(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Rh(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fr!==null&&(Q2(Fr),Fr=null))),V2(n,e),ri(e),null;case 5:wv(e);var r=ba(Rf.current);if(t=e.type,n!==null&&e.stateNode!=null)e_(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Pe(166));return ri(e),null}if(n=ba(os.current),Rh(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[is]=e,i[bf]=s,n=(e.mode&1)!==0,t){case"dialog":Qt("cancel",i),Qt("close",i);break;case"iframe":case"object":case"embed":Qt("load",i);break;case"video":case"audio":for(r=0;r<Yc.length;r++)Qt(Yc[r],i);break;case"source":Qt("error",i);break;case"img":case"image":case"link":Qt("error",i),Qt("load",i);break;case"details":Qt("toggle",i);break;case"input":U5(i,s),Qt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Qt("invalid",i);break;case"textarea":G5(i,s),Qt("invalid",i)}g2(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bh(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bh(i.textContent,a,n),r=["children",""+a]):yf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qt("scroll",i)}switch(t){case"input":Ch(i),z5(i,s,!0);break;case"textarea":Ch(i),H5(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=sm)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=b7(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[is]=e,n[bf]=i,$x(n,e,!1,!1),e.stateNode=n;e:{switch(o=v2(t,i),t){case"dialog":Qt("cancel",n),Qt("close",n),r=i;break;case"iframe":case"object":case"embed":Qt("load",n),r=i;break;case"video":case"audio":for(r=0;r<Yc.length;r++)Qt(Yc[r],n);r=i;break;case"source":Qt("error",n),r=i;break;case"img":case"image":case"link":Qt("error",n),Qt("load",n),r=i;break;case"details":Qt("toggle",n),r=i;break;case"input":U5(n,i),r=f2(n,i),Qt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=fn({},i,{value:void 0}),Qt("invalid",n);break;case"textarea":G5(n,i),r=p2(n,i),Qt("invalid",n);break;default:r=i}g2(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?P7(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B7(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&xf(n,l):typeof l=="number"&&xf(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Qt("scroll",n):l!=null&&tv(n,s,l,o))}switch(t){case"input":Ch(n),z5(n,i,!1);break;case"textarea":Ch(n),H5(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Go(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?ru(n,!!i.multiple,s,!1):i.defaultValue!=null&&ru(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=sm)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ri(e),null;case 6:if(n&&e.stateNode!=null)t_(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Pe(166));if(t=ba(Rf.current),ba(os.current),Rh(e)){if(i=e.stateNode,t=e.memoizedProps,i[is]=e,(s=i.nodeValue!==t)&&(n=Xi,n!==null))switch(n.tag){case 3:Bh(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Bh(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[is]=e,e.stateNode=i}return ri(e),null;case 13:if(qt(ln),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nn&&Vi!==null&&e.mode&1&&!(e.flags&128))yx(),mu(),e.flags|=98560,s=!1;else if(s=Rh(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Pe(317));s[is]=e}else mu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ri(e),s=!1}else Fr!==null&&(Q2(Fr),Fr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||ln.current&1?Dn===0&&(Dn=3):Nv())),e.updateQueue!==null&&(e.flags|=4),ri(e),null);case 4:return vu(),V2(n,e),n===null&&Ef(e.stateNode.containerInfo),ri(e),null;case 10:return _v(e.type._context),ri(e),null;case 17:return Li(e.type)&&om(),ri(e),null;case 19:if(qt(ln),s=e.memoizedState,s===null)return ri(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)wc(s,!1);else{if(Dn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=hm(n),o!==null){for(e.flags|=128,wc(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Zt(ln,ln.current&1|2),e.child}n=n.sibling}s.tail!==null&&Cn()>xu&&(e.flags|=128,i=!0,wc(s,!1),e.lanes=4194304)}else{if(!i)if(n=hm(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),wc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nn)return ri(e),null}else 2*Cn()-s.renderingStartTime>xu&&t!==1073741824&&(e.flags|=128,i=!0,wc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Cn(),e.sibling=null,t=ln.current,Zt(ln,i?t&1|2:t&1),e):(ri(e),null);case 22:case 23:return kv(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Gi&1073741824&&(ri(e),e.subtreeFlags&6&&(e.flags|=8192)):ri(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function TE(n,e){switch(gv(e),e.tag){case 1:return Li(e.type)&&om(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return vu(),qt(Pi),qt(li),Av(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return wv(e),null;case 13:if(qt(ln),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));mu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return qt(ln),null;case 4:return vu(),null;case 10:return _v(e.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var Ih=!1,ai=!1,bE=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Ql(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){gn(n,e,i)}else t.current=null}function W2(n,e,t){try{t()}catch(i){gn(n,e,i)}}var P6=!1;function BE(n,e){if(T2=nm,n=sx(),pv(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,f=0,d=0,p=n,h=null;t:for(;;){for(var g;p!==t||r!==0&&p.nodeType!==3||(a=o+r),p!==s||i!==0&&p.nodeType!==3||(l=o+i),p.nodeType===3&&(o+=p.nodeValue.length),(g=p.firstChild)!==null;)h=p,p=g;for(;;){if(p===n)break t;if(h===t&&++f===r&&(a=o),h===s&&++d===i&&(l=o),(g=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=g}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(b2={focusedElem:n,selectionRange:t},nm=!1,Ke=e;Ke!==null;)if(e=Ke,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ke=n;else for(;Ke!==null;){e=Ke;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,_=e.stateNode,C=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:Lr(e.type,y),x);_.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(w){gn(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,Ke=n;break}Ke=e.return}return v=P6,P6=!1,v}function lf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&W2(e,t,s)}r=r.next}while(r!==i)}}function Gm(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function J2(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function n_(n){var e=n.alternate;e!==null&&(n.alternate=null,n_(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[is],delete e[bf],delete e[P2],delete e[fE],delete e[dE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function i_(n){return n.tag===5||n.tag===3||n.tag===4}function L6(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||i_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function X2(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=sm));else if(i!==4&&(n=n.child,n!==null))for(X2(n,e,t),n=n.sibling;n!==null;)X2(n,e,t),n=n.sibling}function j2(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(j2(n,e,t),n=n.sibling;n!==null;)j2(n,e,t),n=n.sibling}var jn=null,Ir=!1;function fo(n,e,t){for(t=t.child;t!==null;)r_(n,e,t),t=t.sibling}function r_(n,e,t){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(Im,t)}catch{}switch(t.tag){case 5:ai||Ql(t,e);case 6:var i=jn,r=Ir;jn=null,fo(n,e,t),jn=i,Ir=r,jn!==null&&(Ir?(n=jn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):jn.removeChild(t.stateNode));break;case 18:jn!==null&&(Ir?(n=jn,t=t.stateNode,n.nodeType===8?J1(n.parentNode,t):n.nodeType===1&&J1(n,t),Sf(n)):J1(jn,t.stateNode));break;case 4:i=jn,r=Ir,jn=t.stateNode.containerInfo,Ir=!0,fo(n,e,t),jn=i,Ir=r;break;case 0:case 11:case 14:case 15:if(!ai&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&W2(t,e,o),r=r.next}while(r!==i)}fo(n,e,t);break;case 1:if(!ai&&(Ql(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){gn(t,e,a)}fo(n,e,t);break;case 21:fo(n,e,t);break;case 22:t.mode&1?(ai=(i=ai)||t.memoizedState!==null,fo(n,e,t),ai=i):fo(n,e,t);break;default:fo(n,e,t)}}function I6(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new bE),e.forEach(function(i){var r=OE.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function br(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:jn=a.stateNode,Ir=!1;break e;case 3:jn=a.stateNode.containerInfo,Ir=!0;break e;case 4:jn=a.stateNode.containerInfo,Ir=!0;break e}a=a.return}if(jn===null)throw Error(Pe(160));r_(s,o,r),jn=null,Ir=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(f){gn(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s_(e,n),e=e.sibling}function s_(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(br(e,n),ts(n),i&4){try{lf(3,n,n.return),Gm(3,n)}catch(y){gn(n,n.return,y)}try{lf(5,n,n.return)}catch(y){gn(n,n.return,y)}}break;case 1:br(e,n),ts(n),i&512&&t!==null&&Ql(t,t.return);break;case 5:if(br(e,n),ts(n),i&512&&t!==null&&Ql(t,t.return),n.flags&32){var r=n.stateNode;try{xf(r,"")}catch(y){gn(n,n.return,y)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&E7(r,s),v2(a,o);var f=v2(a,s);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?P7(r,p):d==="dangerouslySetInnerHTML"?B7(r,p):d==="children"?xf(r,p):tv(r,d,p,f)}switch(a){case"input":d2(r,s);break;case"textarea":T7(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ru(r,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?ru(r,!!s.multiple,s.defaultValue,!0):ru(r,!!s.multiple,s.multiple?[]:"",!1))}r[bf]=s}catch(y){gn(n,n.return,y)}}break;case 6:if(br(e,n),ts(n),i&4){if(n.stateNode===null)throw Error(Pe(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(y){gn(n,n.return,y)}}break;case 3:if(br(e,n),ts(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Sf(e.containerInfo)}catch(y){gn(n,n.return,y)}break;case 4:br(e,n),ts(n);break;case 13:br(e,n),ts(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Dv=Cn())),i&4&&I6(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(ai=(f=ai)||d,br(e,n),ai=f):br(e,n),ts(n),i&8192){if(f=n.memoizedState!==null,(n.stateNode.isHidden=f)&&!d&&n.mode&1)for(Ke=n,d=n.child;d!==null;){for(p=Ke=d;Ke!==null;){switch(h=Ke,g=h.child,h.tag){case 0:case 11:case 14:case 15:lf(4,h,h.return);break;case 1:Ql(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){i=h,t=h.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){gn(i,t,y)}}break;case 5:Ql(h,h.return);break;case 22:if(h.memoizedState!==null){F6(p);continue}}g!==null?(g.return=h,Ke=g):F6(p)}d=d.sibling}e:for(d=null,p=n;;){if(p.tag===5){if(d===null){d=p;try{r=p.stateNode,f?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=R7("display",o))}catch(y){gn(n,n.return,y)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(y){gn(n,n.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:br(e,n),ts(n),i&4&&I6(n);break;case 21:break;default:br(e,n),ts(n)}}function ts(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(i_(t)){var i=t;break e}t=t.return}throw Error(Pe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(xf(r,""),i.flags&=-33);var s=L6(n);j2(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=L6(n);X2(n,a,o);break;default:throw Error(Pe(161))}}catch(l){gn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function RE(n,e,t){Ke=n,o_(n)}function o_(n,e,t){for(var i=(n.mode&1)!==0;Ke!==null;){var r=Ke,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Ih;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ai;a=Ih;var f=ai;if(Ih=o,(ai=l)&&!f)for(Ke=r;Ke!==null;)o=Ke,l=o.child,o.tag===22&&o.memoizedState!==null?k6(r):l!==null?(l.return=o,Ke=l):k6(r);for(;s!==null;)Ke=s,o_(s),s=s.sibling;Ke=r,Ih=a,ai=f}D6(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Ke=s):D6(n)}}function D6(n){for(;Ke!==null;){var e=Ke;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ai||Gm(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ai)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Lr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&v6(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}v6(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Sf(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}ai||e.flags&512&&J2(e)}catch(h){gn(e,e.return,h)}}if(e===n){Ke=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ke=t;break}Ke=e.return}}function F6(n){for(;Ke!==null;){var e=Ke;if(e===n){Ke=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ke=t;break}Ke=e.return}}function k6(n){for(;Ke!==null;){var e=Ke;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Gm(4,e)}catch(l){gn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){gn(e,r,l)}}var s=e.return;try{J2(e)}catch(l){gn(e,s,l)}break;case 5:var o=e.return;try{J2(e)}catch(l){gn(e,o,l)}}}catch(l){gn(e,e.return,l)}if(e===n){Ke=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ke=a;break}Ke=e.return}}var PE=Math.ceil,gm=Qs.ReactCurrentDispatcher,Lv=Qs.ReactCurrentOwner,_r=Qs.ReactCurrentBatchConfig,Rt=0,Vn=null,bn=null,Qn=0,Gi=0,ql=Zo(0),Dn=0,Df=null,Ja=0,Hm=0,Iv=0,uf=null,Bi=null,Dv=0,xu=1/0,Rs=null,vm=!1,K2=null,Fo=null,Dh=!1,bo=null,ym=0,cf=0,Z2=null,Up=-1,zp=0;function vi(){return Rt&6?Cn():Up!==-1?Up:Up=Cn()}function ko(n){return n.mode&1?Rt&2&&Qn!==0?Qn&-Qn:pE.transition!==null?(zp===0&&(zp=V7()),zp):(n=Ht,n!==0||(n=window.event,n=n===void 0?16:Y7(n.type)),n):1}function Ur(n,e,t,i){if(50<cf)throw cf=0,Z2=null,Error(Pe(185));ed(n,t,i),(!(Rt&2)||n!==Vn)&&(n===Vn&&(!(Rt&2)&&(Hm|=t),Dn===4&&Eo(n,Qn)),Ii(n,i),t===1&&Rt===0&&!(e.mode&1)&&(xu=Cn()+500,Om&&Yo()))}function Ii(n,e){var t=n.callbackNode;pA(n,e);var i=tm(n,n===Vn?Qn:0);if(i===0)t!==null&&J5(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&J5(t),e===1)n.tag===0?hE(N6.bind(null,n)):mx(N6.bind(null,n)),uE(function(){!(Rt&6)&&Yo()}),t=null;else{switch(W7(i)){case 1:t=ov;break;case 4:t=G7;break;case 16:t=em;break;case 536870912:t=H7;break;default:t=em}t=p_(t,a_.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function a_(n,e){if(Up=-1,zp=0,Rt&6)throw Error(Pe(327));var t=n.callbackNode;if(uu()&&n.callbackNode!==t)return null;var i=tm(n,n===Vn?Qn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=xm(n,i);else{e=i;var r=Rt;Rt|=2;var s=u_();(Vn!==n||Qn!==e)&&(Rs=null,xu=Cn()+500,Fa(n,e));do try{DE();break}catch(a){l_(n,a)}while(1);xv(),gm.current=s,Rt=r,bn!==null?e=0:(Vn=null,Qn=0,e=Dn)}if(e!==0){if(e===2&&(r=M2(n),r!==0&&(i=r,e=Y2(n,r))),e===1)throw t=Df,Fa(n,0),Eo(n,i),Ii(n,Cn()),t;if(e===6)Eo(n,i);else{if(r=n.current.alternate,!(i&30)&&!LE(r)&&(e=xm(n,i),e===2&&(s=M2(n),s!==0&&(i=s,e=Y2(n,s))),e===1))throw t=Df,Fa(n,0),Eo(n,i),Ii(n,Cn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Pe(345));case 2:Ca(n,Bi,Rs);break;case 3:if(Eo(n,i),(i&130023424)===i&&(e=Dv+500-Cn(),10<e)){if(tm(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){vi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=R2(Ca.bind(null,n,Bi,Rs),e);break}Ca(n,Bi,Rs);break;case 4:if(Eo(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Or(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Cn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*PE(i/1960))-i,10<i){n.timeoutHandle=R2(Ca.bind(null,n,Bi,Rs),i);break}Ca(n,Bi,Rs);break;case 5:Ca(n,Bi,Rs);break;default:throw Error(Pe(329))}}}return Ii(n,Cn()),n.callbackNode===t?a_.bind(null,n):null}function Y2(n,e){var t=uf;return n.current.memoizedState.isDehydrated&&(Fa(n,e).flags|=256),n=xm(n,e),n!==2&&(e=Bi,Bi=t,e!==null&&Q2(e)),n}function Q2(n){Bi===null?Bi=n:Bi.push.apply(Bi,n)}function LE(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Hr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Eo(n,e){for(e&=~Iv,e&=~Hm,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Or(e),i=1<<t;n[t]=-1,e&=~i}}function N6(n){if(Rt&6)throw Error(Pe(327));uu();var e=tm(n,0);if(!(e&1))return Ii(n,Cn()),null;var t=xm(n,e);if(n.tag!==0&&t===2){var i=M2(n);i!==0&&(e=i,t=Y2(n,i))}if(t===1)throw t=Df,Fa(n,0),Eo(n,e),Ii(n,Cn()),t;if(t===6)throw Error(Pe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ca(n,Bi,Rs),Ii(n,Cn()),null}function Fv(n,e){var t=Rt;Rt|=1;try{return n(e)}finally{Rt=t,Rt===0&&(xu=Cn()+500,Om&&Yo())}}function Xa(n){bo!==null&&bo.tag===0&&!(Rt&6)&&uu();var e=Rt;Rt|=1;var t=_r.transition,i=Ht;try{if(_r.transition=null,Ht=1,n)return n()}finally{Ht=i,_r.transition=t,Rt=e,!(Rt&6)&&Yo()}}function kv(){Gi=ql.current,qt(ql)}function Fa(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,lE(t)),bn!==null)for(t=bn.return;t!==null;){var i=t;switch(gv(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&om();break;case 3:vu(),qt(Pi),qt(li),Av();break;case 5:wv(i);break;case 4:vu();break;case 13:qt(ln);break;case 19:qt(ln);break;case 10:_v(i.type._context);break;case 22:case 23:kv()}t=t.return}if(Vn=n,bn=n=No(n.current,null),Qn=Gi=e,Dn=0,Df=null,Iv=Hm=Ja=0,Bi=uf=null,Ta!==null){for(e=0;e<Ta.length;e++)if(t=Ta[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Ta=null}return n}function l_(n,e){do{var t=bn;try{if(xv(),kp.current=mm,pm){for(var i=cn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}pm=!1}if(Wa=0,Hn=In=cn=null,af=!1,Pf=0,Lv.current=null,t===null||t.return===null){Dn=1,Df=e,bn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Qn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=w6(o);if(g!==null){g.flags&=-257,A6(g,o,a,s,e),g.mode&1&&S6(s,f,e),e=g,l=f;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){S6(s,f,e),Nv();break e}l=Error(Pe(426))}}else if(nn&&a.mode&1){var x=w6(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),A6(x,o,a,s,e),vv(yu(l,a));break e}}s=l=yu(l,a),Dn!==4&&(Dn=2),uf===null?uf=[s]:uf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=Jx(s,l,e);g6(s,_);break e;case 1:a=l;var C=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fo===null||!Fo.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Xx(s,a,e);g6(s,w);break e}}s=s.return}while(s!==null)}f_(t)}catch(T){e=T,bn===t&&t!==null&&(bn=t=t.return);continue}break}while(1)}function u_(){var n=gm.current;return gm.current=mm,n===null?mm:n}function Nv(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Vn===null||!(Ja&268435455)&&!(Hm&268435455)||Eo(Vn,Qn)}function xm(n,e){var t=Rt;Rt|=2;var i=u_();(Vn!==n||Qn!==e)&&(Rs=null,Fa(n,e));do try{IE();break}catch(r){l_(n,r)}while(1);if(xv(),Rt=t,gm.current=i,bn!==null)throw Error(Pe(261));return Vn=null,Qn=0,Dn}function IE(){for(;bn!==null;)c_(bn)}function DE(){for(;bn!==null&&!sA();)c_(bn)}function c_(n){var e=h_(n.alternate,n,Gi);n.memoizedProps=n.pendingProps,e===null?f_(n):bn=e,Lv.current=null}function f_(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=TE(t,e),t!==null){t.flags&=32767,bn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Dn=6,bn=null;return}}else if(t=EE(t,e,Gi),t!==null){bn=t;return}if(e=e.sibling,e!==null){bn=e;return}bn=e=n}while(e!==null);Dn===0&&(Dn=5)}function Ca(n,e,t){var i=Ht,r=_r.transition;try{_r.transition=null,Ht=1,FE(n,e,t,i)}finally{_r.transition=r,Ht=i}return null}function FE(n,e,t,i){do uu();while(bo!==null);if(Rt&6)throw Error(Pe(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Pe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(mA(n,s),n===Vn&&(bn=Vn=null,Qn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Dh||(Dh=!0,p_(em,function(){return uu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=_r.transition,_r.transition=null;var o=Ht;Ht=1;var a=Rt;Rt|=4,Lv.current=null,BE(n,t),s_(t,n),tE(b2),nm=!!T2,b2=T2=null,n.current=t,RE(t),oA(),Rt=a,Ht=o,_r.transition=s}else n.current=t;if(Dh&&(Dh=!1,bo=n,ym=r),s=n.pendingLanes,s===0&&(Fo=null),uA(t.stateNode),Ii(n,Cn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(vm)throw vm=!1,n=K2,K2=null,n;return ym&1&&n.tag!==0&&uu(),s=n.pendingLanes,s&1?n===Z2?cf++:(cf=0,Z2=n):cf=0,Yo(),null}function uu(){if(bo!==null){var n=W7(ym),e=_r.transition,t=Ht;try{if(_r.transition=null,Ht=16>n?16:n,bo===null)var i=!1;else{if(n=bo,bo=null,ym=0,Rt&6)throw Error(Pe(331));var r=Rt;for(Rt|=4,Ke=n.current;Ke!==null;){var s=Ke,o=s.child;if(Ke.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var f=a[l];for(Ke=f;Ke!==null;){var d=Ke;switch(d.tag){case 0:case 11:case 15:lf(8,d,s)}var p=d.child;if(p!==null)p.return=d,Ke=p;else for(;Ke!==null;){d=Ke;var h=d.sibling,g=d.return;if(n_(d),d===f){Ke=null;break}if(h!==null){h.return=g,Ke=h;break}Ke=g}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ke=o;else e:for(;Ke!==null;){if(s=Ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lf(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Ke=_;break e}Ke=s.return}}var C=n.current;for(Ke=C;Ke!==null;){o=Ke;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Ke=S;else e:for(o=C;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gm(9,a)}}catch(T){gn(a,a.return,T)}if(a===o){Ke=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Ke=w;break e}Ke=a.return}}if(Rt=r,Yo(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(Im,n)}catch{}i=!0}return i}finally{Ht=t,_r.transition=e}}return!1}function O6(n,e,t){e=yu(t,e),e=Jx(n,e,1),n=Do(n,e,1),e=vi(),n!==null&&(ed(n,1,e),Ii(n,e))}function gn(n,e,t){if(n.tag===3)O6(n,n,t);else for(;e!==null;){if(e.tag===3){O6(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fo===null||!Fo.has(i))){n=yu(t,n),n=Xx(e,n,1),e=Do(e,n,1),n=vi(),e!==null&&(ed(e,1,n),Ii(e,n));break}}e=e.return}}function kE(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=vi(),n.pingedLanes|=n.suspendedLanes&t,Vn===n&&(Qn&t)===t&&(Dn===4||Dn===3&&(Qn&130023424)===Qn&&500>Cn()-Dv?Fa(n,0):Iv|=t),Ii(n,e)}function d_(n,e){e===0&&(n.mode&1?(e=wh,wh<<=1,!(wh&130023424)&&(wh=4194304)):e=1);var t=vi();n=Xs(n,e),n!==null&&(ed(n,e,t),Ii(n,t))}function NE(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),d_(n,t)}function OE(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Pe(314))}i!==null&&i.delete(e),d_(n,t)}var h_;h_=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Pi.current)Ri=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ri=!1,AE(n,e,t);Ri=!!(n.flags&131072)}else Ri=!1,nn&&e.flags&1048576&&gx(e,um,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Op(n,e),n=e.pendingProps;var r=pu(e,li.current);lu(e,t),r=Tv(null,e,i,n,r,t);var s=bv();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Li(i)?(s=!0,am(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Mv(e),r.updater=Um,e.stateNode=r,r._reactInternals=e,N2(e,i,n,t),e=z2(null,e,i,!0,s,t)):(e.tag=0,nn&&s&&mv(e),mi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Op(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=zE(i),n=Lr(i,n),r){case 0:e=U2(null,e,i,n,t);break e;case 1:e=b6(null,e,i,n,t);break e;case 11:e=E6(null,e,i,n,t);break e;case 14:e=T6(null,e,i,Lr(i.type,n),t);break e}throw Error(Pe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Lr(i,r),U2(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Lr(i,r),b6(n,e,i,r,t);case 3:e:{if(Yx(e),n===null)throw Error(Pe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,_x(n,e),dm(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=yu(Error(Pe(423)),e),e=B6(n,e,i,t,r);break e}else if(i!==r){r=yu(Error(Pe(424)),e),e=B6(n,e,i,t,r);break e}else for(Vi=Io(e.stateNode.containerInfo.firstChild),Xi=e,nn=!0,Fr=null,t=wx(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(mu(),i===r){e=js(n,e,t);break e}mi(n,e,i,t)}e=e.child}return e;case 5:return Ax(e),n===null&&D2(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,B2(i,r)?o=null:s!==null&&B2(i,s)&&(e.flags|=32),Zx(n,e),mi(n,e,o,t),e.child;case 6:return n===null&&D2(e),null;case 13:return Qx(n,e,t);case 4:return Sv(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=gu(e,null,i,t):mi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Lr(i,r),E6(n,e,i,r,t);case 7:return mi(n,e,e.pendingProps,t),e.child;case 8:return mi(n,e,e.pendingProps.children,t),e.child;case 12:return mi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Zt(cm,i._currentValue),i._currentValue=o,s!==null)if(Hr(s.value,o)){if(s.children===r.children&&!Pi.current){e=js(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Gs(-1,t&-t),l.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?l.next=l:(l.next=d.next,d.next=l),f.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),F2(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Pe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),F2(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,lu(e,t),r=Cr(r),i=i(r),e.flags|=1,mi(n,e,i,t),e.child;case 14:return i=e.type,r=Lr(i,e.pendingProps),r=Lr(i.type,r),T6(n,e,i,r,t);case 15:return jx(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Lr(i,r),Op(n,e),e.tag=1,Li(i)?(n=!0,am(e)):n=!1,lu(e,t),Mx(e,i,r),N2(e,i,r,t),z2(null,e,i,!0,n,t);case 19:return qx(n,e,t);case 22:return Kx(n,e,t)}throw Error(Pe(156,e.tag))};function p_(n,e){return z7(n,e)}function UE(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(n,e,t,i){return new UE(n,e,t,i)}function Ov(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zE(n){if(typeof n=="function")return Ov(n)?1:0;if(n!=null){if(n=n.$$typeof,n===iv)return 11;if(n===rv)return 14}return 2}function No(n,e){var t=n.alternate;return t===null?(t=yr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Gp(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")Ov(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Hl:return ka(t.children,r,s,e);case nv:o=8,r|=8;break;case a2:return n=yr(12,t,e,r|2),n.elementType=a2,n.lanes=s,n;case l2:return n=yr(13,t,e,r),n.elementType=l2,n.lanes=s,n;case u2:return n=yr(19,t,e,r),n.elementType=u2,n.lanes=s,n;case S7:return Vm(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C7:o=10;break e;case M7:o=9;break e;case iv:o=11;break e;case rv:o=14;break e;case Mo:o=16,i=null;break e}throw Error(Pe(130,n==null?n:typeof n,""))}return e=yr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function ka(n,e,t,i){return n=yr(7,n,i,e),n.lanes=t,n}function Vm(n,e,t,i){return n=yr(22,n,i,e),n.elementType=S7,n.lanes=t,n.stateNode={isHidden:!1},n}function $1(n,e,t){return n=yr(6,n,null,e),n.lanes=t,n}function eg(n,e,t){return e=yr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function GE(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=D1(0),this.expirationTimes=D1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D1(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uv(n,e,t,i,r,s,o,a,l){return n=new GE(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mv(s),n}function HE(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gl,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function m_(n){if(!n)return Ho;n=n._reactInternals;e:{if(Qa(n)!==n||n.tag!==1)throw Error(Pe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Li(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(n.tag===1){var t=n.type;if(Li(t))return px(n,t,e)}return e}function g_(n,e,t,i,r,s,o,a,l){return n=Uv(t,i,!0,n,r,s,o,a,l),n.context=m_(null),t=n.current,i=vi(),r=ko(t),s=Gs(i,r),s.callback=e??null,Do(t,s,r),n.current.lanes=r,ed(n,r,i),Ii(n,i),n}function Wm(n,e,t,i){var r=e.current,s=vi(),o=ko(r);return t=m_(t),e.context===null?e.context=t:e.pendingContext=t,e=Gs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Do(r,e,o),n!==null&&(Ur(n,r,o,s),Fp(n,r,o)),o}function _m(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function U6(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function zv(n,e){U6(n,e),(n=n.alternate)&&U6(n,e)}function VE(){return null}var v_=typeof reportError=="function"?reportError:function(n){console.error(n)};function Gv(n){this._internalRoot=n}Jm.prototype.render=Gv.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Pe(409));Wm(n,e,null,null)};Jm.prototype.unmount=Gv.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Xa(function(){Wm(null,n,null,null)}),e[Js]=null}};function Jm(n){this._internalRoot=n}Jm.prototype.unstable_scheduleHydration=function(n){if(n){var e=j7();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ao.length&&e!==0&&e<Ao[t].priority;t++);Ao.splice(t,0,n),t===0&&Z7(n)}};function Hv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Xm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function z6(){}function WE(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var f=_m(o);s.call(f)}}var o=g_(e,i,n,0,null,!1,!1,"",z6);return n._reactRootContainer=o,n[Js]=o.current,Ef(n.nodeType===8?n.parentNode:n),Xa(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var f=_m(l);a.call(f)}}var l=Uv(n,0,!1,null,null,!1,!1,"",z6);return n._reactRootContainer=l,n[Js]=l.current,Ef(n.nodeType===8?n.parentNode:n),Xa(function(){Wm(e,l,t,i)}),l}function jm(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=_m(o);a.call(l)}}Wm(e,o,n,r)}else o=WE(t,e,n,r,i);return _m(o)}J7=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Zc(e.pendingLanes);t!==0&&(av(e,t|1),Ii(e,Cn()),!(Rt&6)&&(xu=Cn()+500,Yo()))}break;case 13:Xa(function(){var i=Xs(n,1);if(i!==null){var r=vi();Ur(i,n,1,r)}}),zv(n,1)}};lv=function(n){if(n.tag===13){var e=Xs(n,134217728);if(e!==null){var t=vi();Ur(e,n,134217728,t)}zv(n,134217728)}};X7=function(n){if(n.tag===13){var e=ko(n),t=Xs(n,e);if(t!==null){var i=vi();Ur(t,n,e,i)}zv(n,e)}};j7=function(){return Ht};K7=function(n,e){var t=Ht;try{return Ht=n,e()}finally{Ht=t}};x2=function(n,e,t){switch(e){case"input":if(d2(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Nm(i);if(!r)throw Error(Pe(90));A7(i),d2(i,r)}}}break;case"textarea":T7(n,t);break;case"select":e=t.value,e!=null&&ru(n,!!t.multiple,e,!1)}};D7=Fv;F7=Xa;var JE={usingClientEntryPoint:!1,Events:[nd,Xl,Nm,L7,I7,Fv]},Ac={findFiberByHostInstance:Ea,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XE={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=O7(n),n===null?null:n.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||VE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Im=Fh.inject(XE),ss=Fh}catch{}}Qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JE;Qi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hv(e))throw Error(Pe(200));return HE(n,e,null,t)};Qi.createRoot=function(n,e){if(!Hv(n))throw Error(Pe(299));var t=!1,i="",r=v_;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Uv(n,1,!1,null,null,t,!1,i,r),n[Js]=e.current,Ef(n.nodeType===8?n.parentNode:n),new Gv(e)};Qi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Pe(188)):(n=Object.keys(n).join(","),Error(Pe(268,n)));return n=O7(e),n=n===null?null:n.stateNode,n};Qi.flushSync=function(n){return Xa(n)};Qi.hydrate=function(n,e,t){if(!Xm(e))throw Error(Pe(200));return jm(null,n,e,!0,t)};Qi.hydrateRoot=function(n,e,t){if(!Hv(n))throw Error(Pe(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=v_;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=g_(e,null,n,1,t??null,r,!1,s,o),n[Js]=e.current,Ef(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Jm(e)};Qi.render=function(n,e,t){if(!Xm(e))throw Error(Pe(200));return jm(null,n,e,!1,t)};Qi.unmountComponentAtNode=function(n){if(!Xm(n))throw Error(Pe(40));return n._reactRootContainer?(Xa(function(){jm(null,null,n,!1,function(){n._reactRootContainer=null,n[Js]=null})}),!0):!1};Qi.unstable_batchedUpdates=Fv;Qi.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Xm(t))throw Error(Pe(200));if(n==null||n._reactInternals===void 0)throw Error(Pe(38));return jm(n,e,t,!1,i)};Qi.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=Qi})(Vw);var G6=r2;i2.createRoot=G6.createRoot,i2.hydrateRoot=G6.hydrateRoot;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Qo="148",jE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},KE={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},y_=0,q2=1,x_=2,ZE=3,__=0,Km=1,ff=2,Ba=3,us=0,Yn=1,rs=2,Qc=3,Rn=0,Na=1,$2=2,e3=3,t3=4,C_=5,wa=100,M_=101,S_=102,n3=103,i3=104,w_=200,A_=201,E_=202,T_=203,Vv=204,Wv=205,b_=206,B_=207,R_=208,P_=209,L_=210,I_=0,D_=1,F_=2,Cm=3,k_=4,N_=5,O_=6,U_=7,rd=0,z_=1,G_=2,zr=0,H_=1,V_=2,W_=3,Jv=4,J_=5,Zm=300,Ks=301,Vo=302,_u=303,Ff=304,Nu=306,Wo=1e3,Zn=1001,Cu=1002,Wt=1003,kf=1004,YE=1004,cu=1005,QE=1005,Gt=1006,Ym=1007,qE=1007,Vr=1008,$E=1008,Wn=1009,X_=1010,j_=1011,Xv=1012,K_=1013,Ns=1014,Wi=1015,xr=1016,Z_=1017,Y_=1018,Oo=1020,Q_=1021,q_=1022,Hi=1023,$_=1024,eC=1025,Uo=1026,Jo=1027,tC=1028,nC=1029,iC=1030,rC=1031,sC=1033,Hp=33776,Vp=33777,Wp=33778,Jp=33779,r3=35840,s3=35841,o3=35842,a3=35843,oC=36196,l3=37492,u3=37496,c3=37808,f3=37809,d3=37810,h3=37811,p3=37812,m3=37813,g3=37814,v3=37815,y3=37816,x3=37817,_3=37818,C3=37819,M3=37820,S3=37821,w3=36492,aC=2200,lC=2201,uC=2202,Mu=2300,ja=2301,Xp=2302,Ra=2400,Pa=2401,Nf=2402,Qm=2500,jv=2501,eT=0,cC=1,Kv=2,Zi=3e3,qe=3001,fs=3200,fC=3201,qs=0,dC=1,tT="",Dr="srgb",Su="srgb-linear",nT=0,jp=7680,iT=7681,rT=7682,sT=7683,oT=34055,aT=34056,lT=5386,uT=512,cT=513,fT=514,dT=515,hT=516,pT=517,mT=518,hC=519,Of=35044,gT=35048,vT=35040,yT=35045,xT=35049,_T=35041,CT=35046,MT=35050,ST=35042,wT="100",A3="300 es",Mm=1035;class Sr{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let H6=1234567;const Oa=Math.PI/180,Uf=180/Math.PI;function ji(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(si[n&255]+si[n>>8&255]+si[n>>16&255]+si[n>>24&255]+"-"+si[e&255]+si[e>>8&255]+"-"+si[e>>16&15|64]+si[e>>24&255]+"-"+si[t&63|128]+si[t>>8&255]+"-"+si[t>>16&255]+si[t>>24&255]+si[i&255]+si[i>>8&255]+si[i>>16&255]+si[i>>24&255]).toLowerCase()}function Mn(n,e,t){return Math.max(e,Math.min(t,n))}function Zv(n,e){return(n%e+e)%e}function AT(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function ET(n,e,t){return n!==e?(t-n)/(e-n):0}function df(n,e,t){return(1-t)*n+t*e}function TT(n,e,t,i){return df(n,e,1-Math.exp(-t*i))}function bT(n,e=1){return e-Math.abs(Zv(n,e*2)-e)}function BT(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function RT(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function PT(n,e){return n+Math.floor(Math.random()*(e-n+1))}function LT(n,e){return n+Math.random()*(e-n)}function IT(n){return n*(.5-Math.random())}function DT(n){n!==void 0&&(H6=n);let e=H6+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function FT(n){return n*Oa}function kT(n){return n*Uf}function E3(n){return(n&n-1)===0&&n!==0}function pC(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Sm(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function NT(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),f=s((e+i)/2),d=o((e+i)/2),p=s((e-i)/2),h=o((e-i)/2),g=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*p,l*h,a*f);break;case"YZY":n.set(l*h,a*d,l*p,a*f);break;case"ZXZ":n.set(l*p,l*h,a*d,a*f);break;case"XZX":n.set(a*d,l*v,l*g,a*f);break;case"YXY":n.set(l*g,a*d,l*v,a*f);break;case"ZYZ":n.set(l*v,l*g,a*d,a*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Os(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Xt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var Gr=Object.freeze({__proto__:null,DEG2RAD:Oa,RAD2DEG:Uf,generateUUID:ji,clamp:Mn,euclideanModulo:Zv,mapLinear:AT,inverseLerp:ET,lerp:df,damp:TT,pingpong:bT,smoothstep:BT,smootherstep:RT,randInt:PT,randFloat:LT,randFloatSpread:IT,seededRandom:DT,degToRad:FT,radToDeg:kT,isPowerOfTwo:E3,ceilPowerOfTwo:pC,floorPowerOfTwo:Sm,setQuaternionFromProperEuler:NT,normalize:Xt,denormalize:Os});class ve{constructor(e=0,t=0){ve.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class gi{constructor(){gi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,f){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],f=i[1],d=i[4],p=i[7],h=i[2],g=i[5],v=i[8],y=r[0],x=r[3],_=r[6],C=r[1],S=r[4],w=r[7],T=r[2],B=r[5],R=r[8];return s[0]=o*y+a*C+l*T,s[3]=o*x+a*S+l*B,s[6]=o*_+a*w+l*R,s[1]=f*y+d*C+p*T,s[4]=f*x+d*S+p*B,s[7]=f*_+d*w+p*R,s[2]=h*y+g*C+v*T,s[5]=h*x+g*S+v*B,s[8]=h*_+g*w+v*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],f=e[7],d=e[8];return t*o*d-t*a*f-i*s*d+i*a*l+r*s*f-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],f=e[7],d=e[8],p=d*o-a*f,h=a*l-d*s,g=f*s-o*l,v=t*p+i*h+r*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=p*y,e[1]=(r*f-d*i)*y,e[2]=(a*i-r*o)*y,e[3]=h*y,e[4]=(d*t-r*l)*y,e[5]=(r*s-a*t)*y,e[6]=g*y,e[7]=(i*l-f*t)*y,e[8]=(o*t-i*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),f=Math.sin(s);return this.set(i*l,i*f,-i*(l*o+f*a)+o+e,-r*f,r*l,-r*(-f*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(tg.makeScale(e,t)),this}rotate(e){return this.premultiply(tg.makeRotation(-e)),this}translate(e,t){return this.premultiply(tg.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const tg=new gi;function mC(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const OT={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function $l(n,e){return new OT[n](e)}function zf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Ua(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Kp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const ng={[Dr]:{[Su]:Ua},[Su]:{[Dr]:Kp}},oi={legacyMode:!0,get workingColorSpace(){return Su},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(ng[e]&&ng[e][t]!==void 0){const i=ng[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},gC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ln={r:0,g:0,b:0},Br={h:0,s:0,l:0},kh={h:0,s:0,l:0};function ig(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Nh(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Oe{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Dr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,oi.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=oi.workingColorSpace){return this.r=e,this.g=t,this.b=i,oi.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=oi.workingColorSpace){if(e=Zv(e,1),t=Mn(t,0,1),i=Mn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=ig(o,s,e+1/3),this.g=ig(o,s,e),this.b=ig(o,s,e-1/3)}return oi.toWorkingColorSpace(this,r),this}setStyle(e,t=Dr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,oi.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,oi.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,f=parseFloat(s[2])/100,d=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,f,d,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,oi.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,oi.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Dr){const i=gC[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ua(e.r),this.g=Ua(e.g),this.b=Ua(e.b),this}copyLinearToSRGB(e){return this.r=Kp(e.r),this.g=Kp(e.g),this.b=Kp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Dr){return oi.fromWorkingColorSpace(Nh(this,Ln),e),Mn(Ln.r*255,0,255)<<16^Mn(Ln.g*255,0,255)<<8^Mn(Ln.b*255,0,255)<<0}getHexString(e=Dr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=oi.workingColorSpace){oi.fromWorkingColorSpace(Nh(this,Ln),t);const i=Ln.r,r=Ln.g,s=Ln.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,f;const d=(a+o)/2;if(a===o)l=0,f=0;else{const p=o-a;switch(f=d<=.5?p/(o+a):p/(2-o-a),o){case i:l=(r-s)/p+(r<s?6:0);break;case r:l=(s-i)/p+2;break;case s:l=(i-r)/p+4;break}l/=6}return e.h=l,e.s=f,e.l=d,e}getRGB(e,t=oi.workingColorSpace){return oi.fromWorkingColorSpace(Nh(this,Ln),t),e.r=Ln.r,e.g=Ln.g,e.b=Ln.b,e}getStyle(e=Dr){return oi.fromWorkingColorSpace(Nh(this,Ln),e),e!==Dr?`color(${e} ${Ln.r} ${Ln.g} ${Ln.b})`:`rgb(${Ln.r*255|0},${Ln.g*255|0},${Ln.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Br),Br.h+=e,Br.s+=t,Br.l+=i,this.setHSL(Br.h,Br.s,Br.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Br),e.getHSL(kh);const i=df(Br.h,kh.h,t),r=df(Br.s,kh.s,t),s=df(Br.l,kh.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Oe.NAMES=gC;let _l;class Yv{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{_l===void 0&&(_l=zf("canvas")),_l.width=e.width,_l.height=e.height;const i=_l.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=_l}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=zf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Ua(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Ua(t[i]/255)*255):t[i]=Ua(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class La{constructor(e=null){this.isSource=!0,this.uuid=ji(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(rg(r[o].image)):s.push(rg(r[o]))}else s=rg(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function rg(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Yv.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let UT=0;class Yt extends Sr{constructor(e=Yt.DEFAULT_IMAGE,t=Yt.DEFAULT_MAPPING,i=Zn,r=Zn,s=Gt,o=Vr,a=Hi,l=Wn,f=Yt.DEFAULT_ANISOTROPY,d=Zi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:UT++}),this.uuid=ji(),this.name="",this.source=new La(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=f,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ve(0,0),this.repeat=new ve(1,1),this.center=new ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new gi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Zm)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Wo:e.x=e.x-Math.floor(e.x);break;case Zn:e.x=e.x<0?0:1;break;case Cu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Wo:e.y=e.y-Math.floor(e.y);break;case Zn:e.y=e.y<0?0:1;break;case Cu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Yt.DEFAULT_IMAGE=null;Yt.DEFAULT_MAPPING=Zm;Yt.DEFAULT_ANISOTROPY=1;class kt{constructor(e=0,t=0,i=0,r=1){kt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,f=l[0],d=l[4],p=l[8],h=l[1],g=l[5],v=l[9],y=l[2],x=l[6],_=l[10];if(Math.abs(d-h)<.01&&Math.abs(p-y)<.01&&Math.abs(v-x)<.01){if(Math.abs(d+h)<.1&&Math.abs(p+y)<.1&&Math.abs(v+x)<.1&&Math.abs(f+g+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(f+1)/2,w=(g+1)/2,T=(_+1)/2,B=(d+h)/4,R=(p+y)/4,E=(v+x)/4;return S>w&&S>T?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=B/i,s=R/i):w>T?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=B/r,s=E/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=R/s,r=E/s),this.set(i,r,s,t),this}let C=Math.sqrt((x-v)*(x-v)+(p-y)*(p-y)+(h-d)*(h-d));return Math.abs(C)<.001&&(C=1),this.x=(x-v)/C,this.y=(p-y)/C,this.z=(h-d)/C,this.w=Math.acos((f+g+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class jt extends Sr{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new kt(0,0,e,t),this.scissorTest=!1,this.viewport=new kt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new Yt(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Gt,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new La(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class sd extends Yt{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Wt,this.minFilter=Wt,this.wrapR=Zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class zT extends jt{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new sd(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class qm extends Yt{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Wt,this.minFilter=Wt,this.wrapR=Zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class GT extends jt{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new qm(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class HT extends jt{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class yi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],f=i[r+1],d=i[r+2],p=i[r+3];const h=s[o+0],g=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=f,e[t+2]=d,e[t+3]=p;return}if(a===1){e[t+0]=h,e[t+1]=g,e[t+2]=v,e[t+3]=y;return}if(p!==y||l!==h||f!==g||d!==v){let x=1-a;const _=l*h+f*g+d*v+p*y,C=_>=0?1:-1,S=1-_*_;if(S>Number.EPSILON){const T=Math.sqrt(S),B=Math.atan2(T,_*C);x=Math.sin(x*B)/T,a=Math.sin(a*B)/T}const w=a*C;if(l=l*x+h*w,f=f*x+g*w,d=d*x+v*w,p=p*x+y*w,x===1-a){const T=1/Math.sqrt(l*l+f*f+d*d+p*p);l*=T,f*=T,d*=T,p*=T}}e[t]=l,e[t+1]=f,e[t+2]=d,e[t+3]=p}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],f=i[r+2],d=i[r+3],p=s[o],h=s[o+1],g=s[o+2],v=s[o+3];return e[t]=a*v+d*p+l*g-f*h,e[t+1]=l*v+d*h+f*p-a*g,e[t+2]=f*v+d*g+a*h-l*p,e[t+3]=d*v-a*p-l*h-f*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,f=a(i/2),d=a(r/2),p=a(s/2),h=l(i/2),g=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=h*d*p+f*g*v,this._y=f*g*p-h*d*v,this._z=f*d*v+h*g*p,this._w=f*d*p-h*g*v;break;case"YXZ":this._x=h*d*p+f*g*v,this._y=f*g*p-h*d*v,this._z=f*d*v-h*g*p,this._w=f*d*p+h*g*v;break;case"ZXY":this._x=h*d*p-f*g*v,this._y=f*g*p+h*d*v,this._z=f*d*v+h*g*p,this._w=f*d*p-h*g*v;break;case"ZYX":this._x=h*d*p-f*g*v,this._y=f*g*p+h*d*v,this._z=f*d*v-h*g*p,this._w=f*d*p+h*g*v;break;case"YZX":this._x=h*d*p+f*g*v,this._y=f*g*p+h*d*v,this._z=f*d*v-h*g*p,this._w=f*d*p-h*g*v;break;case"XZY":this._x=h*d*p-f*g*v,this._y=f*g*p-h*d*v,this._z=f*d*v+h*g*p,this._w=f*d*p+h*g*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],f=t[2],d=t[6],p=t[10],h=i+a+p;if(h>0){const g=.5/Math.sqrt(h+1);this._w=.25/g,this._x=(d-l)*g,this._y=(s-f)*g,this._z=(o-r)*g}else if(i>a&&i>p){const g=2*Math.sqrt(1+i-a-p);this._w=(d-l)/g,this._x=.25*g,this._y=(r+o)/g,this._z=(s+f)/g}else if(a>p){const g=2*Math.sqrt(1+a-i-p);this._w=(s-f)/g,this._x=(r+o)/g,this._y=.25*g,this._z=(l+d)/g}else{const g=2*Math.sqrt(1+p-i-a);this._w=(o-r)/g,this._x=(s+f)/g,this._y=(l+d)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Mn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,f=t._z,d=t._w;return this._x=i*d+o*a+r*f-s*l,this._y=r*d+o*l+s*a-i*f,this._z=s*d+o*f+i*l-r*a,this._w=o*d-i*a-r*l-s*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-t;return this._w=g*o+t*this._w,this._x=g*i+t*this._x,this._y=g*r+t*this._y,this._z=g*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(l),d=Math.atan2(f,a),p=Math.sin((1-t)*d)/f,h=Math.sin(t*d)/f;return this._w=o*p+this._w*h,this._x=i*p+this._x*h,this._y=r*p+this._y*h,this._z=s*p+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class k{constructor(e=0,t=0,i=0){k.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(V6.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(V6.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,f=l*t+o*r-a*i,d=l*i+a*t-s*r,p=l*r+s*i-o*t,h=-s*t-o*i-a*r;return this.x=f*l+h*-s+d*-a-p*-o,this.y=d*l+h*-o+p*-s-f*-a,this.z=p*l+h*-a+f*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return sg.copy(this).projectOnVector(e),this.sub(sg)}reflect(e){return this.sub(sg.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Mn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const sg=new k,V6=new yi;class qo{constructor(e=new k(1/0,1/0,1/0),t=new k(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,f=e.length;l<f;l+=3){const d=e[l],p=e[l+1],h=e[l+2];d<t&&(t=d),p<i&&(i=p),h<r&&(r=h),d>s&&(s=d),p>o&&(o=p),h>a&&(a=h)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,f=e.count;l<f;l++){const d=e.getX(l),p=e.getY(l),h=e.getZ(l);d<t&&(t=d),p<i&&(i=p),h<r&&(r=h),d>s&&(s=d),p>o&&(o=p),h>a&&(a=h)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=da.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)da.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(da)}else i.boundingBox===null&&i.computeBoundingBox(),og.copy(i.boundingBox),og.applyMatrix4(e.matrixWorld),this.union(og);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,da),da.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ec),Oh.subVectors(this.max,Ec),Cl.subVectors(e.a,Ec),Ml.subVectors(e.b,Ec),Sl.subVectors(e.c,Ec),ho.subVectors(Ml,Cl),po.subVectors(Sl,Ml),ha.subVectors(Cl,Sl);let t=[0,-ho.z,ho.y,0,-po.z,po.y,0,-ha.z,ha.y,ho.z,0,-ho.x,po.z,0,-po.x,ha.z,0,-ha.x,-ho.y,ho.x,0,-po.y,po.x,0,-ha.y,ha.x,0];return!ag(t,Cl,Ml,Sl,Oh)||(t=[1,0,0,0,1,0,0,0,1],!ag(t,Cl,Ml,Sl,Oh))?!1:(Uh.crossVectors(ho,po),t=[Uh.x,Uh.y,Uh.z],ag(t,Cl,Ml,Sl,Oh))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return da.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(da).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ms[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ms[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ms[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ms[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ms[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ms[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ms[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ms[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ms),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ms=[new k,new k,new k,new k,new k,new k,new k,new k],da=new k,og=new qo,Cl=new k,Ml=new k,Sl=new k,ho=new k,po=new k,ha=new k,Ec=new k,Oh=new k,Uh=new k,pa=new k;function ag(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){pa.fromArray(n,s);const a=r.x*Math.abs(pa.x)+r.y*Math.abs(pa.y)+r.z*Math.abs(pa.z),l=e.dot(pa),f=t.dot(pa),d=i.dot(pa);if(Math.max(-Math.max(l,f,d),Math.min(l,f,d))>a)return!1}return!0}const VT=new qo,Tc=new k,lg=new k;class $o{constructor(e=new k,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):VT.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Tc.subVectors(e,this.center);const t=Tc.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Tc,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(lg.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Tc.copy(e.center).add(lg)),this.expandByPoint(Tc.copy(e.center).sub(lg))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ss=new k,ug=new k,zh=new k,mo=new k,cg=new k,Gh=new k,fg=new k;class od{constructor(e=new k,t=new k(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ss)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ss.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ss.copy(this.direction).multiplyScalar(t).add(this.origin),Ss.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){ug.copy(e).add(t).multiplyScalar(.5),zh.copy(t).sub(e).normalize(),mo.copy(this.origin).sub(ug);const s=e.distanceTo(t)*.5,o=-this.direction.dot(zh),a=mo.dot(this.direction),l=-mo.dot(zh),f=mo.lengthSq(),d=Math.abs(1-o*o);let p,h,g,v;if(d>0)if(p=o*l-a,h=o*a-l,v=s*d,p>=0)if(h>=-v)if(h<=v){const y=1/d;p*=y,h*=y,g=p*(p+o*h+2*a)+h*(o*p+h+2*l)+f}else h=s,p=Math.max(0,-(o*h+a)),g=-p*p+h*(h+2*l)+f;else h=-s,p=Math.max(0,-(o*h+a)),g=-p*p+h*(h+2*l)+f;else h<=-v?(p=Math.max(0,-(-o*s+a)),h=p>0?-s:Math.min(Math.max(-s,-l),s),g=-p*p+h*(h+2*l)+f):h<=v?(p=0,h=Math.min(Math.max(-s,-l),s),g=h*(h+2*l)+f):(p=Math.max(0,-(o*s+a)),h=p>0?s:Math.min(Math.max(-s,-l),s),g=-p*p+h*(h+2*l)+f);else h=o>0?-s:s,p=Math.max(0,-(o*h+a)),g=-p*p+h*(h+2*l)+f;return i&&i.copy(this.direction).multiplyScalar(p).add(this.origin),r&&r.copy(zh).multiplyScalar(h).add(ug),g}intersectSphere(e,t){Ss.subVectors(e.center,this.origin);const i=Ss.dot(this.direction),r=Ss.dot(Ss)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const f=1/this.direction.x,d=1/this.direction.y,p=1/this.direction.z,h=this.origin;return f>=0?(i=(e.min.x-h.x)*f,r=(e.max.x-h.x)*f):(i=(e.max.x-h.x)*f,r=(e.min.x-h.x)*f),d>=0?(s=(e.min.y-h.y)*d,o=(e.max.y-h.y)*d):(s=(e.max.y-h.y)*d,o=(e.min.y-h.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),p>=0?(a=(e.min.z-h.z)*p,l=(e.max.z-h.z)*p):(a=(e.max.z-h.z)*p,l=(e.min.z-h.z)*p),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ss)!==null}intersectTriangle(e,t,i,r,s){cg.subVectors(t,e),Gh.subVectors(i,e),fg.crossVectors(cg,Gh);let o=this.direction.dot(fg),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;mo.subVectors(this.origin,e);const l=a*this.direction.dot(Gh.crossVectors(mo,Gh));if(l<0)return null;const f=a*this.direction.dot(cg.cross(mo));if(f<0||l+f>o)return null;const d=-a*mo.dot(fg);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class at{constructor(){at.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,f,d,p,h,g,v,y,x){const _=this.elements;return _[0]=e,_[4]=t,_[8]=i,_[12]=r,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=f,_[6]=d,_[10]=p,_[14]=h,_[3]=g,_[7]=v,_[11]=y,_[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new at().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/wl.setFromMatrixColumn(e,0).length(),s=1/wl.setFromMatrixColumn(e,1).length(),o=1/wl.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),f=Math.sin(r),d=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const h=o*d,g=o*p,v=a*d,y=a*p;t[0]=l*d,t[4]=-l*p,t[8]=f,t[1]=g+v*f,t[5]=h-y*f,t[9]=-a*l,t[2]=y-h*f,t[6]=v+g*f,t[10]=o*l}else if(e.order==="YXZ"){const h=l*d,g=l*p,v=f*d,y=f*p;t[0]=h+y*a,t[4]=v*a-g,t[8]=o*f,t[1]=o*p,t[5]=o*d,t[9]=-a,t[2]=g*a-v,t[6]=y+h*a,t[10]=o*l}else if(e.order==="ZXY"){const h=l*d,g=l*p,v=f*d,y=f*p;t[0]=h-y*a,t[4]=-o*p,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*d,t[9]=y-h*a,t[2]=-o*f,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const h=o*d,g=o*p,v=a*d,y=a*p;t[0]=l*d,t[4]=v*f-g,t[8]=h*f+y,t[1]=l*p,t[5]=y*f+h,t[9]=g*f-v,t[2]=-f,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,g=o*f,v=a*l,y=a*f;t[0]=l*d,t[4]=y-h*p,t[8]=v*p+g,t[1]=p,t[5]=o*d,t[9]=-a*d,t[2]=-f*d,t[6]=g*p+v,t[10]=h-y*p}else if(e.order==="XZY"){const h=o*l,g=o*f,v=a*l,y=a*f;t[0]=l*d,t[4]=-p,t[8]=f*d,t[1]=h*p+y,t[5]=o*d,t[9]=g*p-v,t[2]=v*p-g,t[6]=a*d,t[10]=y*p+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(WT,e,JT)}lookAt(e,t,i){const r=this.elements;return Ui.subVectors(e,t),Ui.lengthSq()===0&&(Ui.z=1),Ui.normalize(),go.crossVectors(i,Ui),go.lengthSq()===0&&(Math.abs(i.z)===1?Ui.x+=1e-4:Ui.z+=1e-4,Ui.normalize(),go.crossVectors(i,Ui)),go.normalize(),Hh.crossVectors(Ui,go),r[0]=go.x,r[4]=Hh.x,r[8]=Ui.x,r[1]=go.y,r[5]=Hh.y,r[9]=Ui.y,r[2]=go.z,r[6]=Hh.z,r[10]=Ui.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],f=i[12],d=i[1],p=i[5],h=i[9],g=i[13],v=i[2],y=i[6],x=i[10],_=i[14],C=i[3],S=i[7],w=i[11],T=i[15],B=r[0],R=r[4],E=r[8],P=r[12],I=r[1],G=r[5],ie=r[9],K=r[13],j=r[2],te=r[6],le=r[10],ce=r[14],L=r[3],V=r[7],W=r[11],X=r[15];return s[0]=o*B+a*I+l*j+f*L,s[4]=o*R+a*G+l*te+f*V,s[8]=o*E+a*ie+l*le+f*W,s[12]=o*P+a*K+l*ce+f*X,s[1]=d*B+p*I+h*j+g*L,s[5]=d*R+p*G+h*te+g*V,s[9]=d*E+p*ie+h*le+g*W,s[13]=d*P+p*K+h*ce+g*X,s[2]=v*B+y*I+x*j+_*L,s[6]=v*R+y*G+x*te+_*V,s[10]=v*E+y*ie+x*le+_*W,s[14]=v*P+y*K+x*ce+_*X,s[3]=C*B+S*I+w*j+T*L,s[7]=C*R+S*G+w*te+T*V,s[11]=C*E+S*ie+w*le+T*W,s[15]=C*P+S*K+w*ce+T*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],f=e[13],d=e[2],p=e[6],h=e[10],g=e[14],v=e[3],y=e[7],x=e[11],_=e[15];return v*(+s*l*p-r*f*p-s*a*h+i*f*h+r*a*g-i*l*g)+y*(+t*l*g-t*f*h+s*o*h-r*o*g+r*f*d-s*l*d)+x*(+t*f*p-t*a*g-s*o*p+i*o*g+s*a*d-i*f*d)+_*(-r*a*d-t*l*p+t*a*h+r*o*p-i*o*h+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],f=e[7],d=e[8],p=e[9],h=e[10],g=e[11],v=e[12],y=e[13],x=e[14],_=e[15],C=p*x*f-y*h*f+y*l*g-a*x*g-p*l*_+a*h*_,S=v*h*f-d*x*f-v*l*g+o*x*g+d*l*_-o*h*_,w=d*y*f-v*p*f+v*a*g-o*y*g-d*a*_+o*p*_,T=v*p*l-d*y*l-v*a*h+o*y*h+d*a*x-o*p*x,B=t*C+i*S+r*w+s*T;if(B===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/B;return e[0]=C*R,e[1]=(y*h*s-p*x*s-y*r*g+i*x*g+p*r*_-i*h*_)*R,e[2]=(a*x*s-y*l*s+y*r*f-i*x*f-a*r*_+i*l*_)*R,e[3]=(p*l*s-a*h*s-p*r*f+i*h*f+a*r*g-i*l*g)*R,e[4]=S*R,e[5]=(d*x*s-v*h*s+v*r*g-t*x*g-d*r*_+t*h*_)*R,e[6]=(v*l*s-o*x*s-v*r*f+t*x*f+o*r*_-t*l*_)*R,e[7]=(o*h*s-d*l*s+d*r*f-t*h*f-o*r*g+t*l*g)*R,e[8]=w*R,e[9]=(v*p*s-d*y*s-v*i*g+t*y*g+d*i*_-t*p*_)*R,e[10]=(o*y*s-v*a*s+v*i*f-t*y*f-o*i*_+t*a*_)*R,e[11]=(d*a*s-o*p*s-d*i*f+t*p*f+o*i*g-t*a*g)*R,e[12]=T*R,e[13]=(d*y*r-v*p*r+v*i*h-t*y*h-d*i*x+t*p*x)*R,e[14]=(v*a*r-o*y*r-v*i*l+t*y*l+o*i*x-t*a*x)*R,e[15]=(o*p*r-d*a*r+d*i*l-t*p*l-o*i*h+t*a*h)*R,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,f=s*o,d=s*a;return this.set(f*o+i,f*a-r*l,f*l+r*a,0,f*a+r*l,d*a+i,d*l-r*o,0,f*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,f=s+s,d=o+o,p=a+a,h=s*f,g=s*d,v=s*p,y=o*d,x=o*p,_=a*p,C=l*f,S=l*d,w=l*p,T=i.x,B=i.y,R=i.z;return r[0]=(1-(y+_))*T,r[1]=(g+w)*T,r[2]=(v-S)*T,r[3]=0,r[4]=(g-w)*B,r[5]=(1-(h+_))*B,r[6]=(x+C)*B,r[7]=0,r[8]=(v+S)*R,r[9]=(x-C)*R,r[10]=(1-(h+y))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=wl.set(r[0],r[1],r[2]).length();const o=wl.set(r[4],r[5],r[6]).length(),a=wl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Rr.copy(this);const f=1/s,d=1/o,p=1/a;return Rr.elements[0]*=f,Rr.elements[1]*=f,Rr.elements[2]*=f,Rr.elements[4]*=d,Rr.elements[5]*=d,Rr.elements[6]*=d,Rr.elements[8]*=p,Rr.elements[9]*=p,Rr.elements[10]*=p,t.setFromRotationMatrix(Rr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),f=2*s/(i-r),d=(t+e)/(t-e),p=(i+r)/(i-r),h=-(o+s)/(o-s),g=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=f,a[9]=p,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=g,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),f=1/(i-r),d=1/(o-s),p=(t+e)*l,h=(i+r)*f,g=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-p,a[1]=0,a[5]=2*f,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-g,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const wl=new k,Rr=new at,WT=new k(0,0,0),JT=new k(1,1,1),go=new k,Hh=new k,Ui=new k,W6=new at,J6=new yi;class Ou{constructor(e=0,t=0,i=0,r=Ou.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],f=r[5],d=r[9],p=r[2],h=r[6],g=r[10];switch(t){case"XYZ":this._y=Math.asin(Mn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Mn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,f)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(Mn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-p,g),this._z=Math.atan2(-o,f)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Mn(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(h,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,f));break;case"YZX":this._z=Math.asin(Mn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,f),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Mn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,f),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return W6.makeRotationFromQuaternion(e),this.setFromRotationMatrix(W6,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return J6.setFromEuler(this),this.setFromQuaternion(J6,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Ou.DefaultOrder="XYZ";Ou.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class za{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let XT=0;const X6=new k,Al=new yi,ws=new at,Vh=new k,bc=new k,jT=new k,KT=new yi,j6=new k(1,0,0),K6=new k(0,1,0),Z6=new k(0,0,1),ZT={type:"added"},Y6={type:"removed"};class Pt extends Sr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:XT++}),this.uuid=ji(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Pt.DefaultUp.clone();const e=new k,t=new Ou,i=new yi,r=new k(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new at},normalMatrix:{value:new gi}}),this.matrix=new at,this.matrixWorld=new at,this.matrixAutoUpdate=Pt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Pt.DefaultMatrixWorldAutoUpdate,this.layers=new za,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Al.setFromAxisAngle(e,t),this.quaternion.multiply(Al),this}rotateOnWorldAxis(e,t){return Al.setFromAxisAngle(e,t),this.quaternion.premultiply(Al),this}rotateX(e){return this.rotateOnAxis(j6,e)}rotateY(e){return this.rotateOnAxis(K6,e)}rotateZ(e){return this.rotateOnAxis(Z6,e)}translateOnAxis(e,t){return X6.copy(e).applyQuaternion(this.quaternion),this.position.add(X6.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(j6,e)}translateY(e){return this.translateOnAxis(K6,e)}translateZ(e){return this.translateOnAxis(Z6,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ws.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Vh.copy(e):Vh.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),bc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ws.lookAt(bc,Vh,this.up):ws.lookAt(Vh,bc,this.up),this.quaternion.setFromRotationMatrix(ws),r&&(ws.extractRotation(r.matrixWorld),Al.setFromRotationMatrix(ws),this.quaternion.premultiply(Al.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ZT)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Y6)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Y6)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ws.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ws.multiply(e.parent.matrixWorld)),e.applyMatrix4(ws),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(bc,e,jT),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(bc,KT,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let f=0,d=l.length;f<d;f++){const p=l[f];s(e.shapes,p)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,f=this.material.length;l<f;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),f=o(e.textures),d=o(e.images),p=o(e.shapes),h=o(e.skeletons),g=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),f.length>0&&(i.textures=f),d.length>0&&(i.images=d),p.length>0&&(i.shapes=p),h.length>0&&(i.skeletons=h),g.length>0&&(i.animations=g),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const f in a){const d=a[f];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Pt.DefaultUp=new k(0,1,0);Pt.DefaultMatrixAutoUpdate=!0;Pt.DefaultMatrixWorldAutoUpdate=!0;const Pr=new k,As=new k,dg=new k,Es=new k,El=new k,Tl=new k,Q6=new k,hg=new k,pg=new k,mg=new k;class vr{constructor(e=new k,t=new k,i=new k){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Pr.subVectors(e,t),r.cross(Pr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Pr.subVectors(r,t),As.subVectors(i,t),dg.subVectors(e,t);const o=Pr.dot(Pr),a=Pr.dot(As),l=Pr.dot(dg),f=As.dot(As),d=As.dot(dg),p=o*f-a*a;if(p===0)return s.set(-2,-1,-1);const h=1/p,g=(f*l-a*d)*h,v=(o*d-a*l)*h;return s.set(1-g-v,v,g)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Es),Es.x>=0&&Es.y>=0&&Es.x+Es.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Es),l.set(0,0),l.addScaledVector(s,Es.x),l.addScaledVector(o,Es.y),l.addScaledVector(a,Es.z),l}static isFrontFacing(e,t,i,r){return Pr.subVectors(i,t),As.subVectors(e,t),Pr.cross(As).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Pr.subVectors(this.c,this.b),As.subVectors(this.a,this.b),Pr.cross(As).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return vr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return vr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return vr.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return vr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return vr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;El.subVectors(r,i),Tl.subVectors(s,i),hg.subVectors(e,i);const l=El.dot(hg),f=Tl.dot(hg);if(l<=0&&f<=0)return t.copy(i);pg.subVectors(e,r);const d=El.dot(pg),p=Tl.dot(pg);if(d>=0&&p<=d)return t.copy(r);const h=l*p-d*f;if(h<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(El,o);mg.subVectors(e,s);const g=El.dot(mg),v=Tl.dot(mg);if(v>=0&&g<=v)return t.copy(s);const y=g*f-l*v;if(y<=0&&f>=0&&v<=0)return a=f/(f-v),t.copy(i).addScaledVector(Tl,a);const x=d*v-g*p;if(x<=0&&p-d>=0&&g-v>=0)return Q6.subVectors(s,r),a=(p-d)/(p-d+(g-v)),t.copy(r).addScaledVector(Q6,a);const _=1/(x+y+h);return o=y*_,a=h*_,t.copy(i).addScaledVector(El,o).addScaledVector(Tl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let YT=0;class vn extends Sr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:YT++}),this.uuid=ji(),this.name="",this.type="Material",this.blending=Na,this.side=us,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Vv,this.blendDst=Wv,this.blendEquation=wa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Cm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=hC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jp,this.stencilZFail=jp,this.stencilZPass=jp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Na&&(i.blending=this.blending),this.side!==us&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ji extends vn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Oe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const En=new k,Wh=new ve;class Tt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Of,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Wh.fromBufferAttribute(this,t),Wh.applyMatrix3(e),this.setXY(t,Wh.x,Wh.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)En.fromBufferAttribute(this,t),En.applyMatrix3(e),this.setXYZ(t,En.x,En.y,En.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)En.fromBufferAttribute(this,t),En.applyMatrix4(e),this.setXYZ(t,En.x,En.y,En.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)En.fromBufferAttribute(this,t),En.applyNormalMatrix(e),this.setXYZ(t,En.x,En.y,En.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)En.fromBufferAttribute(this,t),En.transformDirection(e),this.setXYZ(t,En.x,En.y,En.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Os(t,this.array)),t}setX(e,t){return this.normalized&&(t=Xt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Os(t,this.array)),t}setY(e,t){return this.normalized&&(t=Xt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Os(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Xt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Os(t,this.array)),t}setW(e,t){return this.normalized&&(t=Xt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Xt(t,this.array),i=Xt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Xt(t,this.array),i=Xt(i,this.array),r=Xt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Xt(t,this.array),i=Xt(i,this.array),r=Xt(r,this.array),s=Xt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Of&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class QT extends Tt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class qT extends Tt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class $T extends Tt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class eb extends Tt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class Qv extends Tt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class tb extends Tt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class qv extends Tt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class nb extends Tt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class Qe extends Tt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class ib extends Tt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let rb=0;const dr=new at,gg=new Pt,bl=new k,zi=new qo,Bc=new qo,Gn=new k;class ft extends Sr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:rb++}),this.uuid=ji(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(mC(e)?qv:Qv)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new gi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return dr.makeRotationFromQuaternion(e),this.applyMatrix4(dr),this}rotateX(e){return dr.makeRotationX(e),this.applyMatrix4(dr),this}rotateY(e){return dr.makeRotationY(e),this.applyMatrix4(dr),this}rotateZ(e){return dr.makeRotationZ(e),this.applyMatrix4(dr),this}translate(e,t,i){return dr.makeTranslation(e,t,i),this.applyMatrix4(dr),this}scale(e,t,i){return dr.makeScale(e,t,i),this.applyMatrix4(dr),this}lookAt(e){return gg.lookAt(e),gg.updateMatrix(),this.applyMatrix4(gg.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(bl).negate(),this.translate(bl.x,bl.y,bl.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Qe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new qo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];zi.setFromBufferAttribute(s),this.morphTargetsRelative?(Gn.addVectors(this.boundingBox.min,zi.min),this.boundingBox.expandByPoint(Gn),Gn.addVectors(this.boundingBox.max,zi.max),this.boundingBox.expandByPoint(Gn)):(this.boundingBox.expandByPoint(zi.min),this.boundingBox.expandByPoint(zi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $o);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new k,1/0);return}if(e){const i=this.boundingSphere.center;if(zi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Bc.setFromBufferAttribute(a),this.morphTargetsRelative?(Gn.addVectors(zi.min,Bc.min),zi.expandByPoint(Gn),Gn.addVectors(zi.max,Bc.max),zi.expandByPoint(Gn)):(zi.expandByPoint(Bc.min),zi.expandByPoint(Bc.max))}zi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Gn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Gn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let f=0,d=a.count;f<d;f++)Gn.fromBufferAttribute(a,f),l&&(bl.fromBufferAttribute(e,f),Gn.add(bl)),r=Math.max(r,i.distanceToSquared(Gn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Tt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,f=[],d=[];for(let I=0;I<a;I++)f[I]=new k,d[I]=new k;const p=new k,h=new k,g=new k,v=new ve,y=new ve,x=new ve,_=new k,C=new k;function S(I,G,ie){p.fromArray(r,I*3),h.fromArray(r,G*3),g.fromArray(r,ie*3),v.fromArray(o,I*2),y.fromArray(o,G*2),x.fromArray(o,ie*2),h.sub(p),g.sub(p),y.sub(v),x.sub(v);const K=1/(y.x*x.y-x.x*y.y);isFinite(K)&&(_.copy(h).multiplyScalar(x.y).addScaledVector(g,-y.y).multiplyScalar(K),C.copy(g).multiplyScalar(y.x).addScaledVector(h,-x.x).multiplyScalar(K),f[I].add(_),f[G].add(_),f[ie].add(_),d[I].add(C),d[G].add(C),d[ie].add(C))}let w=this.groups;w.length===0&&(w=[{start:0,count:i.length}]);for(let I=0,G=w.length;I<G;++I){const ie=w[I],K=ie.start,j=ie.count;for(let te=K,le=K+j;te<le;te+=3)S(i[te+0],i[te+1],i[te+2])}const T=new k,B=new k,R=new k,E=new k;function P(I){R.fromArray(s,I*3),E.copy(R);const G=f[I];T.copy(G),T.sub(R.multiplyScalar(R.dot(G))).normalize(),B.crossVectors(E,G);const K=B.dot(d[I])<0?-1:1;l[I*4]=T.x,l[I*4+1]=T.y,l[I*4+2]=T.z,l[I*4+3]=K}for(let I=0,G=w.length;I<G;++I){const ie=w[I],K=ie.start,j=ie.count;for(let te=K,le=K+j;te<le;te+=3)P(i[te+0]),P(i[te+1]),P(i[te+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Tt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let h=0,g=i.count;h<g;h++)i.setXYZ(h,0,0,0);const r=new k,s=new k,o=new k,a=new k,l=new k,f=new k,d=new k,p=new k;if(e)for(let h=0,g=e.count;h<g;h+=3){const v=e.getX(h+0),y=e.getX(h+1),x=e.getX(h+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,x),d.subVectors(o,s),p.subVectors(r,s),d.cross(p),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,y),f.fromBufferAttribute(i,x),a.add(d),l.add(d),f.add(d),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(y,l.x,l.y,l.z),i.setXYZ(x,f.x,f.y,f.z)}else for(let h=0,g=t.count;h<g;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),d.subVectors(o,s),p.subVectors(r,s),d.cross(p),i.setXYZ(h+0,d.x,d.y,d.z),i.setXYZ(h+1,d.x,d.y,d.z),i.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Gn.fromBufferAttribute(e,t),Gn.normalize(),e.setXYZ(t,Gn.x,Gn.y,Gn.z)}toNonIndexed(){function e(a,l){const f=a.array,d=a.itemSize,p=a.normalized,h=new f.constructor(l.length*d);let g=0,v=0;for(let y=0,x=l.length;y<x;y++){a.isInterleavedBufferAttribute?g=l[y]*a.data.stride+a.offset:g=l[y]*d;for(let _=0;_<d;_++)h[v++]=f[g++]}return new Tt(h,d,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ft,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],f=e(l,i);t.setAttribute(a,f)}const s=this.morphAttributes;for(const a in s){const l=[],f=s[a];for(let d=0,p=f.length;d<p;d++){const h=f[d],g=e(h,i);l.push(g)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const f=o[a];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const f in l)l[f]!==void 0&&(e[f]=l[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const f=i[l];e.data.attributes[l]=f.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const f=this.morphAttributes[l],d=[];for(let p=0,h=f.length;p<h;p++){const g=f[p];d.push(g.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const f in r){const d=r[f];this.setAttribute(f,d.clone(t))}const s=e.morphAttributes;for(const f in s){const d=[],p=s[f];for(let h=0,g=p.length;h<g;h++)d.push(p[h].clone(t));this.morphAttributes[f]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let f=0,d=o.length;f<d;f++){const p=o[f];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const q6=new at,Bl=new od,vg=new $o,Rc=new k,Pc=new k,Lc=new k,yg=new k,Jh=new k,Xh=new ve,jh=new ve,Kh=new ve,xg=new k,Zh=new k;class Bn extends Pt{constructor(e=new ft,t=new Ji){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Jh.set(0,0,0);for(let l=0,f=s.length;l<f;l++){const d=a[l],p=s[l];d!==0&&(yg.fromBufferAttribute(p,e),o?Jh.addScaledVector(yg,d):Jh.addScaledVector(yg.sub(t),d))}t.add(Jh)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),vg.copy(i.boundingSphere),vg.applyMatrix4(s),e.ray.intersectsSphere(vg)===!1)||(q6.copy(s).invert(),Bl.copy(e.ray).applyMatrix4(q6),i.boundingBox!==null&&Bl.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,f=i.attributes.uv,d=i.attributes.uv2,p=i.groups,h=i.drawRange;if(a!==null)if(Array.isArray(r))for(let g=0,v=p.length;g<v;g++){const y=p[g],x=r[y.materialIndex],_=Math.max(y.start,h.start),C=Math.min(a.count,Math.min(y.start+y.count,h.start+h.count));for(let S=_,w=C;S<w;S+=3){const T=a.getX(S),B=a.getX(S+1),R=a.getX(S+2);o=Yh(this,x,e,Bl,f,d,T,B,R),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const g=Math.max(0,h.start),v=Math.min(a.count,h.start+h.count);for(let y=g,x=v;y<x;y+=3){const _=a.getX(y),C=a.getX(y+1),S=a.getX(y+2);o=Yh(this,r,e,Bl,f,d,_,C,S),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let g=0,v=p.length;g<v;g++){const y=p[g],x=r[y.materialIndex],_=Math.max(y.start,h.start),C=Math.min(l.count,Math.min(y.start+y.count,h.start+h.count));for(let S=_,w=C;S<w;S+=3){const T=S,B=S+1,R=S+2;o=Yh(this,x,e,Bl,f,d,T,B,R),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const g=Math.max(0,h.start),v=Math.min(l.count,h.start+h.count);for(let y=g,x=v;y<x;y+=3){const _=y,C=y+1,S=y+2;o=Yh(this,r,e,Bl,f,d,_,C,S),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}}function sb(n,e,t,i,r,s,o,a){let l;if(e.side===Yn?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===us,a),l===null)return null;Zh.copy(a),Zh.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(Zh);return f<t.near||f>t.far?null:{distance:f,point:Zh.clone(),object:n}}function Yh(n,e,t,i,r,s,o,a,l){n.getVertexPosition(o,Rc),n.getVertexPosition(a,Pc),n.getVertexPosition(l,Lc);const f=sb(n,e,t,i,Rc,Pc,Lc,xg);if(f){r&&(Xh.fromBufferAttribute(r,o),jh.fromBufferAttribute(r,a),Kh.fromBufferAttribute(r,l),f.uv=vr.getUV(xg,Rc,Pc,Lc,Xh,jh,Kh,new ve)),s&&(Xh.fromBufferAttribute(s,o),jh.fromBufferAttribute(s,a),Kh.fromBufferAttribute(s,l),f.uv2=vr.getUV(xg,Rc,Pc,Lc,Xh,jh,Kh,new ve));const d={a:o,b:a,c:l,normal:new k,materialIndex:0};vr.getNormal(Rc,Pc,Lc,d.normal),f.face=d}return f}class ea extends ft{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],f=[],d=[],p=[];let h=0,g=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Qe(f,3)),this.setAttribute("normal",new Qe(d,3)),this.setAttribute("uv",new Qe(p,2));function v(y,x,_,C,S,w,T,B,R,E,P){const I=w/R,G=T/E,ie=w/2,K=T/2,j=B/2,te=R+1,le=E+1;let ce=0,L=0;const V=new k;for(let W=0;W<le;W++){const X=W*G-K;for(let H=0;H<te;H++){const q=H*I-ie;V[y]=q*C,V[x]=X*S,V[_]=j,f.push(V.x,V.y,V.z),V[y]=0,V[x]=0,V[_]=B>0?1:-1,d.push(V.x,V.y,V.z),p.push(H/R),p.push(1-W/E),ce+=1}}for(let W=0;W<E;W++)for(let X=0;X<R;X++){const H=h+X+te*W,q=h+X+te*(W+1),ne=h+(X+1)+te*(W+1),ge=h+(X+1)+te*W;l.push(H,q,ge),l.push(q,ne,ge),L+=6}a.addGroup(g,L,P),g+=L,h+=ce}}static fromJSON(e){return new ea(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function wu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function pi(n){const e={};for(let t=0;t<n.length;t++){const i=wu(n[t]);for(const r in i)e[r]=i[r]}return e}function ob(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function vC(n){return n.getRenderTarget()===null&&n.outputEncoding===qe?Dr:Su}const yC={clone:wu,merge:pi};var ab=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,lb=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class yn extends vn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=ab,this.fragmentShader=lb,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wu(e.uniforms),this.uniformsGroups=ob(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Uu extends Pt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new at,this.projectionMatrix=new at,this.projectionMatrixInverse=new at}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Sn extends Uu{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Uf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Oa*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Uf*2*Math.atan(Math.tan(Oa*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Oa*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,f=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/f,r*=o.width/l,i*=o.height/f}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Rl=-90,Pl=1;class xC extends Pt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Sn(Rl,Pl,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Sn(Rl,Pl,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Sn(Rl,Pl,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Sn(Rl,Pl,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Sn(Rl,Pl,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const f=new Sn(Rl,Pl,e,t);f.layers=this.layers,f.up.set(0,1,0),f.lookAt(0,0,-1),this.add(f)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,f]=this.children,d=e.getRenderTarget(),p=e.toneMapping,h=e.xr.enabled;e.toneMapping=zr,e.xr.enabled=!1;const g=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=g,e.setRenderTarget(i,5),e.render(t,f),e.setRenderTarget(d),e.toneMapping=p,e.xr.enabled=h,i.texture.needsPMREMUpdate=!0}}class ad extends Yt{constructor(e,t,i,r,s,o,a,l,f,d){e=e!==void 0?e:[],t=t!==void 0?t:Ks,super(e,t,i,r,s,o,a,l,f,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class $v extends jt{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new ad(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Gt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ea(5,5,5),s=new yn({name:"CubemapFromEquirect",uniforms:wu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Yn,blending:Rn});s.uniforms.tEquirect.value=t;const o=new Bn(r,s),a=t.minFilter;return t.minFilter===Vr&&(t.minFilter=Gt),new xC(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const _g=new k,ub=new k,cb=new gi;class wo{constructor(e=new k(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=_g.subVectors(i,t).cross(ub.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(_g),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||cb.getNormalMatrix(e),r=this.coplanarPoint(_g).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ll=new $o,Qh=new k;class $m{constructor(e=new wo,t=new wo,i=new wo,r=new wo,s=new wo,o=new wo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],f=i[5],d=i[6],p=i[7],h=i[8],g=i[9],v=i[10],y=i[11],x=i[12],_=i[13],C=i[14],S=i[15];return t[0].setComponents(a-r,p-l,y-h,S-x).normalize(),t[1].setComponents(a+r,p+l,y+h,S+x).normalize(),t[2].setComponents(a+s,p+f,y+g,S+_).normalize(),t[3].setComponents(a-s,p-f,y-g,S-_).normalize(),t[4].setComponents(a-o,p-d,y-v,S-C).normalize(),t[5].setComponents(a+o,p+d,y+v,S+C).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Ll.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ll)}intersectsSprite(e){return Ll.center.set(0,0,0),Ll.radius=.7071067811865476,Ll.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ll)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Qh.x=r.normal.x>0?e.max.x:e.min.x,Qh.y=r.normal.y>0?e.max.y:e.min.y,Qh.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Qh)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function _C(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function fb(n,e){const t=e.isWebGL2,i=new WeakMap;function r(f,d){const p=f.array,h=f.usage,g=n.createBuffer();n.bindBuffer(d,g),n.bufferData(d,p,h),f.onUploadCallback();let v;if(p instanceof Float32Array)v=5126;else if(p instanceof Uint16Array)if(f.isFloat16BufferAttribute)if(t)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(p instanceof Int16Array)v=5122;else if(p instanceof Uint32Array)v=5125;else if(p instanceof Int32Array)v=5124;else if(p instanceof Int8Array)v=5120;else if(p instanceof Uint8Array)v=5121;else if(p instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:g,type:v,bytesPerElement:p.BYTES_PER_ELEMENT,version:f.version}}function s(f,d,p){const h=d.array,g=d.updateRange;n.bindBuffer(p,f),g.count===-1?n.bufferSubData(p,0,h):(t?n.bufferSubData(p,g.offset*h.BYTES_PER_ELEMENT,h,g.offset,g.count):n.bufferSubData(p,g.offset*h.BYTES_PER_ELEMENT,h.subarray(g.offset,g.offset+g.count)),g.count=-1),d.onUploadCallback()}function o(f){return f.isInterleavedBufferAttribute&&(f=f.data),i.get(f)}function a(f){f.isInterleavedBufferAttribute&&(f=f.data);const d=i.get(f);d&&(n.deleteBuffer(d.buffer),i.delete(f))}function l(f,d){if(f.isGLBufferAttribute){const h=i.get(f);(!h||h.version<f.version)&&i.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const p=i.get(f);p===void 0?i.set(f,r(f,d)):p.version<f.version&&(s(p.buffer,f,d),p.version=f.version)}return{get:o,remove:a,update:l}}class zu extends ft{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),f=a+1,d=l+1,p=e/a,h=t/l,g=[],v=[],y=[],x=[];for(let _=0;_<d;_++){const C=_*h-o;for(let S=0;S<f;S++){const w=S*p-s;v.push(w,-C,0),y.push(0,0,1),x.push(S/a),x.push(1-_/l)}}for(let _=0;_<l;_++)for(let C=0;C<a;C++){const S=C+f*_,w=C+f*(_+1),T=C+1+f*(_+1),B=C+1+f*_;g.push(S,w,B),g.push(w,T,B)}this.setIndex(g),this.setAttribute("position",new Qe(v,3)),this.setAttribute("normal",new Qe(y,3)),this.setAttribute("uv",new Qe(x,2))}static fromJSON(e){return new zu(e.width,e.height,e.widthSegments,e.heightSegments)}}var db=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,hb=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,pb=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,mb=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,gb=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,vb=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,yb="vec3 transformed = vec3( position );",xb=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,_b=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Cb=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Mb=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Sb=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,wb=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ab=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Eb=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Tb=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,bb=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Bb=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Rb=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Pb=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Lb=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Ib=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Db=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Fb=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,kb=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Nb=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Ob="gl_FragColor = linearToOutputTexel( gl_FragColor );",Ub=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,zb=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Gb=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Hb=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Vb=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Wb=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Jb=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Xb=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,jb=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Kb=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Zb=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Yb=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Qb=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,qb=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,$b=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,eB=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,tB=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,nB=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,iB=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,rB=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,sB=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,oB=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,aB=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lB=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,uB=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cB=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,fB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,dB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,pB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,mB=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,gB=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,vB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,yB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,xB=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,_B=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,CB=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,MB=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,SB=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,wB=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,AB=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,EB=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,TB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,BB=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,RB=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,PB=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,LB=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,IB=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,DB=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,FB=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,kB=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,NB=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,OB=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,UB=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,zB=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,GB=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,HB=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,VB=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,WB=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,JB=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,XB=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,jB=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,KB=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,ZB=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,YB=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,QB=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,qB=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,$B=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,eR=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tR=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,nR=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,iR=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,rR=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,sR=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,oR=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,aR=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,lR=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,uR=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const cR=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fR=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,dR=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hR=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,pR=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,mR=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,gR=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,vR=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,yR=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,xR=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,_R=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,CR=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,MR=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,SR=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wR=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,AR=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ER=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TR=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bR=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,BR=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RR=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,PR=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,LR=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,IR=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DR=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,FR=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kR=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NR=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OR=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,UR=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,zR=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GR=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,HR=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,VR=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,gt={alphamap_fragment:db,alphamap_pars_fragment:hb,alphatest_fragment:pb,alphatest_pars_fragment:mb,aomap_fragment:gb,aomap_pars_fragment:vb,begin_vertex:yb,beginnormal_vertex:xb,bsdfs:_b,iridescence_fragment:Cb,bumpmap_pars_fragment:Mb,clipping_planes_fragment:Sb,clipping_planes_pars_fragment:wb,clipping_planes_pars_vertex:Ab,clipping_planes_vertex:Eb,color_fragment:Tb,color_pars_fragment:bb,color_pars_vertex:Bb,color_vertex:Rb,common:Pb,cube_uv_reflection_fragment:Lb,defaultnormal_vertex:Ib,displacementmap_pars_vertex:Db,displacementmap_vertex:Fb,emissivemap_fragment:kb,emissivemap_pars_fragment:Nb,encodings_fragment:Ob,encodings_pars_fragment:Ub,envmap_fragment:zb,envmap_common_pars_fragment:Gb,envmap_pars_fragment:Hb,envmap_pars_vertex:Vb,envmap_physical_pars_fragment:tB,envmap_vertex:Wb,fog_vertex:Jb,fog_pars_vertex:Xb,fog_fragment:jb,fog_pars_fragment:Kb,gradientmap_pars_fragment:Zb,lightmap_fragment:Yb,lightmap_pars_fragment:Qb,lights_lambert_fragment:qb,lights_lambert_pars_fragment:$b,lights_pars_begin:eB,lights_toon_fragment:nB,lights_toon_pars_fragment:iB,lights_phong_fragment:rB,lights_phong_pars_fragment:sB,lights_physical_fragment:oB,lights_physical_pars_fragment:aB,lights_fragment_begin:lB,lights_fragment_maps:uB,lights_fragment_end:cB,logdepthbuf_fragment:fB,logdepthbuf_pars_fragment:dB,logdepthbuf_pars_vertex:hB,logdepthbuf_vertex:pB,map_fragment:mB,map_pars_fragment:gB,map_particle_fragment:vB,map_particle_pars_fragment:yB,metalnessmap_fragment:xB,metalnessmap_pars_fragment:_B,morphcolor_vertex:CB,morphnormal_vertex:MB,morphtarget_pars_vertex:SB,morphtarget_vertex:wB,normal_fragment_begin:AB,normal_fragment_maps:EB,normal_pars_fragment:TB,normal_pars_vertex:bB,normal_vertex:BB,normalmap_pars_fragment:RB,clearcoat_normal_fragment_begin:PB,clearcoat_normal_fragment_maps:LB,clearcoat_pars_fragment:IB,iridescence_pars_fragment:DB,output_fragment:FB,packing:kB,premultiplied_alpha_fragment:NB,project_vertex:OB,dithering_fragment:UB,dithering_pars_fragment:zB,roughnessmap_fragment:GB,roughnessmap_pars_fragment:HB,shadowmap_pars_fragment:VB,shadowmap_pars_vertex:WB,shadowmap_vertex:JB,shadowmask_pars_fragment:XB,skinbase_vertex:jB,skinning_pars_vertex:KB,skinning_vertex:ZB,skinnormal_vertex:YB,specularmap_fragment:QB,specularmap_pars_fragment:qB,tonemapping_fragment:$B,tonemapping_pars_fragment:eR,transmission_fragment:tR,transmission_pars_fragment:nR,uv_pars_fragment:iR,uv_pars_vertex:rR,uv_vertex:sR,uv2_pars_fragment:oR,uv2_pars_vertex:aR,uv2_vertex:lR,worldpos_vertex:uR,background_vert:cR,background_frag:fR,backgroundCube_vert:dR,backgroundCube_frag:hR,cube_vert:pR,cube_frag:mR,depth_vert:gR,depth_frag:vR,distanceRGBA_vert:yR,distanceRGBA_frag:xR,equirect_vert:_R,equirect_frag:CR,linedashed_vert:MR,linedashed_frag:SR,meshbasic_vert:wR,meshbasic_frag:AR,meshlambert_vert:ER,meshlambert_frag:TR,meshmatcap_vert:bR,meshmatcap_frag:BR,meshnormal_vert:RR,meshnormal_frag:PR,meshphong_vert:LR,meshphong_frag:IR,meshphysical_vert:DR,meshphysical_frag:FR,meshtoon_vert:kR,meshtoon_frag:NR,points_vert:OR,points_frag:UR,shadow_vert:zR,shadow_frag:GR,sprite_vert:HR,sprite_frag:VR},Ue={common:{diffuse:{value:new Oe(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new gi},uv2Transform:{value:new gi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Oe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Oe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new gi}},sprite:{diffuse:{value:new Oe(16777215)},opacity:{value:1},center:{value:new ve(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new gi}}},kr={basic:{uniforms:pi([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.fog]),vertexShader:gt.meshbasic_vert,fragmentShader:gt.meshbasic_frag},lambert:{uniforms:pi([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new Oe(0)}}]),vertexShader:gt.meshlambert_vert,fragmentShader:gt.meshlambert_frag},phong:{uniforms:pi([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new Oe(0)},specular:{value:new Oe(1118481)},shininess:{value:30}}]),vertexShader:gt.meshphong_vert,fragmentShader:gt.meshphong_frag},standard:{uniforms:pi([Ue.common,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.roughnessmap,Ue.metalnessmap,Ue.fog,Ue.lights,{emissive:{value:new Oe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag},toon:{uniforms:pi([Ue.common,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.gradientmap,Ue.fog,Ue.lights,{emissive:{value:new Oe(0)}}]),vertexShader:gt.meshtoon_vert,fragmentShader:gt.meshtoon_frag},matcap:{uniforms:pi([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,{matcap:{value:null}}]),vertexShader:gt.meshmatcap_vert,fragmentShader:gt.meshmatcap_frag},points:{uniforms:pi([Ue.points,Ue.fog]),vertexShader:gt.points_vert,fragmentShader:gt.points_frag},dashed:{uniforms:pi([Ue.common,Ue.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gt.linedashed_vert,fragmentShader:gt.linedashed_frag},depth:{uniforms:pi([Ue.common,Ue.displacementmap]),vertexShader:gt.depth_vert,fragmentShader:gt.depth_frag},normal:{uniforms:pi([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,{opacity:{value:1}}]),vertexShader:gt.meshnormal_vert,fragmentShader:gt.meshnormal_frag},sprite:{uniforms:pi([Ue.sprite,Ue.fog]),vertexShader:gt.sprite_vert,fragmentShader:gt.sprite_frag},background:{uniforms:{uvTransform:{value:new gi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gt.background_vert,fragmentShader:gt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:gt.backgroundCube_vert,fragmentShader:gt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gt.cube_vert,fragmentShader:gt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gt.equirect_vert,fragmentShader:gt.equirect_frag},distanceRGBA:{uniforms:pi([Ue.common,Ue.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gt.distanceRGBA_vert,fragmentShader:gt.distanceRGBA_frag},shadow:{uniforms:pi([Ue.lights,Ue.fog,{color:{value:new Oe(0)},opacity:{value:1}}]),vertexShader:gt.shadow_vert,fragmentShader:gt.shadow_frag}};kr.physical={uniforms:pi([kr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ve(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Oe(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Oe(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Oe(1,1,1)},specularColorMap:{value:null}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag};const qh={r:0,b:0,g:0};function WR(n,e,t,i,r,s,o){const a=new Oe(0);let l=s===!0?0:1,f,d,p=null,h=0,g=null;function v(x,_){let C=!1,S=_.isScene===!0?_.background:null;S&&S.isTexture&&(S=(_.backgroundBlurriness>0?t:e).get(S));const w=n.xr,T=w.getSession&&w.getSession();T&&T.environmentBlendMode==="additive"&&(S=null),S===null?y(a,l):S&&S.isColor&&(y(S,1),C=!0),(n.autoClear||C)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Nu)?(d===void 0&&(d=new Bn(new ea(1,1,1),new yn({name:"BackgroundCubeMaterial",uniforms:wu(kr.backgroundCube.uniforms),vertexShader:kr.backgroundCube.vertexShader,fragmentShader:kr.backgroundCube.fragmentShader,side:Yn,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(B,R,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=S,d.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,d.material.toneMapped=S.encoding!==qe,(p!==S||h!==S.version||g!==n.toneMapping)&&(d.material.needsUpdate=!0,p=S,h=S.version,g=n.toneMapping),d.layers.enableAll(),x.unshift(d,d.geometry,d.material,0,0,null)):S&&S.isTexture&&(f===void 0&&(f=new Bn(new zu(2,2),new yn({name:"BackgroundMaterial",uniforms:wu(kr.background.uniforms),vertexShader:kr.background.vertexShader,fragmentShader:kr.background.fragmentShader,side:us,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=S,f.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,f.material.toneMapped=S.encoding!==qe,S.matrixAutoUpdate===!0&&S.updateMatrix(),f.material.uniforms.uvTransform.value.copy(S.matrix),(p!==S||h!==S.version||g!==n.toneMapping)&&(f.material.needsUpdate=!0,p=S,h=S.version,g=n.toneMapping),f.layers.enableAll(),x.unshift(f,f.geometry,f.material,0,0,null))}function y(x,_){x.getRGB(qh,vC(n)),i.buffers.color.setClear(qh.r,qh.g,qh.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(x,_=1){a.set(x),l=_,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,y(a,l)},render:v}}function JR(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let f=l,d=!1;function p(j,te,le,ce,L){let V=!1;if(o){const W=y(ce,le,te);f!==W&&(f=W,g(f.object)),V=_(j,ce,le,L),V&&C(j,ce,le,L)}else{const W=te.wireframe===!0;(f.geometry!==ce.id||f.program!==le.id||f.wireframe!==W)&&(f.geometry=ce.id,f.program=le.id,f.wireframe=W,V=!0)}L!==null&&t.update(L,34963),(V||d)&&(d=!1,E(j,te,le,ce),L!==null&&n.bindBuffer(34963,t.get(L).buffer))}function h(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function g(j){return i.isWebGL2?n.bindVertexArray(j):s.bindVertexArrayOES(j)}function v(j){return i.isWebGL2?n.deleteVertexArray(j):s.deleteVertexArrayOES(j)}function y(j,te,le){const ce=le.wireframe===!0;let L=a[j.id];L===void 0&&(L={},a[j.id]=L);let V=L[te.id];V===void 0&&(V={},L[te.id]=V);let W=V[ce];return W===void 0&&(W=x(h()),V[ce]=W),W}function x(j){const te=[],le=[],ce=[];for(let L=0;L<r;L++)te[L]=0,le[L]=0,ce[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:te,enabledAttributes:le,attributeDivisors:ce,object:j,attributes:{},index:null}}function _(j,te,le,ce){const L=f.attributes,V=te.attributes;let W=0;const X=le.getAttributes();for(const H in X)if(X[H].location>=0){const ne=L[H];let ge=V[H];if(ge===void 0&&(H==="instanceMatrix"&&j.instanceMatrix&&(ge=j.instanceMatrix),H==="instanceColor"&&j.instanceColor&&(ge=j.instanceColor)),ne===void 0||ne.attribute!==ge||ge&&ne.data!==ge.data)return!0;W++}return f.attributesNum!==W||f.index!==ce}function C(j,te,le,ce){const L={},V=te.attributes;let W=0;const X=le.getAttributes();for(const H in X)if(X[H].location>=0){let ne=V[H];ne===void 0&&(H==="instanceMatrix"&&j.instanceMatrix&&(ne=j.instanceMatrix),H==="instanceColor"&&j.instanceColor&&(ne=j.instanceColor));const ge={};ge.attribute=ne,ne&&ne.data&&(ge.data=ne.data),L[H]=ge,W++}f.attributes=L,f.attributesNum=W,f.index=ce}function S(){const j=f.newAttributes;for(let te=0,le=j.length;te<le;te++)j[te]=0}function w(j){T(j,0)}function T(j,te){const le=f.newAttributes,ce=f.enabledAttributes,L=f.attributeDivisors;le[j]=1,ce[j]===0&&(n.enableVertexAttribArray(j),ce[j]=1),L[j]!==te&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](j,te),L[j]=te)}function B(){const j=f.newAttributes,te=f.enabledAttributes;for(let le=0,ce=te.length;le<ce;le++)te[le]!==j[le]&&(n.disableVertexAttribArray(le),te[le]=0)}function R(j,te,le,ce,L,V){i.isWebGL2===!0&&(le===5124||le===5125)?n.vertexAttribIPointer(j,te,le,L,V):n.vertexAttribPointer(j,te,le,ce,L,V)}function E(j,te,le,ce){if(i.isWebGL2===!1&&(j.isInstancedMesh||ce.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const L=ce.attributes,V=le.getAttributes(),W=te.defaultAttributeValues;for(const X in V){const H=V[X];if(H.location>=0){let q=L[X];if(q===void 0&&(X==="instanceMatrix"&&j.instanceMatrix&&(q=j.instanceMatrix),X==="instanceColor"&&j.instanceColor&&(q=j.instanceColor)),q!==void 0){const ne=q.normalized,ge=q.itemSize,N=t.get(q);if(N===void 0)continue;const Ee=N.buffer,he=N.type,ze=N.bytesPerElement;if(q.isInterleavedBufferAttribute){const we=q.data,ke=we.stride,se=q.offset;if(we.isInstancedInterleavedBuffer){for(let de=0;de<H.locationSize;de++)T(H.location+de,we.meshPerAttribute);j.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let de=0;de<H.locationSize;de++)w(H.location+de);n.bindBuffer(34962,Ee);for(let de=0;de<H.locationSize;de++)R(H.location+de,ge/H.locationSize,he,ne,ke*ze,(se+ge/H.locationSize*de)*ze)}else{if(q.isInstancedBufferAttribute){for(let we=0;we<H.locationSize;we++)T(H.location+we,q.meshPerAttribute);j.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=q.meshPerAttribute*q.count)}else for(let we=0;we<H.locationSize;we++)w(H.location+we);n.bindBuffer(34962,Ee);for(let we=0;we<H.locationSize;we++)R(H.location+we,ge/H.locationSize,he,ne,ge*ze,ge/H.locationSize*we*ze)}}else if(W!==void 0){const ne=W[X];if(ne!==void 0)switch(ne.length){case 2:n.vertexAttrib2fv(H.location,ne);break;case 3:n.vertexAttrib3fv(H.location,ne);break;case 4:n.vertexAttrib4fv(H.location,ne);break;default:n.vertexAttrib1fv(H.location,ne)}}}}B()}function P(){ie();for(const j in a){const te=a[j];for(const le in te){const ce=te[le];for(const L in ce)v(ce[L].object),delete ce[L];delete te[le]}delete a[j]}}function I(j){if(a[j.id]===void 0)return;const te=a[j.id];for(const le in te){const ce=te[le];for(const L in ce)v(ce[L].object),delete ce[L];delete te[le]}delete a[j.id]}function G(j){for(const te in a){const le=a[te];if(le[j.id]===void 0)continue;const ce=le[j.id];for(const L in ce)v(ce[L].object),delete ce[L];delete le[j.id]}}function ie(){K(),d=!0,f!==l&&(f=l,g(f.object))}function K(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:p,reset:ie,resetDefaultState:K,dispose:P,releaseStatesOfGeometry:I,releaseStatesOfProgram:G,initAttributes:S,enableAttribute:w,disableUnusedAttributes:B}}function XR(n,e,t,i){const r=i.isWebGL2;let s;function o(f){s=f}function a(f,d){n.drawArrays(s,f,d),t.update(d,s,1)}function l(f,d,p){if(p===0)return;let h,g;if(r)h=n,g="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[g](s,f,d,p),t.update(d,s,p)}this.setMode=o,this.render=a,this.renderInstances=l}function jR(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const f=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,p=n.getParameter(34930),h=n.getParameter(35660),g=n.getParameter(3379),v=n.getParameter(34076),y=n.getParameter(34921),x=n.getParameter(36347),_=n.getParameter(36348),C=n.getParameter(36349),S=h>0,w=o||e.has("OES_texture_float"),T=S&&w,B=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:f,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:p,maxVertexTextures:h,maxTextureSize:g,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:x,maxVaryings:_,maxFragmentUniforms:C,vertexTextures:S,floatFragmentTextures:w,floatVertexTextures:T,maxSamples:B}}function KR(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new wo,a=new gi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,h,g){const v=p.length!==0||h||i!==0||r;return r=h,t=d(p,g,0),i=p.length,v},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1,f()},this.setState=function(p,h,g){const v=p.clippingPlanes,y=p.clipIntersection,x=p.clipShadows,_=n.get(p);if(!r||v===null||v.length===0||s&&!x)s?d(null):f();else{const C=s?0:i,S=C*4;let w=_.clippingState||null;l.value=w,w=d(v,h,S,g);for(let T=0;T!==S;++T)w[T]=t[T];_.clippingState=w,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=C}};function f(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(p,h,g,v){const y=p!==null?p.length:0;let x=null;if(y!==0){if(x=l.value,v!==!0||x===null){const _=g+y*4,C=h.matrixWorldInverse;a.getNormalMatrix(C),(x===null||x.length<_)&&(x=new Float32Array(_));for(let S=0,w=g;S!==y;++S,w+=4)o.copy(p[S]).applyMatrix4(C,a),o.normal.toArray(x,w),x[w+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function ZR(n){let e=new WeakMap;function t(o,a){return a===_u?o.mapping=Ks:a===Ff&&(o.mapping=Vo),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===_u||a===Ff)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const f=new $v(l.height/2);return f.fromEquirectangularTexture(n,o),e.set(o,f),o.addEventListener("dispose",r),t(f.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Gu extends Uu{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,o=s+f*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const eu=4,$6=[.125,.215,.35,.446,.526,.582],Aa=20,Cg=new Gu,e9=new Oe;let Mg=null;const Ma=(1+Math.sqrt(5))/2,Il=1/Ma,t9=[new k(1,1,1),new k(-1,1,1),new k(1,1,-1),new k(-1,1,-1),new k(0,Ma,Il),new k(0,Ma,-Il),new k(Il,0,Ma),new k(-Il,0,Ma),new k(Ma,Il,0),new k(-Ma,Il,0)];class T3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){Mg=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=r9(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=i9(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Mg),e.scissorTest=!1,$h(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ks||e.mapping===Vo?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Mg=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Gt,minFilter:Gt,generateMipmaps:!1,type:xr,format:Hi,encoding:Zi,depthBuffer:!1},r=n9(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=n9(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=YR(s)),this._blurMaterial=QR(s,e,t)}return r}_compileMaterial(e){const t=new Bn(this._lodPlanes[0],e);this._renderer.compile(t,Cg)}_sceneToCubeUV(e,t,i,r){const a=new Sn(90,1,t,i),l=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],d=this._renderer,p=d.autoClear,h=d.toneMapping;d.getClearColor(e9),d.toneMapping=zr,d.autoClear=!1;const g=new Ji({name:"PMREM.Background",side:Yn,depthWrite:!1,depthTest:!1}),v=new Bn(new ea,g);let y=!1;const x=e.background;x?x.isColor&&(g.color.copy(x),e.background=null,y=!0):(g.color.copy(e9),y=!0);for(let _=0;_<6;_++){const C=_%3;C===0?(a.up.set(0,l[_],0),a.lookAt(f[_],0,0)):C===1?(a.up.set(0,0,l[_]),a.lookAt(0,f[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,f[_]));const S=this._cubeSize;$h(r,C*S,_>2?S:0,S,S),d.setRenderTarget(r),y&&d.render(v,a),d.render(e,a)}v.geometry.dispose(),v.material.dispose(),d.toneMapping=h,d.autoClear=p,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Ks||e.mapping===Vo;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=r9()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=i9());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Bn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;$h(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,Cg)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=t9[(r-1)%t9.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,f=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,p=new Bn(this._lodPlanes[r],f),h=f.uniforms,g=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*Aa-1),y=s/v,x=isFinite(s)?1+Math.floor(d*y):Aa;x>Aa&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Aa}`);const _=[];let C=0;for(let R=0;R<Aa;++R){const E=R/y,P=Math.exp(-E*E/2);_.push(P),R===0?C+=P:R<x&&(C+=2*P)}for(let R=0;R<_.length;R++)_[R]=_[R]/C;h.envMap.value=e.texture,h.samples.value=x,h.weights.value=_,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:S}=this;h.dTheta.value=v,h.mipInt.value=S-i;const w=this._sizeLods[r],T=3*w*(r>S-eu?r-S+eu:0),B=4*(this._cubeSize-w);$h(t,T,B,3*w,2*w),l.setRenderTarget(t),l.render(p,Cg)}}function YR(n){const e=[],t=[],i=[];let r=n;const s=n-eu+1+$6.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-eu?l=$6[o-n+eu-1]:o===0&&(l=0),i.push(l);const f=1/(a-2),d=-f,p=1+f,h=[d,d,p,d,p,p,d,d,p,p,d,p],g=6,v=6,y=3,x=2,_=1,C=new Float32Array(y*v*g),S=new Float32Array(x*v*g),w=new Float32Array(_*v*g);for(let B=0;B<g;B++){const R=B%3*2/3-1,E=B>2?0:-1,P=[R,E,0,R+2/3,E,0,R+2/3,E+1,0,R,E,0,R+2/3,E+1,0,R,E+1,0];C.set(P,y*v*B),S.set(h,x*v*B);const I=[B,B,B,B,B,B];w.set(I,_*v*B)}const T=new ft;T.setAttribute("position",new Tt(C,y)),T.setAttribute("uv",new Tt(S,x)),T.setAttribute("faceIndex",new Tt(w,_)),e.push(T),r>eu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function n9(n,e,t){const i=new jt(n,e,t);return i.texture.mapping=Nu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function $h(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function QR(n,e,t){const i=new Float32Array(Aa),r=new k(0,1,0);return new yn({name:"SphericalGaussianBlur",defines:{n:Aa,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:e8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Rn,depthTest:!1,depthWrite:!1})}function i9(){return new yn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:e8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Rn,depthTest:!1,depthWrite:!1})}function r9(){return new yn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:e8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Rn,depthTest:!1,depthWrite:!1})}function e8(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function qR(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,f=l===_u||l===Ff,d=l===Ks||l===Vo;if(f||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let p=e.get(a);return t===null&&(t=new T3(n)),p=f?t.fromEquirectangular(a,p):t.fromCubemap(a,p),e.set(a,p),p.texture}else{if(e.has(a))return e.get(a).texture;{const p=a.image;if(f&&p&&p.height>0||d&&p&&r(p)){t===null&&(t=new T3(n));const h=f?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function r(a){let l=0;const f=6;for(let d=0;d<f;d++)a[d]!==void 0&&l++;return l===f}function s(a){const l=a.target;l.removeEventListener("dispose",s);const f=e.get(l);f!==void 0&&(e.delete(l),f.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function $R(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function eP(n,e,t,i){const r={},s=new WeakMap;function o(p){const h=p.target;h.index!==null&&e.remove(h.index);for(const v in h.attributes)e.remove(h.attributes[v]);h.removeEventListener("dispose",o),delete r[h.id];const g=s.get(h);g&&(e.remove(g),s.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(p,h){return r[h.id]===!0||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h}function l(p){const h=p.attributes;for(const v in h)e.update(h[v],34962);const g=p.morphAttributes;for(const v in g){const y=g[v];for(let x=0,_=y.length;x<_;x++)e.update(y[x],34962)}}function f(p){const h=[],g=p.index,v=p.attributes.position;let y=0;if(g!==null){const C=g.array;y=g.version;for(let S=0,w=C.length;S<w;S+=3){const T=C[S+0],B=C[S+1],R=C[S+2];h.push(T,B,B,R,R,T)}}else{const C=v.array;y=v.version;for(let S=0,w=C.length/3-1;S<w;S+=3){const T=S+0,B=S+1,R=S+2;h.push(T,B,B,R,R,T)}}const x=new(mC(h)?qv:Qv)(h,1);x.version=y;const _=s.get(p);_&&e.remove(_),s.set(p,x)}function d(p){const h=s.get(p);if(h){const g=p.index;g!==null&&h.version<g.version&&f(p)}else f(p);return s.get(p)}return{get:a,update:l,getWireframeAttribute:d}}function tP(n,e,t,i){const r=i.isWebGL2;let s;function o(h){s=h}let a,l;function f(h){a=h.type,l=h.bytesPerElement}function d(h,g){n.drawElements(s,g,a,h*l),t.update(g,s,1)}function p(h,g,v){if(v===0)return;let y,x;if(r)y=n,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,g,a,h*l,v),t.update(g,s,v)}this.setMode=o,this.setIndex=f,this.render=d,this.renderInstances=p}function nP(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function iP(n,e){return n[0]-e[0]}function rP(n,e){return Math.abs(e[1])-Math.abs(n[1])}function sP(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new kt,a=[];for(let f=0;f<8;f++)a[f]=[f,0];function l(f,d,p,h){const g=f.morphTargetInfluences;if(e.isWebGL2===!0){const y=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,x=y!==void 0?y.length:0;let _=s.get(d);if(_===void 0||_.count!==x){let le=function(){j.dispose(),s.delete(d),d.removeEventListener("dispose",le)};var v=le;_!==void 0&&_.texture.dispose();const w=d.morphAttributes.position!==void 0,T=d.morphAttributes.normal!==void 0,B=d.morphAttributes.color!==void 0,R=d.morphAttributes.position||[],E=d.morphAttributes.normal||[],P=d.morphAttributes.color||[];let I=0;w===!0&&(I=1),T===!0&&(I=2),B===!0&&(I=3);let G=d.attributes.position.count*I,ie=1;G>e.maxTextureSize&&(ie=Math.ceil(G/e.maxTextureSize),G=e.maxTextureSize);const K=new Float32Array(G*ie*4*x),j=new sd(K,G,ie,x);j.type=Wi,j.needsUpdate=!0;const te=I*4;for(let ce=0;ce<x;ce++){const L=R[ce],V=E[ce],W=P[ce],X=G*ie*4*ce;for(let H=0;H<L.count;H++){const q=H*te;w===!0&&(o.fromBufferAttribute(L,H),K[X+q+0]=o.x,K[X+q+1]=o.y,K[X+q+2]=o.z,K[X+q+3]=0),T===!0&&(o.fromBufferAttribute(V,H),K[X+q+4]=o.x,K[X+q+5]=o.y,K[X+q+6]=o.z,K[X+q+7]=0),B===!0&&(o.fromBufferAttribute(W,H),K[X+q+8]=o.x,K[X+q+9]=o.y,K[X+q+10]=o.z,K[X+q+11]=W.itemSize===4?o.w:1)}}_={count:x,texture:j,size:new ve(G,ie)},s.set(d,_),d.addEventListener("dispose",le)}let C=0;for(let w=0;w<g.length;w++)C+=g[w];const S=d.morphTargetsRelative?1:1-C;h.getUniforms().setValue(n,"morphTargetBaseInfluence",S),h.getUniforms().setValue(n,"morphTargetInfluences",g),h.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const y=g===void 0?0:g.length;let x=i[d.id];if(x===void 0||x.length!==y){x=[];for(let T=0;T<y;T++)x[T]=[T,0];i[d.id]=x}for(let T=0;T<y;T++){const B=x[T];B[0]=T,B[1]=g[T]}x.sort(rP);for(let T=0;T<8;T++)T<y&&x[T][1]?(a[T][0]=x[T][0],a[T][1]=x[T][1]):(a[T][0]=Number.MAX_SAFE_INTEGER,a[T][1]=0);a.sort(iP);const _=d.morphAttributes.position,C=d.morphAttributes.normal;let S=0;for(let T=0;T<8;T++){const B=a[T],R=B[0],E=B[1];R!==Number.MAX_SAFE_INTEGER&&E?(_&&d.getAttribute("morphTarget"+T)!==_[R]&&d.setAttribute("morphTarget"+T,_[R]),C&&d.getAttribute("morphNormal"+T)!==C[R]&&d.setAttribute("morphNormal"+T,C[R]),r[T]=E,S+=E):(_&&d.hasAttribute("morphTarget"+T)===!0&&d.deleteAttribute("morphTarget"+T),C&&d.hasAttribute("morphNormal"+T)===!0&&d.deleteAttribute("morphNormal"+T),r[T]=0)}const w=d.morphTargetsRelative?1:1-S;h.getUniforms().setValue(n,"morphTargetBaseInfluence",w),h.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function oP(n,e,t,i){let r=new WeakMap;function s(l){const f=i.render.frame,d=l.geometry,p=e.get(l,d);return r.get(p)!==f&&(e.update(p),r.set(p,f)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),p}function o(){r=new WeakMap}function a(l){const f=l.target;f.removeEventListener("dispose",a),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:s,dispose:o}}const CC=new Yt,MC=new sd,SC=new qm,wC=new ad,s9=[],o9=[],a9=new Float32Array(16),l9=new Float32Array(9),u9=new Float32Array(4);function Hu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=s9[r];if(s===void 0&&(s=new Float32Array(r),s9[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Fn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function kn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function e0(n,e){let t=o9[e];t===void 0&&(t=new Int32Array(e),o9[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function aP(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function lP(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fn(t,e))return;n.uniform2fv(this.addr,e),kn(t,e)}}function uP(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Fn(t,e))return;n.uniform3fv(this.addr,e),kn(t,e)}}function cP(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fn(t,e))return;n.uniform4fv(this.addr,e),kn(t,e)}}function fP(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),kn(t,e)}else{if(Fn(t,i))return;u9.set(i),n.uniformMatrix2fv(this.addr,!1,u9),kn(t,i)}}function dP(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),kn(t,e)}else{if(Fn(t,i))return;l9.set(i),n.uniformMatrix3fv(this.addr,!1,l9),kn(t,i)}}function hP(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),kn(t,e)}else{if(Fn(t,i))return;a9.set(i),n.uniformMatrix4fv(this.addr,!1,a9),kn(t,i)}}function pP(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function mP(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fn(t,e))return;n.uniform2iv(this.addr,e),kn(t,e)}}function gP(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fn(t,e))return;n.uniform3iv(this.addr,e),kn(t,e)}}function vP(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fn(t,e))return;n.uniform4iv(this.addr,e),kn(t,e)}}function yP(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function xP(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fn(t,e))return;n.uniform2uiv(this.addr,e),kn(t,e)}}function _P(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fn(t,e))return;n.uniform3uiv(this.addr,e),kn(t,e)}}function CP(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fn(t,e))return;n.uniform4uiv(this.addr,e),kn(t,e)}}function MP(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||CC,r)}function SP(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||SC,r)}function wP(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||wC,r)}function AP(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||MC,r)}function EP(n){switch(n){case 5126:return aP;case 35664:return lP;case 35665:return uP;case 35666:return cP;case 35674:return fP;case 35675:return dP;case 35676:return hP;case 5124:case 35670:return pP;case 35667:case 35671:return mP;case 35668:case 35672:return gP;case 35669:case 35673:return vP;case 5125:return yP;case 36294:return xP;case 36295:return _P;case 36296:return CP;case 35678:case 36198:case 36298:case 36306:case 35682:return MP;case 35679:case 36299:case 36307:return SP;case 35680:case 36300:case 36308:case 36293:return wP;case 36289:case 36303:case 36311:case 36292:return AP}}function TP(n,e){n.uniform1fv(this.addr,e)}function bP(n,e){const t=Hu(e,this.size,2);n.uniform2fv(this.addr,t)}function BP(n,e){const t=Hu(e,this.size,3);n.uniform3fv(this.addr,t)}function RP(n,e){const t=Hu(e,this.size,4);n.uniform4fv(this.addr,t)}function PP(n,e){const t=Hu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function LP(n,e){const t=Hu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function IP(n,e){const t=Hu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function DP(n,e){n.uniform1iv(this.addr,e)}function FP(n,e){n.uniform2iv(this.addr,e)}function kP(n,e){n.uniform3iv(this.addr,e)}function NP(n,e){n.uniform4iv(this.addr,e)}function OP(n,e){n.uniform1uiv(this.addr,e)}function UP(n,e){n.uniform2uiv(this.addr,e)}function zP(n,e){n.uniform3uiv(this.addr,e)}function GP(n,e){n.uniform4uiv(this.addr,e)}function HP(n,e,t){const i=this.cache,r=e.length,s=e0(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||CC,s[o])}function VP(n,e,t){const i=this.cache,r=e.length,s=e0(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||SC,s[o])}function WP(n,e,t){const i=this.cache,r=e.length,s=e0(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||wC,s[o])}function JP(n,e,t){const i=this.cache,r=e.length,s=e0(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||MC,s[o])}function XP(n){switch(n){case 5126:return TP;case 35664:return bP;case 35665:return BP;case 35666:return RP;case 35674:return PP;case 35675:return LP;case 35676:return IP;case 5124:case 35670:return DP;case 35667:case 35671:return FP;case 35668:case 35672:return kP;case 35669:case 35673:return NP;case 5125:return OP;case 36294:return UP;case 36295:return zP;case 36296:return GP;case 35678:case 36198:case 36298:case 36306:case 35682:return HP;case 35679:case 36299:case 36307:return VP;case 35680:case 36300:case 36308:case 36293:return WP;case 36289:case 36303:case 36311:case 36292:return JP}}class jP{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=EP(t.type)}}class KP{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=XP(t.type)}}class ZP{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const Sg=/(\w+)(\])?(\[|\.)?/g;function c9(n,e){n.seq.push(e),n.map[e.id]=e}function YP(n,e,t){const i=n.name,r=i.length;for(Sg.lastIndex=0;;){const s=Sg.exec(i),o=Sg.lastIndex;let a=s[1];const l=s[2]==="]",f=s[3];if(l&&(a=a|0),f===void 0||f==="["&&o+2===r){c9(t,f===void 0?new jP(a,n,e):new KP(a,n,e));break}else{let p=t.map[a];p===void 0&&(p=new ZP(a),c9(t,p)),t=p}}}class Zp{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);YP(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function f9(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let QP=0;function qP(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function $P(n){switch(n){case Zi:return["Linear","( value )"];case qe:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function d9(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+qP(n.getShaderSource(e),o)}else return r}function eL(n,e){const t=$P(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function tL(n,e){let t;switch(e){case H_:t="Linear";break;case V_:t="Reinhard";break;case W_:t="OptimizedCineon";break;case Jv:t="ACESFilmic";break;case J_:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function nL(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(qc).join(`
`)}function iL(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function rL(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function qc(n){return n!==""}function h9(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function p9(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const sL=/^[ \t]*#include +<([\w\d./]+)>/gm;function b3(n){return n.replace(sL,oL)}function oL(n,e){const t=gt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return b3(t)}const aL=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function m9(n){return n.replace(aL,lL)}function lL(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function g9(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function uL(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Km?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ff?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ba&&(e="SHADOWMAP_TYPE_VSM"),e}function cL(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ks:case Vo:e="ENVMAP_TYPE_CUBE";break;case Nu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function fL(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Vo:e="ENVMAP_MODE_REFRACTION";break}return e}function dL(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case rd:e="ENVMAP_BLENDING_MULTIPLY";break;case z_:e="ENVMAP_BLENDING_MIX";break;case G_:e="ENVMAP_BLENDING_ADD";break}return e}function hL(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function pL(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=uL(t),f=cL(t),d=fL(t),p=dL(t),h=hL(t),g=t.isWebGL2?"":nL(t),v=iL(s),y=r.createProgram();let x,_,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[v].filter(qc).join(`
`),x.length>0&&(x+=`
`),_=[g,v].filter(qc).join(`
`),_.length>0&&(_+=`
`)):(x=[g9(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(qc).join(`
`),_=[g,g9(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",t.envMap?"#define "+p:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==zr?"#define TONE_MAPPING":"",t.toneMapping!==zr?gt.tonemapping_pars_fragment:"",t.toneMapping!==zr?tL("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",gt.encodings_pars_fragment,eL("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(qc).join(`
`)),o=b3(o),o=h9(o,t),o=p9(o,t),a=b3(a),a=h9(a,t),a=p9(a,t),o=m9(o),a=m9(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,_=["#define varying in",t.glslVersion===A3?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===A3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const S=C+x+o,w=C+_+a,T=f9(r,35633,S),B=f9(r,35632,w);if(r.attachShader(y,T),r.attachShader(y,B),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),n.debug.checkShaderErrors){const P=r.getProgramInfoLog(y).trim(),I=r.getShaderInfoLog(T).trim(),G=r.getShaderInfoLog(B).trim();let ie=!0,K=!0;if(r.getProgramParameter(y,35714)===!1){ie=!1;const j=d9(r,T,"vertex"),te=d9(r,B,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,35715)+`

Program Info Log: `+P+`
`+j+`
`+te)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(I===""||G==="")&&(K=!1);K&&(this.diagnostics={runnable:ie,programLog:P,vertexShader:{log:I,prefix:x},fragmentShader:{log:G,prefix:_}})}r.deleteShader(T),r.deleteShader(B);let R;this.getUniforms=function(){return R===void 0&&(R=new Zp(r,y)),R};let E;return this.getAttributes=function(){return E===void 0&&(E=rL(r,y)),E},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=t.shaderName,this.id=QP++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=T,this.fragmentShader=B,this}let mL=0;class gL{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new vL(e),t.set(e,i)),i}}class vL{constructor(e){this.id=mL++,this.code=e,this.usedTimes=0}}function yL(n,e,t,i,r,s,o){const a=new za,l=new gL,f=[],d=r.isWebGL2,p=r.logarithmicDepthBuffer,h=r.vertexTextures;let g=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(E,P,I,G,ie){const K=G.fog,j=ie.geometry,te=E.isMeshStandardMaterial?G.environment:null,le=(E.isMeshStandardMaterial?t:e).get(E.envMap||te),ce=le&&le.mapping===Nu?le.image.height:null,L=v[E.type];E.precision!==null&&(g=r.getMaxPrecision(E.precision),g!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",g,"instead."));const V=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,W=V!==void 0?V.length:0;let X=0;j.morphAttributes.position!==void 0&&(X=1),j.morphAttributes.normal!==void 0&&(X=2),j.morphAttributes.color!==void 0&&(X=3);let H,q,ne,ge;if(L){const ke=kr[L];H=ke.vertexShader,q=ke.fragmentShader}else H=E.vertexShader,q=E.fragmentShader,l.update(E),ne=l.getVertexShaderID(E),ge=l.getFragmentShaderID(E);const N=n.getRenderTarget(),Ee=E.alphaTest>0,he=E.clearcoat>0,ze=E.iridescence>0;return{isWebGL2:d,shaderID:L,shaderName:E.type,vertexShader:H,fragmentShader:q,defines:E.defines,customVertexShaderID:ne,customFragmentShaderID:ge,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:g,instancing:ie.isInstancedMesh===!0,instancingColor:ie.isInstancedMesh===!0&&ie.instanceColor!==null,supportsVertexTextures:h,outputEncoding:N===null?n.outputEncoding:N.isXRRenderTarget===!0?N.texture.encoding:Zi,map:!!E.map,matcap:!!E.matcap,envMap:!!le,envMapMode:le&&le.mapping,envMapCubeUVHeight:ce,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===dC,tangentSpaceNormalMap:E.normalMapType===qs,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===qe,clearcoat:he,clearcoatMap:he&&!!E.clearcoatMap,clearcoatRoughnessMap:he&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:he&&!!E.clearcoatNormalMap,iridescence:ze,iridescenceMap:ze&&!!E.iridescenceMap,iridescenceThicknessMap:ze&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===Na,alphaMap:!!E.alphaMap,alphaTest:Ee,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!j.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!j.attributes.color&&j.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!K,useFog:E.fog===!0,fogExp2:K&&K.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:p,skinning:ie.isSkinnedMesh===!0,morphTargets:j.morphAttributes.position!==void 0,morphNormals:j.morphAttributes.normal!==void 0,morphColors:j.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:X,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:E.toneMapped?n.toneMapping:zr,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===rs,flipSided:E.side===Yn,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function x(E){const P=[];if(E.shaderID?P.push(E.shaderID):(P.push(E.customVertexShaderID),P.push(E.customFragmentShaderID)),E.defines!==void 0)for(const I in E.defines)P.push(I),P.push(E.defines[I]);return E.isRawShaderMaterial===!1&&(_(P,E),C(P,E),P.push(n.outputEncoding)),P.push(E.customProgramCacheKey),P.join()}function _(E,P){E.push(P.precision),E.push(P.outputEncoding),E.push(P.envMapMode),E.push(P.envMapCubeUVHeight),E.push(P.combine),E.push(P.vertexUvs),E.push(P.fogExp2),E.push(P.sizeAttenuation),E.push(P.morphTargetsCount),E.push(P.morphAttributeCount),E.push(P.numDirLights),E.push(P.numPointLights),E.push(P.numSpotLights),E.push(P.numSpotLightMaps),E.push(P.numHemiLights),E.push(P.numRectAreaLights),E.push(P.numDirLightShadows),E.push(P.numPointLightShadows),E.push(P.numSpotLightShadows),E.push(P.numSpotLightShadowsWithMaps),E.push(P.shadowMapType),E.push(P.toneMapping),E.push(P.numClippingPlanes),E.push(P.numClipIntersection),E.push(P.depthPacking)}function C(E,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.map&&a.enable(4),P.matcap&&a.enable(5),P.envMap&&a.enable(6),P.lightMap&&a.enable(7),P.aoMap&&a.enable(8),P.emissiveMap&&a.enable(9),P.bumpMap&&a.enable(10),P.normalMap&&a.enable(11),P.objectSpaceNormalMap&&a.enable(12),P.tangentSpaceNormalMap&&a.enable(13),P.clearcoat&&a.enable(14),P.clearcoatMap&&a.enable(15),P.clearcoatRoughnessMap&&a.enable(16),P.clearcoatNormalMap&&a.enable(17),P.iridescence&&a.enable(18),P.iridescenceMap&&a.enable(19),P.iridescenceThicknessMap&&a.enable(20),P.displacementMap&&a.enable(21),P.specularMap&&a.enable(22),P.roughnessMap&&a.enable(23),P.metalnessMap&&a.enable(24),P.gradientMap&&a.enable(25),P.alphaMap&&a.enable(26),P.alphaTest&&a.enable(27),P.vertexColors&&a.enable(28),P.vertexAlphas&&a.enable(29),P.vertexUvs&&a.enable(30),P.vertexTangents&&a.enable(31),P.uvsVertexOnly&&a.enable(32),E.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.physicallyCorrectLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.specularIntensityMap&&a.enable(15),P.specularColorMap&&a.enable(16),P.transmission&&a.enable(17),P.transmissionMap&&a.enable(18),P.thicknessMap&&a.enable(19),P.sheen&&a.enable(20),P.sheenColorMap&&a.enable(21),P.sheenRoughnessMap&&a.enable(22),P.decodeVideoTexture&&a.enable(23),P.opaque&&a.enable(24),E.push(a.mask)}function S(E){const P=v[E.type];let I;if(P){const G=kr[P];I=yC.clone(G.uniforms)}else I=E.uniforms;return I}function w(E,P){let I;for(let G=0,ie=f.length;G<ie;G++){const K=f[G];if(K.cacheKey===P){I=K,++I.usedTimes;break}}return I===void 0&&(I=new pL(n,P,E,s),f.push(I)),I}function T(E){if(--E.usedTimes===0){const P=f.indexOf(E);f[P]=f[f.length-1],f.pop(),E.destroy()}}function B(E){l.remove(E)}function R(){l.dispose()}return{getParameters:y,getProgramCacheKey:x,getUniforms:S,acquireProgram:w,releaseProgram:T,releaseShaderCache:B,programs:f,dispose:R}}function xL(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function _L(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function v9(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function y9(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(p,h,g,v,y,x){let _=n[e];return _===void 0?(_={id:p.id,object:p,geometry:h,material:g,groupOrder:v,renderOrder:p.renderOrder,z:y,group:x},n[e]=_):(_.id=p.id,_.object=p,_.geometry=h,_.material=g,_.groupOrder=v,_.renderOrder=p.renderOrder,_.z=y,_.group=x),e++,_}function a(p,h,g,v,y,x){const _=o(p,h,g,v,y,x);g.transmission>0?i.push(_):g.transparent===!0?r.push(_):t.push(_)}function l(p,h,g,v,y,x){const _=o(p,h,g,v,y,x);g.transmission>0?i.unshift(_):g.transparent===!0?r.unshift(_):t.unshift(_)}function f(p,h){t.length>1&&t.sort(p||_L),i.length>1&&i.sort(h||v9),r.length>1&&r.sort(h||v9)}function d(){for(let p=e,h=n.length;p<h;p++){const g=n[p];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:f}}function CL(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new y9,n.set(i,[o])):r>=s.length?(o=new y9,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function ML(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new k,color:new Oe};break;case"SpotLight":t={position:new k,direction:new k,color:new Oe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new k,color:new Oe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new k,skyColor:new Oe,groundColor:new Oe};break;case"RectAreaLight":t={color:new Oe,position:new k,halfWidth:new k,halfHeight:new k};break}return n[e.id]=t,t}}}function SL(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let wL=0;function AL(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function EL(n,e){const t=new ML,i=SL(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new k);const s=new k,o=new at,a=new at;function l(d,p){let h=0,g=0,v=0;for(let G=0;G<9;G++)r.probe[G].set(0,0,0);let y=0,x=0,_=0,C=0,S=0,w=0,T=0,B=0,R=0,E=0;d.sort(AL);const P=p!==!0?Math.PI:1;for(let G=0,ie=d.length;G<ie;G++){const K=d[G],j=K.color,te=K.intensity,le=K.distance,ce=K.shadow&&K.shadow.map?K.shadow.map.texture:null;if(K.isAmbientLight)h+=j.r*te*P,g+=j.g*te*P,v+=j.b*te*P;else if(K.isLightProbe)for(let L=0;L<9;L++)r.probe[L].addScaledVector(K.sh.coefficients[L],te);else if(K.isDirectionalLight){const L=t.get(K);if(L.color.copy(K.color).multiplyScalar(K.intensity*P),K.castShadow){const V=K.shadow,W=i.get(K);W.shadowBias=V.bias,W.shadowNormalBias=V.normalBias,W.shadowRadius=V.radius,W.shadowMapSize=V.mapSize,r.directionalShadow[y]=W,r.directionalShadowMap[y]=ce,r.directionalShadowMatrix[y]=K.shadow.matrix,w++}r.directional[y]=L,y++}else if(K.isSpotLight){const L=t.get(K);L.position.setFromMatrixPosition(K.matrixWorld),L.color.copy(j).multiplyScalar(te*P),L.distance=le,L.coneCos=Math.cos(K.angle),L.penumbraCos=Math.cos(K.angle*(1-K.penumbra)),L.decay=K.decay,r.spot[_]=L;const V=K.shadow;if(K.map&&(r.spotLightMap[R]=K.map,R++,V.updateMatrices(K),K.castShadow&&E++),r.spotLightMatrix[_]=V.matrix,K.castShadow){const W=i.get(K);W.shadowBias=V.bias,W.shadowNormalBias=V.normalBias,W.shadowRadius=V.radius,W.shadowMapSize=V.mapSize,r.spotShadow[_]=W,r.spotShadowMap[_]=ce,B++}_++}else if(K.isRectAreaLight){const L=t.get(K);L.color.copy(j).multiplyScalar(te),L.halfWidth.set(K.width*.5,0,0),L.halfHeight.set(0,K.height*.5,0),r.rectArea[C]=L,C++}else if(K.isPointLight){const L=t.get(K);if(L.color.copy(K.color).multiplyScalar(K.intensity*P),L.distance=K.distance,L.decay=K.decay,K.castShadow){const V=K.shadow,W=i.get(K);W.shadowBias=V.bias,W.shadowNormalBias=V.normalBias,W.shadowRadius=V.radius,W.shadowMapSize=V.mapSize,W.shadowCameraNear=V.camera.near,W.shadowCameraFar=V.camera.far,r.pointShadow[x]=W,r.pointShadowMap[x]=ce,r.pointShadowMatrix[x]=K.shadow.matrix,T++}r.point[x]=L,x++}else if(K.isHemisphereLight){const L=t.get(K);L.skyColor.copy(K.color).multiplyScalar(te*P),L.groundColor.copy(K.groundColor).multiplyScalar(te*P),r.hemi[S]=L,S++}}C>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ue.LTC_FLOAT_1,r.rectAreaLTC2=Ue.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ue.LTC_HALF_1,r.rectAreaLTC2=Ue.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=g,r.ambient[2]=v;const I=r.hash;(I.directionalLength!==y||I.pointLength!==x||I.spotLength!==_||I.rectAreaLength!==C||I.hemiLength!==S||I.numDirectionalShadows!==w||I.numPointShadows!==T||I.numSpotShadows!==B||I.numSpotMaps!==R)&&(r.directional.length=y,r.spot.length=_,r.rectArea.length=C,r.point.length=x,r.hemi.length=S,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=B,r.spotShadowMap.length=B,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=B+R-E,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=E,I.directionalLength=y,I.pointLength=x,I.spotLength=_,I.rectAreaLength=C,I.hemiLength=S,I.numDirectionalShadows=w,I.numPointShadows=T,I.numSpotShadows=B,I.numSpotMaps=R,r.version=wL++)}function f(d,p){let h=0,g=0,v=0,y=0,x=0;const _=p.matrixWorldInverse;for(let C=0,S=d.length;C<S;C++){const w=d[C];if(w.isDirectionalLight){const T=r.directional[h];T.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(_),h++}else if(w.isSpotLight){const T=r.spot[v];T.position.setFromMatrixPosition(w.matrixWorld),T.position.applyMatrix4(_),T.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(_),v++}else if(w.isRectAreaLight){const T=r.rectArea[y];T.position.setFromMatrixPosition(w.matrixWorld),T.position.applyMatrix4(_),a.identity(),o.copy(w.matrixWorld),o.premultiply(_),a.extractRotation(o),T.halfWidth.set(w.width*.5,0,0),T.halfHeight.set(0,w.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),y++}else if(w.isPointLight){const T=r.point[g];T.position.setFromMatrixPosition(w.matrixWorld),T.position.applyMatrix4(_),g++}else if(w.isHemisphereLight){const T=r.hemi[x];T.direction.setFromMatrixPosition(w.matrixWorld),T.direction.transformDirection(_),x++}}}return{setup:l,setupView:f,state:r}}function x9(n,e){const t=new EL(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(p){i.push(p)}function a(p){r.push(p)}function l(p){t.setup(i,p)}function f(p){t.setupView(i,p)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:f,pushLight:o,pushShadow:a}}function TL(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new x9(n,e),t.set(s,[l])):o>=a.length?(l=new x9(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class t8 extends vn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=fs,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class n8 extends vn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new k,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const bL=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,BL=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function RL(n,e,t){let i=new $m;const r=new ve,s=new ve,o=new kt,a=new t8({depthPacking:fC}),l=new n8,f={},d=t.maxTextureSize,p={0:Yn,1:us,2:rs},h=new yn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ve},radius:{value:4}},vertexShader:bL,fragmentShader:BL}),g=h.clone();g.defines.HORIZONTAL_PASS=1;const v=new ft;v.setAttribute("position",new Tt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Bn(v,h),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Km,this.render=function(w,T,B){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||w.length===0)return;const R=n.getRenderTarget(),E=n.getActiveCubeFace(),P=n.getActiveMipmapLevel(),I=n.state;I.setBlending(Rn),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let G=0,ie=w.length;G<ie;G++){const K=w[G],j=K.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;r.copy(j.mapSize);const te=j.getFrameExtents();if(r.multiply(te),s.copy(j.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/te.x),r.x=s.x*te.x,j.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/te.y),r.y=s.y*te.y,j.mapSize.y=s.y)),j.map===null){const ce=this.type!==Ba?{minFilter:Wt,magFilter:Wt}:{};j.map=new jt(r.x,r.y,ce),j.map.texture.name=K.name+".shadowMap",j.camera.updateProjectionMatrix()}n.setRenderTarget(j.map),n.clear();const le=j.getViewportCount();for(let ce=0;ce<le;ce++){const L=j.getViewport(ce);o.set(s.x*L.x,s.y*L.y,s.x*L.z,s.y*L.w),I.viewport(o),j.updateMatrices(K,ce),i=j.getFrustum(),S(T,B,j.camera,K,this.type)}j.isPointLightShadow!==!0&&this.type===Ba&&_(j,B),j.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(R,E,P)};function _(w,T){const B=e.update(y);h.defines.VSM_SAMPLES!==w.blurSamples&&(h.defines.VSM_SAMPLES=w.blurSamples,g.defines.VSM_SAMPLES=w.blurSamples,h.needsUpdate=!0,g.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new jt(r.x,r.y)),h.uniforms.shadow_pass.value=w.map.texture,h.uniforms.resolution.value=w.mapSize,h.uniforms.radius.value=w.radius,n.setRenderTarget(w.mapPass),n.clear(),n.renderBufferDirect(T,null,B,h,y,null),g.uniforms.shadow_pass.value=w.mapPass.texture,g.uniforms.resolution.value=w.mapSize,g.uniforms.radius.value=w.radius,n.setRenderTarget(w.map),n.clear(),n.renderBufferDirect(T,null,B,g,y,null)}function C(w,T,B,R,E,P){let I=null;const G=B.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(G!==void 0)I=G;else if(I=B.isPointLight===!0?l:a,n.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const ie=I.uuid,K=T.uuid;let j=f[ie];j===void 0&&(j={},f[ie]=j);let te=j[K];te===void 0&&(te=I.clone(),j[K]=te),I=te}return I.visible=T.visible,I.wireframe=T.wireframe,P===Ba?I.side=T.shadowSide!==null?T.shadowSide:T.side:I.side=T.shadowSide!==null?T.shadowSide:p[T.side],I.alphaMap=T.alphaMap,I.alphaTest=T.alphaTest,I.map=T.map,I.clipShadows=T.clipShadows,I.clippingPlanes=T.clippingPlanes,I.clipIntersection=T.clipIntersection,I.displacementMap=T.displacementMap,I.displacementScale=T.displacementScale,I.displacementBias=T.displacementBias,I.wireframeLinewidth=T.wireframeLinewidth,I.linewidth=T.linewidth,B.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(B.matrixWorld),I.nearDistance=R,I.farDistance=E),I}function S(w,T,B,R,E){if(w.visible===!1)return;if(w.layers.test(T.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&E===Ba)&&(!w.frustumCulled||i.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,w.matrixWorld);const G=e.update(w),ie=w.material;if(Array.isArray(ie)){const K=G.groups;for(let j=0,te=K.length;j<te;j++){const le=K[j],ce=ie[le.materialIndex];if(ce&&ce.visible){const L=C(w,ce,R,B.near,B.far,E);n.renderBufferDirect(B,null,G,L,w,le)}}}else if(ie.visible){const K=C(w,ie,R,B.near,B.far,E);n.renderBufferDirect(B,null,G,K,w,null)}}const I=w.children;for(let G=0,ie=I.length;G<ie;G++)S(I[G],T,B,R,E)}}function PL(n,e,t){const i=t.isWebGL2;function r(){let Y=!1;const xe=new kt;let Ae=null;const Xe=new kt(0,0,0,0);return{setMask:function(We){Ae!==We&&!Y&&(n.colorMask(We,We,We,We),Ae=We)},setLocked:function(We){Y=We},setClear:function(We,lt,Ut,sn,Si){Si===!0&&(We*=sn,lt*=sn,Ut*=sn),xe.set(We,lt,Ut,sn),Xe.equals(xe)===!1&&(n.clearColor(We,lt,Ut,sn),Xe.copy(xe))},reset:function(){Y=!1,Ae=null,Xe.set(-1,0,0,0)}}}function s(){let Y=!1,xe=null,Ae=null,Xe=null;return{setTest:function(We){We?Ee(2929):he(2929)},setMask:function(We){xe!==We&&!Y&&(n.depthMask(We),xe=We)},setFunc:function(We){if(Ae!==We){switch(We){case I_:n.depthFunc(512);break;case D_:n.depthFunc(519);break;case F_:n.depthFunc(513);break;case Cm:n.depthFunc(515);break;case k_:n.depthFunc(514);break;case N_:n.depthFunc(518);break;case O_:n.depthFunc(516);break;case U_:n.depthFunc(517);break;default:n.depthFunc(515)}Ae=We}},setLocked:function(We){Y=We},setClear:function(We){Xe!==We&&(n.clearDepth(We),Xe=We)},reset:function(){Y=!1,xe=null,Ae=null,Xe=null}}}function o(){let Y=!1,xe=null,Ae=null,Xe=null,We=null,lt=null,Ut=null,sn=null,Si=null;return{setTest:function(zt){Y||(zt?Ee(2960):he(2960))},setMask:function(zt){xe!==zt&&!Y&&(n.stencilMask(zt),xe=zt)},setFunc:function(zt,wi,$t){(Ae!==zt||Xe!==wi||We!==$t)&&(n.stencilFunc(zt,wi,$t),Ae=zt,Xe=wi,We=$t)},setOp:function(zt,wi,$t){(lt!==zt||Ut!==wi||sn!==$t)&&(n.stencilOp(zt,wi,$t),lt=zt,Ut=wi,sn=$t)},setLocked:function(zt){Y=zt},setClear:function(zt){Si!==zt&&(n.clearStencil(zt),Si=zt)},reset:function(){Y=!1,xe=null,Ae=null,Xe=null,We=null,lt=null,Ut=null,sn=null,Si=null}}}const a=new r,l=new s,f=new o,d=new WeakMap,p=new WeakMap;let h={},g={},v=new WeakMap,y=[],x=null,_=!1,C=null,S=null,w=null,T=null,B=null,R=null,E=null,P=!1,I=null,G=null,ie=null,K=null,j=null;const te=n.getParameter(35661);let le=!1,ce=0;const L=n.getParameter(7938);L.indexOf("WebGL")!==-1?(ce=parseFloat(/^WebGL (\d)/.exec(L)[1]),le=ce>=1):L.indexOf("OpenGL ES")!==-1&&(ce=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),le=ce>=2);let V=null,W={};const X=n.getParameter(3088),H=n.getParameter(2978),q=new kt().fromArray(X),ne=new kt().fromArray(H);function ge(Y,xe,Ae){const Xe=new Uint8Array(4),We=n.createTexture();n.bindTexture(Y,We),n.texParameteri(Y,10241,9728),n.texParameteri(Y,10240,9728);for(let lt=0;lt<Ae;lt++)n.texImage2D(xe+lt,0,6408,1,1,0,6408,5121,Xe);return We}const N={};N[3553]=ge(3553,3553,1),N[34067]=ge(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),f.setClear(0),Ee(2929),l.setFunc(Cm),Re(!1),Ne(q2),Ee(2884),Te(Rn);function Ee(Y){h[Y]!==!0&&(n.enable(Y),h[Y]=!0)}function he(Y){h[Y]!==!1&&(n.disable(Y),h[Y]=!1)}function ze(Y,xe){return g[Y]!==xe?(n.bindFramebuffer(Y,xe),g[Y]=xe,i&&(Y===36009&&(g[36160]=xe),Y===36160&&(g[36009]=xe)),!0):!1}function we(Y,xe){let Ae=y,Xe=!1;if(Y)if(Ae=v.get(xe),Ae===void 0&&(Ae=[],v.set(xe,Ae)),Y.isWebGLMultipleRenderTargets){const We=Y.texture;if(Ae.length!==We.length||Ae[0]!==36064){for(let lt=0,Ut=We.length;lt<Ut;lt++)Ae[lt]=36064+lt;Ae.length=We.length,Xe=!0}}else Ae[0]!==36064&&(Ae[0]=36064,Xe=!0);else Ae[0]!==1029&&(Ae[0]=1029,Xe=!0);Xe&&(t.isWebGL2?n.drawBuffers(Ae):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ae))}function ke(Y){return x!==Y?(n.useProgram(Y),x=Y,!0):!1}const se={[wa]:32774,[M_]:32778,[S_]:32779};if(i)se[n3]=32775,se[i3]=32776;else{const Y=e.get("EXT_blend_minmax");Y!==null&&(se[n3]=Y.MIN_EXT,se[i3]=Y.MAX_EXT)}const de={[w_]:0,[A_]:1,[E_]:768,[Vv]:770,[L_]:776,[R_]:774,[b_]:772,[T_]:769,[Wv]:771,[P_]:775,[B_]:773};function Te(Y,xe,Ae,Xe,We,lt,Ut,sn){if(Y===Rn){_===!0&&(he(3042),_=!1);return}if(_===!1&&(Ee(3042),_=!0),Y!==C_){if(Y!==C||sn!==P){if((S!==wa||B!==wa)&&(n.blendEquation(32774),S=wa,B=wa),sn)switch(Y){case Na:n.blendFuncSeparate(1,771,1,771);break;case $2:n.blendFunc(1,1);break;case e3:n.blendFuncSeparate(0,769,0,1);break;case t3:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}else switch(Y){case Na:n.blendFuncSeparate(770,771,1,771);break;case $2:n.blendFunc(770,1);break;case e3:n.blendFuncSeparate(0,769,0,1);break;case t3:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}w=null,T=null,R=null,E=null,C=Y,P=sn}return}We=We||xe,lt=lt||Ae,Ut=Ut||Xe,(xe!==S||We!==B)&&(n.blendEquationSeparate(se[xe],se[We]),S=xe,B=We),(Ae!==w||Xe!==T||lt!==R||Ut!==E)&&(n.blendFuncSeparate(de[Ae],de[Xe],de[lt],de[Ut]),w=Ae,T=Xe,R=lt,E=Ut),C=Y,P=!1}function be(Y,xe){Y.side===rs?he(2884):Ee(2884);let Ae=Y.side===Yn;xe&&(Ae=!Ae),Re(Ae),Y.blending===Na&&Y.transparent===!1?Te(Rn):Te(Y.blending,Y.blendEquation,Y.blendSrc,Y.blendDst,Y.blendEquationAlpha,Y.blendSrcAlpha,Y.blendDstAlpha,Y.premultipliedAlpha),l.setFunc(Y.depthFunc),l.setTest(Y.depthTest),l.setMask(Y.depthWrite),a.setMask(Y.colorWrite);const Xe=Y.stencilWrite;f.setTest(Xe),Xe&&(f.setMask(Y.stencilWriteMask),f.setFunc(Y.stencilFunc,Y.stencilRef,Y.stencilFuncMask),f.setOp(Y.stencilFail,Y.stencilZFail,Y.stencilZPass)),Ye(Y.polygonOffset,Y.polygonOffsetFactor,Y.polygonOffsetUnits),Y.alphaToCoverage===!0?Ee(32926):he(32926)}function Re(Y){I!==Y&&(Y?n.frontFace(2304):n.frontFace(2305),I=Y)}function Ne(Y){Y!==y_?(Ee(2884),Y!==G&&(Y===q2?n.cullFace(1029):Y===x_?n.cullFace(1028):n.cullFace(1032))):he(2884),G=Y}function Ve(Y){Y!==ie&&(le&&n.lineWidth(Y),ie=Y)}function Ye(Y,xe,Ae){Y?(Ee(32823),(K!==xe||j!==Ae)&&(n.polygonOffset(xe,Ae),K=xe,j=Ae)):he(32823)}function tt(Y){Y?Ee(3089):he(3089)}function Ct(Y){Y===void 0&&(Y=33984+te-1),V!==Y&&(n.activeTexture(Y),V=Y)}function z(Y,xe,Ae){Ae===void 0&&(V===null?Ae=33984+te-1:Ae=V);let Xe=W[Ae];Xe===void 0&&(Xe={type:void 0,texture:void 0},W[Ae]=Xe),(Xe.type!==Y||Xe.texture!==xe)&&(V!==Ae&&(n.activeTexture(Ae),V=Ae),n.bindTexture(Y,xe||N[Y]),Xe.type=Y,Xe.texture=xe)}function D(){const Y=W[V];Y!==void 0&&Y.type!==void 0&&(n.bindTexture(Y.type,null),Y.type=void 0,Y.texture=void 0)}function F(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function J(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function $(){try{n.texSubImage2D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function me(){try{n.texSubImage3D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function _e(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Se(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function re(){try{n.texStorage2D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Le(){try{n.texStorage3D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Be(){try{n.texImage2D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function He(){try{n.texImage3D.apply(n,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Fe(Y){q.equals(Y)===!1&&(n.scissor(Y.x,Y.y,Y.z,Y.w),q.copy(Y))}function Ge(Y){ne.equals(Y)===!1&&(n.viewport(Y.x,Y.y,Y.z,Y.w),ne.copy(Y))}function st(Y,xe){let Ae=p.get(xe);Ae===void 0&&(Ae=new WeakMap,p.set(xe,Ae));let Xe=Ae.get(Y);Xe===void 0&&(Xe=n.getUniformBlockIndex(xe,Y.name),Ae.set(Y,Xe))}function yt(Y,xe){const Xe=p.get(xe).get(Y);d.get(xe)!==Xe&&(n.uniformBlockBinding(xe,Xe,Y.__bindingPointIndex),d.set(xe,Xe))}function Kt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},V=null,W={},g={},v=new WeakMap,y=[],x=null,_=!1,C=null,S=null,w=null,T=null,B=null,R=null,E=null,P=!1,I=null,G=null,ie=null,K=null,j=null,q.set(0,0,n.canvas.width,n.canvas.height),ne.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),f.reset()}return{buffers:{color:a,depth:l,stencil:f},enable:Ee,disable:he,bindFramebuffer:ze,drawBuffers:we,useProgram:ke,setBlending:Te,setMaterial:be,setFlipSided:Re,setCullFace:Ne,setLineWidth:Ve,setPolygonOffset:Ye,setScissorTest:tt,activeTexture:Ct,bindTexture:z,unbindTexture:D,compressedTexImage2D:F,compressedTexImage3D:J,texImage2D:Be,texImage3D:He,updateUBOMapping:st,uniformBlockBinding:yt,texStorage2D:re,texStorage3D:Le,texSubImage2D:$,texSubImage3D:me,compressedTexSubImage2D:_e,compressedTexSubImage3D:Se,scissor:Fe,viewport:Ge,reset:Kt}}function LL(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,f=r.maxCubemapSize,d=r.maxTextureSize,p=r.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const x=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function C(z,D){return _?new OffscreenCanvas(z,D):zf("canvas")}function S(z,D,F,J){let $=1;if((z.width>J||z.height>J)&&($=J/Math.max(z.width,z.height)),$<1||D===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){const me=D?Sm:Math.floor,_e=me($*z.width),Se=me($*z.height);y===void 0&&(y=C(_e,Se));const re=F?C(_e,Se):y;return re.width=_e,re.height=Se,re.getContext("2d").drawImage(z,0,0,_e,Se),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+_e+"x"+Se+")."),re}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function w(z){return E3(z.width)&&E3(z.height)}function T(z){return a?!1:z.wrapS!==Zn||z.wrapT!==Zn||z.minFilter!==Wt&&z.minFilter!==Gt}function B(z,D){return z.generateMipmaps&&D&&z.minFilter!==Wt&&z.minFilter!==Gt}function R(z){n.generateMipmap(z)}function E(z,D,F,J,$=!1){if(a===!1)return D;if(z!==null){if(n[z]!==void 0)return n[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let me=D;return D===6403&&(F===5126&&(me=33326),F===5131&&(me=33325),F===5121&&(me=33321)),D===33319&&(F===5126&&(me=33328),F===5131&&(me=33327),F===5121&&(me=33323)),D===6408&&(F===5126&&(me=34836),F===5131&&(me=34842),F===5121&&(me=J===qe&&$===!1?35907:32856),F===32819&&(me=32854),F===32820&&(me=32855)),(me===33325||me===33326||me===33327||me===33328||me===34842||me===34836)&&e.get("EXT_color_buffer_float"),me}function P(z,D,F){return B(z,F)===!0||z.isFramebufferTexture&&z.minFilter!==Wt&&z.minFilter!==Gt?Math.log2(Math.max(D.width,D.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?D.mipmaps.length:1}function I(z){return z===Wt||z===kf||z===cu?9728:9729}function G(z){const D=z.target;D.removeEventListener("dispose",G),K(D),D.isVideoTexture&&v.delete(D)}function ie(z){const D=z.target;D.removeEventListener("dispose",ie),te(D)}function K(z){const D=i.get(z);if(D.__webglInit===void 0)return;const F=z.source,J=x.get(F);if(J){const $=J[D.__cacheKey];$.usedTimes--,$.usedTimes===0&&j(z),Object.keys(J).length===0&&x.delete(F)}i.remove(z)}function j(z){const D=i.get(z);n.deleteTexture(D.__webglTexture);const F=z.source,J=x.get(F);delete J[D.__cacheKey],o.memory.textures--}function te(z){const D=z.texture,F=i.get(z),J=i.get(D);if(J.__webglTexture!==void 0&&(n.deleteTexture(J.__webglTexture),o.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let $=0;$<6;$++)n.deleteFramebuffer(F.__webglFramebuffer[$]),F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer[$]);else{if(n.deleteFramebuffer(F.__webglFramebuffer),F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&n.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let $=0;$<F.__webglColorRenderbuffer.length;$++)F.__webglColorRenderbuffer[$]&&n.deleteRenderbuffer(F.__webglColorRenderbuffer[$]);F.__webglDepthRenderbuffer&&n.deleteRenderbuffer(F.__webglDepthRenderbuffer)}if(z.isWebGLMultipleRenderTargets)for(let $=0,me=D.length;$<me;$++){const _e=i.get(D[$]);_e.__webglTexture&&(n.deleteTexture(_e.__webglTexture),o.memory.textures--),i.remove(D[$])}i.remove(D),i.remove(z)}let le=0;function ce(){le=0}function L(){const z=le;return z>=l&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+l),le+=1,z}function V(z){const D=[];return D.push(z.wrapS),D.push(z.wrapT),D.push(z.wrapR||0),D.push(z.magFilter),D.push(z.minFilter),D.push(z.anisotropy),D.push(z.internalFormat),D.push(z.format),D.push(z.type),D.push(z.generateMipmaps),D.push(z.premultiplyAlpha),D.push(z.flipY),D.push(z.unpackAlignment),D.push(z.encoding),D.join()}function W(z,D){const F=i.get(z);if(z.isVideoTexture&&tt(z),z.isRenderTargetTexture===!1&&z.version>0&&F.__version!==z.version){const J=z.image;if(J===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(J.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{he(F,z,D);return}}t.bindTexture(3553,F.__webglTexture,33984+D)}function X(z,D){const F=i.get(z);if(z.version>0&&F.__version!==z.version){he(F,z,D);return}t.bindTexture(35866,F.__webglTexture,33984+D)}function H(z,D){const F=i.get(z);if(z.version>0&&F.__version!==z.version){he(F,z,D);return}t.bindTexture(32879,F.__webglTexture,33984+D)}function q(z,D){const F=i.get(z);if(z.version>0&&F.__version!==z.version){ze(F,z,D);return}t.bindTexture(34067,F.__webglTexture,33984+D)}const ne={[Wo]:10497,[Zn]:33071,[Cu]:33648},ge={[Wt]:9728,[kf]:9984,[cu]:9986,[Gt]:9729,[Ym]:9985,[Vr]:9987};function N(z,D,F){if(F?(n.texParameteri(z,10242,ne[D.wrapS]),n.texParameteri(z,10243,ne[D.wrapT]),(z===32879||z===35866)&&n.texParameteri(z,32882,ne[D.wrapR]),n.texParameteri(z,10240,ge[D.magFilter]),n.texParameteri(z,10241,ge[D.minFilter])):(n.texParameteri(z,10242,33071),n.texParameteri(z,10243,33071),(z===32879||z===35866)&&n.texParameteri(z,32882,33071),(D.wrapS!==Zn||D.wrapT!==Zn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(z,10240,I(D.magFilter)),n.texParameteri(z,10241,I(D.minFilter)),D.minFilter!==Wt&&D.minFilter!==Gt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const J=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===Wt||D.minFilter!==cu&&D.minFilter!==Vr||D.type===Wi&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===xr&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||i.get(D).__currentAnisotropy)&&(n.texParameterf(z,J.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,r.getMaxAnisotropy())),i.get(D).__currentAnisotropy=D.anisotropy)}}function Ee(z,D){let F=!1;z.__webglInit===void 0&&(z.__webglInit=!0,D.addEventListener("dispose",G));const J=D.source;let $=x.get(J);$===void 0&&($={},x.set(J,$));const me=V(D);if(me!==z.__cacheKey){$[me]===void 0&&($[me]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,F=!0),$[me].usedTimes++;const _e=$[z.__cacheKey];_e!==void 0&&($[z.__cacheKey].usedTimes--,_e.usedTimes===0&&j(D)),z.__cacheKey=me,z.__webglTexture=$[me].texture}return F}function he(z,D,F){let J=3553;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(J=35866),D.isData3DTexture&&(J=32879);const $=Ee(z,D),me=D.source;t.bindTexture(J,z.__webglTexture,33984+F);const _e=i.get(me);if(me.version!==_e.__version||$===!0){t.activeTexture(33984+F),n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);const Se=T(D)&&w(D.image)===!1;let re=S(D.image,Se,!1,d);re=Ct(D,re);const Le=w(re)||a,Be=s.convert(D.format,D.encoding);let He=s.convert(D.type),Fe=E(D.internalFormat,Be,He,D.encoding,D.isVideoTexture);N(J,D,Le);let Ge;const st=D.mipmaps,yt=a&&D.isVideoTexture!==!0,Kt=_e.__version===void 0||$===!0,Y=P(D,re,Le);if(D.isDepthTexture)Fe=6402,a?D.type===Wi?Fe=36012:D.type===Ns?Fe=33190:D.type===Oo?Fe=35056:Fe=33189:D.type===Wi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===Uo&&Fe===6402&&D.type!==Xv&&D.type!==Ns&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Ns,He=s.convert(D.type)),D.format===Jo&&Fe===6402&&(Fe=34041,D.type!==Oo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=Oo,He=s.convert(D.type))),Kt&&(yt?t.texStorage2D(3553,1,Fe,re.width,re.height):t.texImage2D(3553,0,Fe,re.width,re.height,0,Be,He,null));else if(D.isDataTexture)if(st.length>0&&Le){yt&&Kt&&t.texStorage2D(3553,Y,Fe,st[0].width,st[0].height);for(let xe=0,Ae=st.length;xe<Ae;xe++)Ge=st[xe],yt?t.texSubImage2D(3553,xe,0,0,Ge.width,Ge.height,Be,He,Ge.data):t.texImage2D(3553,xe,Fe,Ge.width,Ge.height,0,Be,He,Ge.data);D.generateMipmaps=!1}else yt?(Kt&&t.texStorage2D(3553,Y,Fe,re.width,re.height),t.texSubImage2D(3553,0,0,0,re.width,re.height,Be,He,re.data)):t.texImage2D(3553,0,Fe,re.width,re.height,0,Be,He,re.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){yt&&Kt&&t.texStorage3D(35866,Y,Fe,st[0].width,st[0].height,re.depth);for(let xe=0,Ae=st.length;xe<Ae;xe++)Ge=st[xe],D.format!==Hi?Be!==null?yt?t.compressedTexSubImage3D(35866,xe,0,0,0,Ge.width,Ge.height,re.depth,Be,Ge.data,0,0):t.compressedTexImage3D(35866,xe,Fe,Ge.width,Ge.height,re.depth,0,Ge.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):yt?t.texSubImage3D(35866,xe,0,0,0,Ge.width,Ge.height,re.depth,Be,He,Ge.data):t.texImage3D(35866,xe,Fe,Ge.width,Ge.height,re.depth,0,Be,He,Ge.data)}else{yt&&Kt&&t.texStorage2D(3553,Y,Fe,st[0].width,st[0].height);for(let xe=0,Ae=st.length;xe<Ae;xe++)Ge=st[xe],D.format!==Hi?Be!==null?yt?t.compressedTexSubImage2D(3553,xe,0,0,Ge.width,Ge.height,Be,Ge.data):t.compressedTexImage2D(3553,xe,Fe,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):yt?t.texSubImage2D(3553,xe,0,0,Ge.width,Ge.height,Be,He,Ge.data):t.texImage2D(3553,xe,Fe,Ge.width,Ge.height,0,Be,He,Ge.data)}else if(D.isDataArrayTexture)yt?(Kt&&t.texStorage3D(35866,Y,Fe,re.width,re.height,re.depth),t.texSubImage3D(35866,0,0,0,0,re.width,re.height,re.depth,Be,He,re.data)):t.texImage3D(35866,0,Fe,re.width,re.height,re.depth,0,Be,He,re.data);else if(D.isData3DTexture)yt?(Kt&&t.texStorage3D(32879,Y,Fe,re.width,re.height,re.depth),t.texSubImage3D(32879,0,0,0,0,re.width,re.height,re.depth,Be,He,re.data)):t.texImage3D(32879,0,Fe,re.width,re.height,re.depth,0,Be,He,re.data);else if(D.isFramebufferTexture){if(Kt)if(yt)t.texStorage2D(3553,Y,Fe,re.width,re.height);else{let xe=re.width,Ae=re.height;for(let Xe=0;Xe<Y;Xe++)t.texImage2D(3553,Xe,Fe,xe,Ae,0,Be,He,null),xe>>=1,Ae>>=1}}else if(st.length>0&&Le){yt&&Kt&&t.texStorage2D(3553,Y,Fe,st[0].width,st[0].height);for(let xe=0,Ae=st.length;xe<Ae;xe++)Ge=st[xe],yt?t.texSubImage2D(3553,xe,0,0,Be,He,Ge):t.texImage2D(3553,xe,Fe,Be,He,Ge);D.generateMipmaps=!1}else yt?(Kt&&t.texStorage2D(3553,Y,Fe,re.width,re.height),t.texSubImage2D(3553,0,0,0,Be,He,re)):t.texImage2D(3553,0,Fe,Be,He,re);B(D,Le)&&R(J),_e.__version=me.version,D.onUpdate&&D.onUpdate(D)}z.__version=D.version}function ze(z,D,F){if(D.image.length!==6)return;const J=Ee(z,D),$=D.source;t.bindTexture(34067,z.__webglTexture,33984+F);const me=i.get($);if($.version!==me.__version||J===!0){t.activeTexture(33984+F),n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);const _e=D.isCompressedTexture||D.image[0].isCompressedTexture,Se=D.image[0]&&D.image[0].isDataTexture,re=[];for(let xe=0;xe<6;xe++)!_e&&!Se?re[xe]=S(D.image[xe],!1,!0,f):re[xe]=Se?D.image[xe].image:D.image[xe],re[xe]=Ct(D,re[xe]);const Le=re[0],Be=w(Le)||a,He=s.convert(D.format,D.encoding),Fe=s.convert(D.type),Ge=E(D.internalFormat,He,Fe,D.encoding),st=a&&D.isVideoTexture!==!0,yt=me.__version===void 0||J===!0;let Kt=P(D,Le,Be);N(34067,D,Be);let Y;if(_e){st&&yt&&t.texStorage2D(34067,Kt,Ge,Le.width,Le.height);for(let xe=0;xe<6;xe++){Y=re[xe].mipmaps;for(let Ae=0;Ae<Y.length;Ae++){const Xe=Y[Ae];D.format!==Hi?He!==null?st?t.compressedTexSubImage2D(34069+xe,Ae,0,0,Xe.width,Xe.height,He,Xe.data):t.compressedTexImage2D(34069+xe,Ae,Ge,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):st?t.texSubImage2D(34069+xe,Ae,0,0,Xe.width,Xe.height,He,Fe,Xe.data):t.texImage2D(34069+xe,Ae,Ge,Xe.width,Xe.height,0,He,Fe,Xe.data)}}}else{Y=D.mipmaps,st&&yt&&(Y.length>0&&Kt++,t.texStorage2D(34067,Kt,Ge,re[0].width,re[0].height));for(let xe=0;xe<6;xe++)if(Se){st?t.texSubImage2D(34069+xe,0,0,0,re[xe].width,re[xe].height,He,Fe,re[xe].data):t.texImage2D(34069+xe,0,Ge,re[xe].width,re[xe].height,0,He,Fe,re[xe].data);for(let Ae=0;Ae<Y.length;Ae++){const We=Y[Ae].image[xe].image;st?t.texSubImage2D(34069+xe,Ae+1,0,0,We.width,We.height,He,Fe,We.data):t.texImage2D(34069+xe,Ae+1,Ge,We.width,We.height,0,He,Fe,We.data)}}else{st?t.texSubImage2D(34069+xe,0,0,0,He,Fe,re[xe]):t.texImage2D(34069+xe,0,Ge,He,Fe,re[xe]);for(let Ae=0;Ae<Y.length;Ae++){const Xe=Y[Ae];st?t.texSubImage2D(34069+xe,Ae+1,0,0,He,Fe,Xe.image[xe]):t.texImage2D(34069+xe,Ae+1,Ge,He,Fe,Xe.image[xe])}}}B(D,Be)&&R(34067),me.__version=$.version,D.onUpdate&&D.onUpdate(D)}z.__version=D.version}function we(z,D,F,J,$){const me=s.convert(F.format,F.encoding),_e=s.convert(F.type),Se=E(F.internalFormat,me,_e,F.encoding);i.get(D).__hasExternalTextures||($===32879||$===35866?t.texImage3D($,0,Se,D.width,D.height,D.depth,0,me,_e,null):t.texImage2D($,0,Se,D.width,D.height,0,me,_e,null)),t.bindFramebuffer(36160,z),Ye(D)?h.framebufferTexture2DMultisampleEXT(36160,J,$,i.get(F).__webglTexture,0,Ve(D)):($===3553||$>=34069&&$<=34074)&&n.framebufferTexture2D(36160,J,$,i.get(F).__webglTexture,0),t.bindFramebuffer(36160,null)}function ke(z,D,F){if(n.bindRenderbuffer(36161,z),D.depthBuffer&&!D.stencilBuffer){let J=33189;if(F||Ye(D)){const $=D.depthTexture;$&&$.isDepthTexture&&($.type===Wi?J=36012:$.type===Ns&&(J=33190));const me=Ve(D);Ye(D)?h.renderbufferStorageMultisampleEXT(36161,me,J,D.width,D.height):n.renderbufferStorageMultisample(36161,me,J,D.width,D.height)}else n.renderbufferStorage(36161,J,D.width,D.height);n.framebufferRenderbuffer(36160,36096,36161,z)}else if(D.depthBuffer&&D.stencilBuffer){const J=Ve(D);F&&Ye(D)===!1?n.renderbufferStorageMultisample(36161,J,35056,D.width,D.height):Ye(D)?h.renderbufferStorageMultisampleEXT(36161,J,35056,D.width,D.height):n.renderbufferStorage(36161,34041,D.width,D.height),n.framebufferRenderbuffer(36160,33306,36161,z)}else{const J=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let $=0;$<J.length;$++){const me=J[$],_e=s.convert(me.format,me.encoding),Se=s.convert(me.type),re=E(me.internalFormat,_e,Se,me.encoding),Le=Ve(D);F&&Ye(D)===!1?n.renderbufferStorageMultisample(36161,Le,re,D.width,D.height):Ye(D)?h.renderbufferStorageMultisampleEXT(36161,Le,re,D.width,D.height):n.renderbufferStorage(36161,re,D.width,D.height)}}n.bindRenderbuffer(36161,null)}function se(z,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,z),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),W(D.depthTexture,0);const J=i.get(D.depthTexture).__webglTexture,$=Ve(D);if(D.depthTexture.format===Uo)Ye(D)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,J,0,$):n.framebufferTexture2D(36160,36096,3553,J,0);else if(D.depthTexture.format===Jo)Ye(D)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,J,0,$):n.framebufferTexture2D(36160,33306,3553,J,0);else throw new Error("Unknown depthTexture format")}function de(z){const D=i.get(z),F=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!D.__autoAllocateDepthBuffer){if(F)throw new Error("target.depthTexture not supported in Cube render targets");se(D.__webglFramebuffer,z)}else if(F){D.__webglDepthbuffer=[];for(let J=0;J<6;J++)t.bindFramebuffer(36160,D.__webglFramebuffer[J]),D.__webglDepthbuffer[J]=n.createRenderbuffer(),ke(D.__webglDepthbuffer[J],z,!1)}else t.bindFramebuffer(36160,D.__webglFramebuffer),D.__webglDepthbuffer=n.createRenderbuffer(),ke(D.__webglDepthbuffer,z,!1);t.bindFramebuffer(36160,null)}function Te(z,D,F){const J=i.get(z);D!==void 0&&we(J.__webglFramebuffer,z,z.texture,36064,3553),F!==void 0&&de(z)}function be(z){const D=z.texture,F=i.get(z),J=i.get(D);z.addEventListener("dispose",ie),z.isWebGLMultipleRenderTargets!==!0&&(J.__webglTexture===void 0&&(J.__webglTexture=n.createTexture()),J.__version=D.version,o.memory.textures++);const $=z.isWebGLCubeRenderTarget===!0,me=z.isWebGLMultipleRenderTargets===!0,_e=w(z)||a;if($){F.__webglFramebuffer=[];for(let Se=0;Se<6;Se++)F.__webglFramebuffer[Se]=n.createFramebuffer()}else{if(F.__webglFramebuffer=n.createFramebuffer(),me)if(r.drawBuffers){const Se=z.texture;for(let re=0,Le=Se.length;re<Le;re++){const Be=i.get(Se[re]);Be.__webglTexture===void 0&&(Be.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&z.samples>0&&Ye(z)===!1){const Se=me?D:[D];F.__webglMultisampledFramebuffer=n.createFramebuffer(),F.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,F.__webglMultisampledFramebuffer);for(let re=0;re<Se.length;re++){const Le=Se[re];F.__webglColorRenderbuffer[re]=n.createRenderbuffer(),n.bindRenderbuffer(36161,F.__webglColorRenderbuffer[re]);const Be=s.convert(Le.format,Le.encoding),He=s.convert(Le.type),Fe=E(Le.internalFormat,Be,He,Le.encoding,z.isXRRenderTarget===!0),Ge=Ve(z);n.renderbufferStorageMultisample(36161,Ge,Fe,z.width,z.height),n.framebufferRenderbuffer(36160,36064+re,36161,F.__webglColorRenderbuffer[re])}n.bindRenderbuffer(36161,null),z.depthBuffer&&(F.__webglDepthRenderbuffer=n.createRenderbuffer(),ke(F.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(36160,null)}}if($){t.bindTexture(34067,J.__webglTexture),N(34067,D,_e);for(let Se=0;Se<6;Se++)we(F.__webglFramebuffer[Se],z,D,36064,34069+Se);B(D,_e)&&R(34067),t.unbindTexture()}else if(me){const Se=z.texture;for(let re=0,Le=Se.length;re<Le;re++){const Be=Se[re],He=i.get(Be);t.bindTexture(3553,He.__webglTexture),N(3553,Be,_e),we(F.__webglFramebuffer,z,Be,36064+re,3553),B(Be,_e)&&R(3553)}t.unbindTexture()}else{let Se=3553;(z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(a?Se=z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Se,J.__webglTexture),N(Se,D,_e),we(F.__webglFramebuffer,z,D,36064,Se),B(D,_e)&&R(Se),t.unbindTexture()}z.depthBuffer&&de(z)}function Re(z){const D=w(z)||a,F=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let J=0,$=F.length;J<$;J++){const me=F[J];if(B(me,D)){const _e=z.isWebGLCubeRenderTarget?34067:3553,Se=i.get(me).__webglTexture;t.bindTexture(_e,Se),R(_e),t.unbindTexture()}}}function Ne(z){if(a&&z.samples>0&&Ye(z)===!1){const D=z.isWebGLMultipleRenderTargets?z.texture:[z.texture],F=z.width,J=z.height;let $=16384;const me=[],_e=z.stencilBuffer?33306:36096,Se=i.get(z),re=z.isWebGLMultipleRenderTargets===!0;if(re)for(let Le=0;Le<D.length;Le++)t.bindFramebuffer(36160,Se.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Le,36161,null),t.bindFramebuffer(36160,Se.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Le,3553,null,0);t.bindFramebuffer(36008,Se.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Se.__webglFramebuffer);for(let Le=0;Le<D.length;Le++){me.push(36064+Le),z.depthBuffer&&me.push(_e);const Be=Se.__ignoreDepthValues!==void 0?Se.__ignoreDepthValues:!1;if(Be===!1&&(z.depthBuffer&&($|=256),z.stencilBuffer&&($|=1024)),re&&n.framebufferRenderbuffer(36008,36064,36161,Se.__webglColorRenderbuffer[Le]),Be===!0&&(n.invalidateFramebuffer(36008,[_e]),n.invalidateFramebuffer(36009,[_e])),re){const He=i.get(D[Le]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,He,0)}n.blitFramebuffer(0,0,F,J,0,0,F,J,$,9728),g&&n.invalidateFramebuffer(36008,me)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),re)for(let Le=0;Le<D.length;Le++){t.bindFramebuffer(36160,Se.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Le,36161,Se.__webglColorRenderbuffer[Le]);const Be=i.get(D[Le]).__webglTexture;t.bindFramebuffer(36160,Se.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Le,3553,Be,0)}t.bindFramebuffer(36009,Se.__webglMultisampledFramebuffer)}}function Ve(z){return Math.min(p,z.samples)}function Ye(z){const D=i.get(z);return a&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function tt(z){const D=o.render.frame;v.get(z)!==D&&(v.set(z,D),z.update())}function Ct(z,D){const F=z.encoding,J=z.format,$=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===Mm||F!==Zi&&(F===qe?a===!1?e.has("EXT_sRGB")===!0&&J===Hi?(z.format=Mm,z.minFilter=Gt,z.generateMipmaps=!1):D=Yv.sRGBToLinear(D):(J!==Hi||$!==Wn)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",F)),D}this.allocateTextureUnit=L,this.resetTextureUnits=ce,this.setTexture2D=W,this.setTexture2DArray=X,this.setTexture3D=H,this.setTextureCube=q,this.rebindTextures=Te,this.setupRenderTarget=be,this.updateRenderTargetMipmap=Re,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=de,this.setupFrameBufferTexture=we,this.useMultisampledRTT=Ye}function AC(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===Wn)return 5121;if(s===Z_)return 32819;if(s===Y_)return 32820;if(s===X_)return 5120;if(s===j_)return 5122;if(s===Xv)return 5123;if(s===K_)return 5124;if(s===Ns)return 5125;if(s===Wi)return 5126;if(s===xr)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Q_)return 6406;if(s===Hi)return 6408;if(s===$_)return 6409;if(s===eC)return 6410;if(s===Uo)return 6402;if(s===Jo)return 34041;if(s===q_)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===Mm)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===tC)return 6403;if(s===nC)return 36244;if(s===iC)return 33319;if(s===rC)return 33320;if(s===sC)return 36249;if(s===Hp||s===Vp||s===Wp||s===Jp)if(o===qe)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Hp)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Vp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Wp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Jp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Hp)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Vp)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Wp)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Jp)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===r3||s===s3||s===o3||s===a3)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===r3)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===s3)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===o3)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===a3)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===oC)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===l3||s===u3)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===l3)return o===qe?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===u3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===c3||s===f3||s===d3||s===h3||s===p3||s===m3||s===g3||s===v3||s===y3||s===x3||s===_3||s===C3||s===M3||s===S3)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===c3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===f3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===d3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===h3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===p3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===m3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===g3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===v3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===y3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===x3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===_3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===C3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===M3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===S3)return o===qe?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===w3)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===w3)return o===qe?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Oo?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class EC extends Sn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Us extends Pt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const IL={type:"move"};class wg{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Us,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Us,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new k,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new k),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Us,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new k,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new k),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){o=!0;for(const y of e.hand.values()){const x=t.getJointPose(y,i),_=this._getHandJoint(f,y);x!==null&&(_.matrix.fromArray(x.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=x.radius),_.visible=x!==null}const d=f.joints["index-finger-tip"],p=f.joints["thumb-tip"],h=d.position.distanceTo(p.position),g=.02,v=.005;f.inputState.pinching&&h>g+v?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&h<=g-v&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(IL)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),f!==null&&(f.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Us;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class i8 extends Yt{constructor(e,t,i,r,s,o,a,l,f,d){if(d=d!==void 0?d:Uo,d!==Uo&&d!==Jo)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===Uo&&(i=Ns),i===void 0&&d===Jo&&(i=Oo),super(null,r,s,o,a,l,d,i,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Wt,this.minFilter=l!==void 0?l:Wt,this.flipY=!1,this.generateMipmaps=!1}}class DL extends Sr{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=null,f=null,d=null,p=null,h=null,g=null;const v=t.getContextAttributes();let y=null,x=null;const _=[],C=[],S=new Set,w=new Map,T=new Sn;T.layers.enable(1),T.viewport=new kt;const B=new Sn;B.layers.enable(2),B.viewport=new kt;const R=[T,B],E=new EC;E.layers.enable(1),E.layers.enable(2);let P=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let H=_[X];return H===void 0&&(H=new wg,_[X]=H),H.getTargetRaySpace()},this.getControllerGrip=function(X){let H=_[X];return H===void 0&&(H=new wg,_[X]=H),H.getGripSpace()},this.getHand=function(X){let H=_[X];return H===void 0&&(H=new wg,_[X]=H),H.getHandSpace()};function G(X){const H=C.indexOf(X.inputSource);if(H===-1)return;const q=_[H];q!==void 0&&q.dispatchEvent({type:X.type,data:X.inputSource})}function ie(){r.removeEventListener("select",G),r.removeEventListener("selectstart",G),r.removeEventListener("selectend",G),r.removeEventListener("squeeze",G),r.removeEventListener("squeezestart",G),r.removeEventListener("squeezeend",G),r.removeEventListener("end",ie),r.removeEventListener("inputsourceschange",K);for(let X=0;X<_.length;X++){const H=C[X];H!==null&&(C[X]=null,_[X].disconnect(H))}P=null,I=null,e.setRenderTarget(y),h=null,p=null,d=null,r=null,x=null,W.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){s=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){a=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(X){l=X},this.getBaseLayer=function(){return p!==null?p:h},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(X){if(r=X,r!==null){if(y=e.getRenderTarget(),r.addEventListener("select",G),r.addEventListener("selectstart",G),r.addEventListener("selectend",G),r.addEventListener("squeeze",G),r.addEventListener("squeezestart",G),r.addEventListener("squeezeend",G),r.addEventListener("end",ie),r.addEventListener("inputsourceschange",K),v.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const H={antialias:r.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(r,t,H),r.updateRenderState({baseLayer:h}),x=new jt(h.framebufferWidth,h.framebufferHeight,{format:Hi,type:Wn,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let H=null,q=null,ne=null;v.depth&&(ne=v.stencil?35056:33190,H=v.stencil?Jo:Uo,q=v.stencil?Oo:Ns);const ge={colorFormat:32856,depthFormat:ne,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(ge),r.updateRenderState({layers:[p]}),x=new jt(p.textureWidth,p.textureHeight,{format:Hi,type:Wn,depthTexture:new i8(p.textureWidth,p.textureHeight,q,void 0,void 0,void 0,void 0,void 0,void 0,H),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const N=e.properties.get(x);N.__ignoreDepthValues=p.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await r.requestReferenceSpace(a),W.setContext(r),W.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function K(X){for(let H=0;H<X.removed.length;H++){const q=X.removed[H],ne=C.indexOf(q);ne>=0&&(C[ne]=null,_[ne].disconnect(q))}for(let H=0;H<X.added.length;H++){const q=X.added[H];let ne=C.indexOf(q);if(ne===-1){for(let N=0;N<_.length;N++)if(N>=C.length){C.push(q),ne=N;break}else if(C[N]===null){C[N]=q,ne=N;break}if(ne===-1)break}const ge=_[ne];ge&&ge.connect(q)}}const j=new k,te=new k;function le(X,H,q){j.setFromMatrixPosition(H.matrixWorld),te.setFromMatrixPosition(q.matrixWorld);const ne=j.distanceTo(te),ge=H.projectionMatrix.elements,N=q.projectionMatrix.elements,Ee=ge[14]/(ge[10]-1),he=ge[14]/(ge[10]+1),ze=(ge[9]+1)/ge[5],we=(ge[9]-1)/ge[5],ke=(ge[8]-1)/ge[0],se=(N[8]+1)/N[0],de=Ee*ke,Te=Ee*se,be=ne/(-ke+se),Re=be*-ke;H.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(Re),X.translateZ(be),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert();const Ne=Ee+be,Ve=he+be,Ye=de-Re,tt=Te+(ne-Re),Ct=ze*he/Ve*Ne,z=we*he/Ve*Ne;X.projectionMatrix.makePerspective(Ye,tt,Ct,z,Ne,Ve)}function ce(X,H){H===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(H.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(r===null)return;E.near=B.near=T.near=X.near,E.far=B.far=T.far=X.far,(P!==E.near||I!==E.far)&&(r.updateRenderState({depthNear:E.near,depthFar:E.far}),P=E.near,I=E.far);const H=X.parent,q=E.cameras;ce(E,H);for(let ge=0;ge<q.length;ge++)ce(q[ge],H);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),X.matrix.copy(E.matrix),X.matrix.decompose(X.position,X.quaternion,X.scale);const ne=X.children;for(let ge=0,N=ne.length;ge<N;ge++)ne[ge].updateMatrixWorld(!0);q.length===2?le(E,T,B):E.projectionMatrix.copy(T.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(p!==null)return p.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(X){p!==null&&(p.fixedFoveation=X),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=X)},this.getPlanes=function(){return S};let L=null;function V(X,H){if(f=H.getViewerPose(l||o),g=H,f!==null){const q=f.views;h!==null&&(e.setRenderTargetFramebuffer(x,h.framebuffer),e.setRenderTarget(x));let ne=!1;q.length!==E.cameras.length&&(E.cameras.length=0,ne=!0);for(let ge=0;ge<q.length;ge++){const N=q[ge];let Ee=null;if(h!==null)Ee=h.getViewport(N);else{const ze=d.getViewSubImage(p,N);Ee=ze.viewport,ge===0&&(e.setRenderTargetTextures(x,ze.colorTexture,p.ignoreDepthValues?void 0:ze.depthStencilTexture),e.setRenderTarget(x))}let he=R[ge];he===void 0&&(he=new Sn,he.layers.enable(ge),he.viewport=new kt,R[ge]=he),he.matrix.fromArray(N.transform.matrix),he.projectionMatrix.fromArray(N.projectionMatrix),he.viewport.set(Ee.x,Ee.y,Ee.width,Ee.height),ge===0&&E.matrix.copy(he.matrix),ne===!0&&E.cameras.push(he)}}for(let q=0;q<_.length;q++){const ne=C[q],ge=_[q];ne!==null&&ge!==void 0&&ge.update(ne,H,l||o)}if(L&&L(X,H),H.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:H.detectedPlanes});let q=null;for(const ne of S)H.detectedPlanes.has(ne)||(q===null&&(q=[]),q.push(ne));if(q!==null)for(const ne of q)S.delete(ne),w.delete(ne),i.dispatchEvent({type:"planeremoved",data:ne});for(const ne of H.detectedPlanes)if(!S.has(ne))S.add(ne),w.set(ne,H.lastChangedTime),i.dispatchEvent({type:"planeadded",data:ne});else{const ge=w.get(ne);ne.lastChangedTime>ge&&(w.set(ne,ne.lastChangedTime),i.dispatchEvent({type:"planechanged",data:ne}))}}g=null}const W=new _C;W.setAnimationLoop(V),this.setAnimationLoop=function(X){L=X},this.dispose=function(){}}}function FL(n,e){function t(y,x){x.color.getRGB(y.fogColor.value,vC(n)),x.isFog?(y.fogNear.value=x.near,y.fogFar.value=x.far):x.isFogExp2&&(y.fogDensity.value=x.density)}function i(y,x,_,C,S){x.isMeshBasicMaterial||x.isMeshLambertMaterial?r(y,x):x.isMeshToonMaterial?(r(y,x),d(y,x)):x.isMeshPhongMaterial?(r(y,x),f(y,x)):x.isMeshStandardMaterial?(r(y,x),p(y,x),x.isMeshPhysicalMaterial&&h(y,x,S)):x.isMeshMatcapMaterial?(r(y,x),g(y,x)):x.isMeshDepthMaterial?r(y,x):x.isMeshDistanceMaterial?(r(y,x),v(y,x)):x.isMeshNormalMaterial?r(y,x):x.isLineBasicMaterial?(s(y,x),x.isLineDashedMaterial&&o(y,x)):x.isPointsMaterial?a(y,x,_,C):x.isSpriteMaterial?l(y,x):x.isShadowMaterial?(y.color.value.copy(x.color),y.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function r(y,x){y.opacity.value=x.opacity,x.color&&y.diffuse.value.copy(x.color),x.emissive&&y.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.bumpMap&&(y.bumpMap.value=x.bumpMap,y.bumpScale.value=x.bumpScale,x.side===Yn&&(y.bumpScale.value*=-1)),x.displacementMap&&(y.displacementMap.value=x.displacementMap,y.displacementScale.value=x.displacementScale,y.displacementBias.value=x.displacementBias),x.emissiveMap&&(y.emissiveMap.value=x.emissiveMap),x.normalMap&&(y.normalMap.value=x.normalMap,y.normalScale.value.copy(x.normalScale),x.side===Yn&&y.normalScale.value.negate()),x.specularMap&&(y.specularMap.value=x.specularMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);const _=e.get(x).envMap;if(_&&(y.envMap.value=_,y.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=x.reflectivity,y.ior.value=x.ior,y.refractionRatio.value=x.refractionRatio),x.lightMap){y.lightMap.value=x.lightMap;const w=n.physicallyCorrectLights!==!0?Math.PI:1;y.lightMapIntensity.value=x.lightMapIntensity*w}x.aoMap&&(y.aoMap.value=x.aoMap,y.aoMapIntensity.value=x.aoMapIntensity);let C;x.map?C=x.map:x.specularMap?C=x.specularMap:x.displacementMap?C=x.displacementMap:x.normalMap?C=x.normalMap:x.bumpMap?C=x.bumpMap:x.roughnessMap?C=x.roughnessMap:x.metalnessMap?C=x.metalnessMap:x.alphaMap?C=x.alphaMap:x.emissiveMap?C=x.emissiveMap:x.clearcoatMap?C=x.clearcoatMap:x.clearcoatNormalMap?C=x.clearcoatNormalMap:x.clearcoatRoughnessMap?C=x.clearcoatRoughnessMap:x.iridescenceMap?C=x.iridescenceMap:x.iridescenceThicknessMap?C=x.iridescenceThicknessMap:x.specularIntensityMap?C=x.specularIntensityMap:x.specularColorMap?C=x.specularColorMap:x.transmissionMap?C=x.transmissionMap:x.thicknessMap?C=x.thicknessMap:x.sheenColorMap?C=x.sheenColorMap:x.sheenRoughnessMap&&(C=x.sheenRoughnessMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),y.uvTransform.value.copy(C.matrix));let S;x.aoMap?S=x.aoMap:x.lightMap&&(S=x.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),y.uv2Transform.value.copy(S.matrix))}function s(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity}function o(y,x){y.dashSize.value=x.dashSize,y.totalSize.value=x.dashSize+x.gapSize,y.scale.value=x.scale}function a(y,x,_,C){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.size.value=x.size*_,y.scale.value=C*.5,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let S;x.map?S=x.map:x.alphaMap&&(S=x.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),y.uvTransform.value.copy(S.matrix))}function l(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.rotation.value=x.rotation,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let _;x.map?_=x.map:x.alphaMap&&(_=x.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),y.uvTransform.value.copy(_.matrix))}function f(y,x){y.specular.value.copy(x.specular),y.shininess.value=Math.max(x.shininess,1e-4)}function d(y,x){x.gradientMap&&(y.gradientMap.value=x.gradientMap)}function p(y,x){y.roughness.value=x.roughness,y.metalness.value=x.metalness,x.roughnessMap&&(y.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(y.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(y.envMapIntensity.value=x.envMapIntensity)}function h(y,x,_){y.ior.value=x.ior,x.sheen>0&&(y.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),y.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(y.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(y.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(y.clearcoat.value=x.clearcoat,y.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(y.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),y.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===Yn&&y.clearcoatNormalScale.value.negate())),x.iridescence>0&&(y.iridescence.value=x.iridescence,y.iridescenceIOR.value=x.iridescenceIOR,y.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(y.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(y.transmission.value=x.transmission,y.transmissionSamplerMap.value=_.texture,y.transmissionSamplerSize.value.set(_.width,_.height),x.transmissionMap&&(y.transmissionMap.value=x.transmissionMap),y.thickness.value=x.thickness,x.thicknessMap&&(y.thicknessMap.value=x.thicknessMap),y.attenuationDistance.value=x.attenuationDistance,y.attenuationColor.value.copy(x.attenuationColor)),y.specularIntensity.value=x.specularIntensity,y.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(y.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(y.specularColorMap.value=x.specularColorMap)}function g(y,x){x.matcap&&(y.matcap.value=x.matcap)}function v(y,x){y.referencePosition.value.copy(x.referencePosition),y.nearDistance.value=x.nearDistance,y.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function kL(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(C,S){const w=S.program;i.uniformBlockBinding(C,w)}function f(C,S){let w=r[C.id];w===void 0&&(v(C),w=d(C),r[C.id]=w,C.addEventListener("dispose",x));const T=S.program;i.updateUBOMapping(C,T);const B=e.render.frame;s[C.id]!==B&&(h(C),s[C.id]=B)}function d(C){const S=p();C.__bindingPointIndex=S;const w=n.createBuffer(),T=C.__size,B=C.usage;return n.bindBuffer(35345,w),n.bufferData(35345,T,B),n.bindBuffer(35345,null),n.bindBufferBase(35345,S,w),w}function p(){for(let C=0;C<a;C++)if(o.indexOf(C)===-1)return o.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(C){const S=r[C.id],w=C.uniforms,T=C.__cache;n.bindBuffer(35345,S);for(let B=0,R=w.length;B<R;B++){const E=w[B];if(g(E,B,T)===!0){const P=E.__offset,I=Array.isArray(E.value)?E.value:[E.value];let G=0;for(let ie=0;ie<I.length;ie++){const K=I[ie],j=y(K);typeof K=="number"?(E.__data[0]=K,n.bufferSubData(35345,P+G,E.__data)):K.isMatrix3?(E.__data[0]=K.elements[0],E.__data[1]=K.elements[1],E.__data[2]=K.elements[2],E.__data[3]=K.elements[0],E.__data[4]=K.elements[3],E.__data[5]=K.elements[4],E.__data[6]=K.elements[5],E.__data[7]=K.elements[0],E.__data[8]=K.elements[6],E.__data[9]=K.elements[7],E.__data[10]=K.elements[8],E.__data[11]=K.elements[0]):(K.toArray(E.__data,G),G+=j.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,P,E.__data)}}n.bindBuffer(35345,null)}function g(C,S,w){const T=C.value;if(w[S]===void 0){if(typeof T=="number")w[S]=T;else{const B=Array.isArray(T)?T:[T],R=[];for(let E=0;E<B.length;E++)R.push(B[E].clone());w[S]=R}return!0}else if(typeof T=="number"){if(w[S]!==T)return w[S]=T,!0}else{const B=Array.isArray(w[S])?w[S]:[w[S]],R=Array.isArray(T)?T:[T];for(let E=0;E<B.length;E++){const P=B[E];if(P.equals(R[E])===!1)return P.copy(R[E]),!0}}return!1}function v(C){const S=C.uniforms;let w=0;const T=16;let B=0;for(let R=0,E=S.length;R<E;R++){const P=S[R],I={boundary:0,storage:0},G=Array.isArray(P.value)?P.value:[P.value];for(let ie=0,K=G.length;ie<K;ie++){const j=G[ie],te=y(j);I.boundary+=te.boundary,I.storage+=te.storage}if(P.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=w,R>0){B=w%T;const ie=T-B;B!==0&&ie-I.boundary<0&&(w+=T-B,P.__offset=w)}w+=I.storage}return B=w%T,B>0&&(w+=T-B),C.__size=w,C.__cache={},this}function y(C){const S={boundary:0,storage:0};return typeof C=="number"?(S.boundary=4,S.storage=4):C.isVector2?(S.boundary=8,S.storage=8):C.isVector3||C.isColor?(S.boundary=16,S.storage=12):C.isVector4?(S.boundary=16,S.storage=16):C.isMatrix3?(S.boundary=48,S.storage=48):C.isMatrix4?(S.boundary=64,S.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),S}function x(C){const S=C.target;S.removeEventListener("dispose",x);const w=o.indexOf(S.__bindingPointIndex);o.splice(w,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function _(){for(const C in r)n.deleteBuffer(r[C]);o=[],r={},s={}}return{bind:l,update:f,dispose:_}}function NL(){const n=zf("canvas");return n.style.display="block",n}function r8(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:NL(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",f=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;t!==null?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let p=null,h=null;const g=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Zi,this.physicallyCorrectLights=!1,this.toneMapping=zr,this.toneMappingExposure=1;const y=this;let x=!1,_=0,C=0,S=null,w=-1,T=null;const B=new kt,R=new kt;let E=null,P=e.width,I=e.height,G=1,ie=null,K=null;const j=new kt(0,0,P,I),te=new kt(0,0,P,I);let le=!1;const ce=new $m;let L=!1,V=!1,W=null;const X=new at,H=new ve,q=new k,ne={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ge(){return S===null?G:1}let N=t;function Ee(O,ae){for(let Ce=0;Ce<O.length;Ce++){const oe=O[Ce],Me=e.getContext(oe,ae);if(Me!==null)return Me}return null}try{const O={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:f};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Qo}`),e.addEventListener("webglcontextlost",Fe,!1),e.addEventListener("webglcontextrestored",Ge,!1),e.addEventListener("webglcontextcreationerror",st,!1),N===null){const ae=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&ae.shift(),N=Ee(ae,O),N===null)throw Ee(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}N.getShaderPrecisionFormat===void 0&&(N.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let he,ze,we,ke,se,de,Te,be,Re,Ne,Ve,Ye,tt,Ct,z,D,F,J,$,me,_e,Se,re,Le;function Be(){he=new $R(N),ze=new jR(N,he,n),he.init(ze),Se=new AC(N,he,ze),we=new PL(N,he,ze),ke=new nP,se=new xL,de=new LL(N,he,we,se,ze,Se,ke),Te=new ZR(y),be=new qR(y),Re=new fb(N,ze),re=new JR(N,he,Re,ze),Ne=new eP(N,Re,ke,re),Ve=new oP(N,Ne,Re,ke),$=new sP(N,ze,de),D=new KR(se),Ye=new yL(y,Te,be,he,ze,re,D),tt=new FL(y,se),Ct=new CL,z=new TL(he,ze),J=new WR(y,Te,be,we,Ve,d,o),F=new RL(y,Ve,ze),Le=new kL(N,ke,ze,we),me=new XR(N,he,ke,ze),_e=new tP(N,he,ke,ze),ke.programs=Ye.programs,y.capabilities=ze,y.extensions=he,y.properties=se,y.renderLists=Ct,y.shadowMap=F,y.state=we,y.info=ke}Be();const He=new DL(y,N);this.xr=He,this.getContext=function(){return N},this.getContextAttributes=function(){return N.getContextAttributes()},this.forceContextLoss=function(){const O=he.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=he.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(O){O!==void 0&&(G=O,this.setSize(P,I,!1))},this.getSize=function(O){return O.set(P,I)},this.setSize=function(O,ae,Ce){if(He.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}P=O,I=ae,e.width=Math.floor(O*G),e.height=Math.floor(ae*G),Ce!==!1&&(e.style.width=O+"px",e.style.height=ae+"px"),this.setViewport(0,0,O,ae)},this.getDrawingBufferSize=function(O){return O.set(P*G,I*G).floor()},this.setDrawingBufferSize=function(O,ae,Ce){P=O,I=ae,G=Ce,e.width=Math.floor(O*Ce),e.height=Math.floor(ae*Ce),this.setViewport(0,0,O,ae)},this.getCurrentViewport=function(O){return O.copy(B)},this.getViewport=function(O){return O.copy(j)},this.setViewport=function(O,ae,Ce,oe){O.isVector4?j.set(O.x,O.y,O.z,O.w):j.set(O,ae,Ce,oe),we.viewport(B.copy(j).multiplyScalar(G).floor())},this.getScissor=function(O){return O.copy(te)},this.setScissor=function(O,ae,Ce,oe){O.isVector4?te.set(O.x,O.y,O.z,O.w):te.set(O,ae,Ce,oe),we.scissor(R.copy(te).multiplyScalar(G).floor())},this.getScissorTest=function(){return le},this.setScissorTest=function(O){we.setScissorTest(le=O)},this.setOpaqueSort=function(O){ie=O},this.setTransparentSort=function(O){K=O},this.getClearColor=function(O){return O.copy(J.getClearColor())},this.setClearColor=function(){J.setClearColor.apply(J,arguments)},this.getClearAlpha=function(){return J.getClearAlpha()},this.setClearAlpha=function(){J.setClearAlpha.apply(J,arguments)},this.clear=function(O=!0,ae=!0,Ce=!0){let oe=0;O&&(oe|=16384),ae&&(oe|=256),Ce&&(oe|=1024),N.clear(oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Fe,!1),e.removeEventListener("webglcontextrestored",Ge,!1),e.removeEventListener("webglcontextcreationerror",st,!1),Ct.dispose(),z.dispose(),se.dispose(),Te.dispose(),be.dispose(),Ve.dispose(),re.dispose(),Le.dispose(),Ye.dispose(),He.dispose(),He.removeEventListener("sessionstart",Xe),He.removeEventListener("sessionend",We),W&&(W.dispose(),W=null),lt.stop()};function Fe(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Ge(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const O=ke.autoReset,ae=F.enabled,Ce=F.autoUpdate,oe=F.needsUpdate,Me=F.type;Be(),ke.autoReset=O,F.enabled=ae,F.autoUpdate=Ce,F.needsUpdate=oe,F.type=Me}function st(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function yt(O){const ae=O.target;ae.removeEventListener("dispose",yt),Kt(ae)}function Kt(O){Y(O),se.remove(O)}function Y(O){const ae=se.get(O).programs;ae!==void 0&&(ae.forEach(function(Ce){Ye.releaseProgram(Ce)}),O.isShaderMaterial&&Ye.releaseShaderCache(O))}this.renderBufferDirect=function(O,ae,Ce,oe,Me,nt){ae===null&&(ae=ne);const ot=Me.isMesh&&Me.matrixWorld.determinant()<0,ht=rl(O,ae,Ce,oe,Me);we.setMaterial(oe,ot);let xt=Ce.index,Et=1;oe.wireframe===!0&&(xt=Ne.getWireframeAttribute(Ce),Et=2);const St=Ce.drawRange,wt=Ce.attributes.position;let dn=St.start*Et,ci=(St.start+St.count)*Et;nt!==null&&(dn=Math.max(dn,nt.start*Et),ci=Math.min(ci,(nt.start+nt.count)*Et)),xt!==null?(dn=Math.max(dn,0),ci=Math.min(ci,xt.count)):wt!=null&&(dn=Math.max(dn,0),ci=Math.min(ci,wt.count));const wr=ci-dn;if(wr<0||wr===1/0)return;re.setup(Me,oe,ht,Ce,xt);let ds,en=me;if(xt!==null&&(ds=Re.get(xt),en=_e,en.setIndex(ds)),Me.isMesh)oe.wireframe===!0?(we.setLineWidth(oe.wireframeLinewidth*ge()),en.setMode(1)):en.setMode(4);else if(Me.isLine){let pt=oe.linewidth;pt===void 0&&(pt=1),we.setLineWidth(pt*ge()),Me.isLineSegments?en.setMode(1):Me.isLineLoop?en.setMode(2):en.setMode(3)}else Me.isPoints?en.setMode(0):Me.isSprite&&en.setMode(4);if(Me.isInstancedMesh)en.renderInstances(dn,wr,Me.count);else if(Ce.isInstancedBufferGeometry){const pt=Ce._maxInstanceCount!==void 0?Ce._maxInstanceCount:1/0,na=Math.min(Ce.instanceCount,pt);en.renderInstances(dn,wr,na)}else en.render(dn,wr)},this.compile=function(O,ae){function Ce(oe,Me,nt){oe.transparent===!0&&oe.side===Qc?(oe.side=Yn,oe.needsUpdate=!0,$t(oe,Me,nt),oe.side=us,oe.needsUpdate=!0,$t(oe,Me,nt),oe.side=Qc):$t(oe,Me,nt)}h=z.get(O),h.init(),v.push(h),O.traverseVisible(function(oe){oe.isLight&&oe.layers.test(ae.layers)&&(h.pushLight(oe),oe.castShadow&&h.pushShadow(oe))}),h.setupLights(y.physicallyCorrectLights),O.traverse(function(oe){const Me=oe.material;if(Me)if(Array.isArray(Me))for(let nt=0;nt<Me.length;nt++){const ot=Me[nt];Ce(ot,O,oe)}else Ce(Me,O,oe)}),v.pop(),h=null};let xe=null;function Ae(O){xe&&xe(O)}function Xe(){lt.stop()}function We(){lt.start()}const lt=new _C;lt.setAnimationLoop(Ae),typeof self<"u"&&lt.setContext(self),this.setAnimationLoop=function(O){xe=O,He.setAnimationLoop(O),O===null?lt.stop():lt.start()},He.addEventListener("sessionstart",Xe),He.addEventListener("sessionend",We),this.render=function(O,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),He.enabled===!0&&He.isPresenting===!0&&(He.cameraAutoUpdate===!0&&He.updateCamera(ae),ae=He.getCamera()),O.isScene===!0&&O.onBeforeRender(y,O,ae,S),h=z.get(O,v.length),h.init(),v.push(h),X.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),ce.setFromProjectionMatrix(X),V=this.localClippingEnabled,L=D.init(this.clippingPlanes,V,ae),p=Ct.get(O,g.length),p.init(),g.push(p),Ut(O,ae,0,y.sortObjects),p.finish(),y.sortObjects===!0&&p.sort(ie,K),L===!0&&D.beginShadows();const Ce=h.state.shadowsArray;if(F.render(Ce,O,ae),L===!0&&D.endShadows(),this.info.autoReset===!0&&this.info.reset(),J.render(p,O),h.setupLights(y.physicallyCorrectLights),ae.isArrayCamera){const oe=ae.cameras;for(let Me=0,nt=oe.length;Me<nt;Me++){const ot=oe[Me];sn(p,O,ot,ot.viewport)}}else sn(p,O,ae);S!==null&&(de.updateMultisampleRenderTarget(S),de.updateRenderTargetMipmap(S)),O.isScene===!0&&O.onAfterRender(y,O,ae),re.resetDefaultState(),w=-1,T=null,v.pop(),v.length>0?h=v[v.length-1]:h=null,g.pop(),g.length>0?p=g[g.length-1]:p=null};function Ut(O,ae,Ce,oe){if(O.visible===!1)return;if(O.layers.test(ae.layers)){if(O.isGroup)Ce=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(ae);else if(O.isLight)h.pushLight(O),O.castShadow&&h.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||ce.intersectsSprite(O)){oe&&q.setFromMatrixPosition(O.matrixWorld).applyMatrix4(X);const ot=Ve.update(O),ht=O.material;ht.visible&&p.push(O,ot,ht,Ce,q.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(O.isSkinnedMesh&&O.skeleton.frame!==ke.render.frame&&(O.skeleton.update(),O.skeleton.frame=ke.render.frame),!O.frustumCulled||ce.intersectsObject(O))){oe&&q.setFromMatrixPosition(O.matrixWorld).applyMatrix4(X);const ot=Ve.update(O),ht=O.material;if(Array.isArray(ht)){const xt=ot.groups;for(let Et=0,St=xt.length;Et<St;Et++){const wt=xt[Et],dn=ht[wt.materialIndex];dn&&dn.visible&&p.push(O,ot,dn,Ce,q.z,wt)}}else ht.visible&&p.push(O,ot,ht,Ce,q.z,null)}}const nt=O.children;for(let ot=0,ht=nt.length;ot<ht;ot++)Ut(nt[ot],ae,Ce,oe)}function sn(O,ae,Ce,oe){const Me=O.opaque,nt=O.transmissive,ot=O.transparent;h.setupLightsView(Ce),nt.length>0&&Si(Me,ae,Ce),oe&&we.viewport(B.copy(oe)),Me.length>0&&zt(Me,ae,Ce),nt.length>0&&zt(nt,ae,Ce),ot.length>0&&zt(ot,ae,Ce),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function Si(O,ae,Ce){const oe=ze.isWebGL2;W===null&&(W=new jt(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")?xr:Wn,minFilter:Vr,samples:oe&&s===!0?4:0})),y.getDrawingBufferSize(H),oe?W.setSize(H.x,H.y):W.setSize(Sm(H.x),Sm(H.y));const Me=y.getRenderTarget();y.setRenderTarget(W),y.clear();const nt=y.toneMapping;y.toneMapping=zr,zt(O,ae,Ce),y.toneMapping=nt,de.updateMultisampleRenderTarget(W),de.updateRenderTargetMipmap(W),y.setRenderTarget(Me)}function zt(O,ae,Ce){const oe=ae.isScene===!0?ae.overrideMaterial:null;for(let Me=0,nt=O.length;Me<nt;Me++){const ot=O[Me],ht=ot.object,xt=ot.geometry,Et=oe===null?ot.material:oe,St=ot.group;ht.layers.test(Ce.layers)&&wi(ht,ae,Ce,xt,Et,St)}}function wi(O,ae,Ce,oe,Me,nt){O.onBeforeRender(y,ae,Ce,oe,Me,nt),O.modelViewMatrix.multiplyMatrices(Ce.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),Me.onBeforeRender(y,ae,Ce,oe,O,nt),Me.transparent===!0&&Me.side===Qc?(Me.side=Yn,Me.needsUpdate=!0,y.renderBufferDirect(Ce,ae,oe,Me,O,nt),Me.side=us,Me.needsUpdate=!0,y.renderBufferDirect(Ce,ae,oe,Me,O,nt),Me.side=Qc):y.renderBufferDirect(Ce,ae,oe,Me,O,nt),O.onAfterRender(y,ae,Ce,oe,Me,nt)}function $t(O,ae,Ce){ae.isScene!==!0&&(ae=ne);const oe=se.get(O),Me=h.state.lights,nt=h.state.shadowsArray,ot=Me.state.version,ht=Ye.getParameters(O,Me.state,nt,ae,Ce),xt=Ye.getProgramCacheKey(ht);let Et=oe.programs;oe.environment=O.isMeshStandardMaterial?ae.environment:null,oe.fog=ae.fog,oe.envMap=(O.isMeshStandardMaterial?be:Te).get(O.envMap||oe.environment),Et===void 0&&(O.addEventListener("dispose",yt),Et=new Map,oe.programs=Et);let St=Et.get(xt);if(St!==void 0){if(oe.currentProgram===St&&oe.lightsStateVersion===ot)return no(O,ht),St}else ht.uniforms=Ye.getUniforms(O),O.onBuild(Ce,ht,y),O.onBeforeCompile(ht,y),St=Ye.acquireProgram(ht,xt),Et.set(xt,St),oe.uniforms=ht.uniforms;const wt=oe.uniforms;(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(wt.clippingPlanes=D.uniform),no(O,ht),oe.needsLights=qu(O),oe.lightsStateVersion=ot,oe.needsLights&&(wt.ambientLightColor.value=Me.state.ambient,wt.lightProbe.value=Me.state.probe,wt.directionalLights.value=Me.state.directional,wt.directionalLightShadows.value=Me.state.directionalShadow,wt.spotLights.value=Me.state.spot,wt.spotLightShadows.value=Me.state.spotShadow,wt.rectAreaLights.value=Me.state.rectArea,wt.ltc_1.value=Me.state.rectAreaLTC1,wt.ltc_2.value=Me.state.rectAreaLTC2,wt.pointLights.value=Me.state.point,wt.pointLightShadows.value=Me.state.pointShadow,wt.hemisphereLights.value=Me.state.hemi,wt.directionalShadowMap.value=Me.state.directionalShadowMap,wt.directionalShadowMatrix.value=Me.state.directionalShadowMatrix,wt.spotShadowMap.value=Me.state.spotShadowMap,wt.spotLightMatrix.value=Me.state.spotLightMatrix,wt.spotLightMap.value=Me.state.spotLightMap,wt.pointShadowMap.value=Me.state.pointShadowMap,wt.pointShadowMatrix.value=Me.state.pointShadowMatrix);const dn=St.getUniforms(),ci=Zp.seqWithValue(dn.seq,wt);return oe.currentProgram=St,oe.uniformsList=ci,St}function no(O,ae){const Ce=se.get(O);Ce.outputEncoding=ae.outputEncoding,Ce.instancing=ae.instancing,Ce.skinning=ae.skinning,Ce.morphTargets=ae.morphTargets,Ce.morphNormals=ae.morphNormals,Ce.morphColors=ae.morphColors,Ce.morphTargetsCount=ae.morphTargetsCount,Ce.numClippingPlanes=ae.numClippingPlanes,Ce.numIntersection=ae.numClipIntersection,Ce.vertexAlphas=ae.vertexAlphas,Ce.vertexTangents=ae.vertexTangents,Ce.toneMapping=ae.toneMapping}function rl(O,ae,Ce,oe,Me){ae.isScene!==!0&&(ae=ne),de.resetTextureUnits();const nt=ae.fog,ot=oe.isMeshStandardMaterial?ae.environment:null,ht=S===null?y.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:Zi,xt=(oe.isMeshStandardMaterial?be:Te).get(oe.envMap||ot),Et=oe.vertexColors===!0&&!!Ce.attributes.color&&Ce.attributes.color.itemSize===4,St=!!oe.normalMap&&!!Ce.attributes.tangent,wt=!!Ce.morphAttributes.position,dn=!!Ce.morphAttributes.normal,ci=!!Ce.morphAttributes.color,wr=oe.toneMapped?y.toneMapping:zr,ds=Ce.morphAttributes.position||Ce.morphAttributes.normal||Ce.morphAttributes.color,en=ds!==void 0?ds.length:0,pt=se.get(oe),na=h.state.lights;if(L===!0&&(V===!0||O!==T)){const Ot=O===T&&oe.id===w;D.setState(oe,O,Ot)}let hn=!1;oe.version===pt.__version?(pt.needsLights&&pt.lightsStateVersion!==na.state.version||pt.outputEncoding!==ht||Me.isInstancedMesh&&pt.instancing===!1||!Me.isInstancedMesh&&pt.instancing===!0||Me.isSkinnedMesh&&pt.skinning===!1||!Me.isSkinnedMesh&&pt.skinning===!0||pt.envMap!==xt||oe.fog===!0&&pt.fog!==nt||pt.numClippingPlanes!==void 0&&(pt.numClippingPlanes!==D.numPlanes||pt.numIntersection!==D.numIntersection)||pt.vertexAlphas!==Et||pt.vertexTangents!==St||pt.morphTargets!==wt||pt.morphNormals!==dn||pt.morphColors!==ci||pt.toneMapping!==wr||ze.isWebGL2===!0&&pt.morphTargetsCount!==en)&&(hn=!0):(hn=!0,pt.__version=oe.version);let hs=pt.currentProgram;hn===!0&&(hs=$t(oe,ae,Me));let ol=!1,tr=!1,nr=!1;const dt=hs.getUniforms(),bt=pt.uniforms;if(we.useProgram(hs.program)&&(ol=!0,tr=!0,nr=!0),oe.id!==w&&(w=oe.id,tr=!0),ol||T!==O){if(dt.setValue(N,"projectionMatrix",O.projectionMatrix),ze.logarithmicDepthBuffer&&dt.setValue(N,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),T!==O&&(T=O,tr=!0,nr=!0),oe.isShaderMaterial||oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshStandardMaterial||oe.envMap){const Ot=dt.map.cameraPosition;Ot!==void 0&&Ot.setValue(N,q.setFromMatrixPosition(O.matrixWorld))}(oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshLambertMaterial||oe.isMeshBasicMaterial||oe.isMeshStandardMaterial||oe.isShaderMaterial)&&dt.setValue(N,"isOrthographic",O.isOrthographicCamera===!0),(oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshLambertMaterial||oe.isMeshBasicMaterial||oe.isMeshStandardMaterial||oe.isShaderMaterial||oe.isShadowMaterial||Me.isSkinnedMesh)&&dt.setValue(N,"viewMatrix",O.matrixWorldInverse)}if(Me.isSkinnedMesh){dt.setOptional(N,Me,"bindMatrix"),dt.setOptional(N,Me,"bindMatrixInverse");const Ot=Me.skeleton;Ot&&(ze.floatVertexTextures?(Ot.boneTexture===null&&Ot.computeBoneTexture(),dt.setValue(N,"boneTexture",Ot.boneTexture,de),dt.setValue(N,"boneTextureSize",Ot.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const ir=Ce.morphAttributes;if((ir.position!==void 0||ir.normal!==void 0||ir.color!==void 0&&ze.isWebGL2===!0)&&$.update(Me,Ce,oe,hs),(tr||pt.receiveShadow!==Me.receiveShadow)&&(pt.receiveShadow=Me.receiveShadow,dt.setValue(N,"receiveShadow",Me.receiveShadow)),oe.isMeshGouraudMaterial&&oe.envMap!==null&&(bt.envMap.value=xt,bt.flipEnvMap.value=xt.isCubeTexture&&xt.isRenderTargetTexture===!1?-1:1),tr&&(dt.setValue(N,"toneMappingExposure",y.toneMappingExposure),pt.needsLights&&sl(bt,nr),nt&&oe.fog===!0&&tt.refreshFogUniforms(bt,nt),tt.refreshMaterialUniforms(bt,oe,G,I,W),Zp.upload(N,pt.uniformsList,bt,de)),oe.isShaderMaterial&&oe.uniformsNeedUpdate===!0&&(Zp.upload(N,pt.uniformsList,bt,de),oe.uniformsNeedUpdate=!1),oe.isSpriteMaterial&&dt.setValue(N,"center",Me.center),dt.setValue(N,"modelViewMatrix",Me.modelViewMatrix),dt.setValue(N,"normalMatrix",Me.normalMatrix),dt.setValue(N,"modelMatrix",Me.matrixWorld),oe.isShaderMaterial||oe.isRawShaderMaterial){const Ot=oe.uniformsGroups;for(let Nn=0,ps=Ot.length;Nn<ps;Nn++)if(ze.isWebGL2){const ms=Ot[Nn];Le.update(ms,hs),Le.bind(ms,hs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return hs}function sl(O,ae){O.ambientLightColor.needsUpdate=ae,O.lightProbe.needsUpdate=ae,O.directionalLights.needsUpdate=ae,O.directionalLightShadows.needsUpdate=ae,O.pointLights.needsUpdate=ae,O.pointLightShadows.needsUpdate=ae,O.spotLights.needsUpdate=ae,O.spotLightShadows.needsUpdate=ae,O.rectAreaLights.needsUpdate=ae,O.hemisphereLights.needsUpdate=ae}function qu(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(O,ae,Ce){se.get(O.texture).__webglTexture=ae,se.get(O.depthTexture).__webglTexture=Ce;const oe=se.get(O);oe.__hasExternalTextures=!0,oe.__hasExternalTextures&&(oe.__autoAllocateDepthBuffer=Ce===void 0,oe.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),oe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(O,ae){const Ce=se.get(O);Ce.__webglFramebuffer=ae,Ce.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function(O,ae=0,Ce=0){S=O,_=ae,C=Ce;let oe=!0,Me=null,nt=!1,ot=!1;if(O){const xt=se.get(O);xt.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(36160,null),oe=!1):xt.__webglFramebuffer===void 0?de.setupRenderTarget(O):xt.__hasExternalTextures&&de.rebindTextures(O,se.get(O.texture).__webglTexture,se.get(O.depthTexture).__webglTexture);const Et=O.texture;(Et.isData3DTexture||Et.isDataArrayTexture||Et.isCompressedArrayTexture)&&(ot=!0);const St=se.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Me=St[ae],nt=!0):ze.isWebGL2&&O.samples>0&&de.useMultisampledRTT(O)===!1?Me=se.get(O).__webglMultisampledFramebuffer:Me=St,B.copy(O.viewport),R.copy(O.scissor),E=O.scissorTest}else B.copy(j).multiplyScalar(G).floor(),R.copy(te).multiplyScalar(G).floor(),E=le;if(we.bindFramebuffer(36160,Me)&&ze.drawBuffers&&oe&&we.drawBuffers(O,Me),we.viewport(B),we.scissor(R),we.setScissorTest(E),nt){const xt=se.get(O.texture);N.framebufferTexture2D(36160,36064,34069+ae,xt.__webglTexture,Ce)}else if(ot){const xt=se.get(O.texture),Et=ae||0;N.framebufferTextureLayer(36160,36064,xt.__webglTexture,Ce||0,Et)}w=-1},this.readRenderTargetPixels=function(O,ae,Ce,oe,Me,nt,ot){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=se.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&ot!==void 0&&(ht=ht[ot]),ht){we.bindFramebuffer(36160,ht);try{const xt=O.texture,Et=xt.format,St=xt.type;if(Et!==Hi&&Se.convert(Et)!==N.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const wt=St===xr&&(he.has("EXT_color_buffer_half_float")||ze.isWebGL2&&he.has("EXT_color_buffer_float"));if(St!==Wn&&Se.convert(St)!==N.getParameter(35738)&&!(St===Wi&&(ze.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=O.width-oe&&Ce>=0&&Ce<=O.height-Me&&N.readPixels(ae,Ce,oe,Me,Se.convert(Et),Se.convert(St),nt)}finally{const xt=S!==null?se.get(S).__webglFramebuffer:null;we.bindFramebuffer(36160,xt)}}},this.copyFramebufferToTexture=function(O,ae,Ce=0){const oe=Math.pow(2,-Ce),Me=Math.floor(ae.image.width*oe),nt=Math.floor(ae.image.height*oe);de.setTexture2D(ae,0),N.copyTexSubImage2D(3553,Ce,0,0,O.x,O.y,Me,nt),we.unbindTexture()},this.copyTextureToTexture=function(O,ae,Ce,oe=0){const Me=ae.image.width,nt=ae.image.height,ot=Se.convert(Ce.format),ht=Se.convert(Ce.type);de.setTexture2D(Ce,0),N.pixelStorei(37440,Ce.flipY),N.pixelStorei(37441,Ce.premultiplyAlpha),N.pixelStorei(3317,Ce.unpackAlignment),ae.isDataTexture?N.texSubImage2D(3553,oe,O.x,O.y,Me,nt,ot,ht,ae.image.data):ae.isCompressedTexture?N.compressedTexSubImage2D(3553,oe,O.x,O.y,ae.mipmaps[0].width,ae.mipmaps[0].height,ot,ae.mipmaps[0].data):N.texSubImage2D(3553,oe,O.x,O.y,ot,ht,ae.image),oe===0&&Ce.generateMipmaps&&N.generateMipmap(3553),we.unbindTexture()},this.copyTextureToTexture3D=function(O,ae,Ce,oe,Me=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const nt=O.max.x-O.min.x+1,ot=O.max.y-O.min.y+1,ht=O.max.z-O.min.z+1,xt=Se.convert(oe.format),Et=Se.convert(oe.type);let St;if(oe.isData3DTexture)de.setTexture3D(oe,0),St=32879;else if(oe.isDataArrayTexture)de.setTexture2DArray(oe,0),St=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}N.pixelStorei(37440,oe.flipY),N.pixelStorei(37441,oe.premultiplyAlpha),N.pixelStorei(3317,oe.unpackAlignment);const wt=N.getParameter(3314),dn=N.getParameter(32878),ci=N.getParameter(3316),wr=N.getParameter(3315),ds=N.getParameter(32877),en=Ce.isCompressedTexture?Ce.mipmaps[0]:Ce.image;N.pixelStorei(3314,en.width),N.pixelStorei(32878,en.height),N.pixelStorei(3316,O.min.x),N.pixelStorei(3315,O.min.y),N.pixelStorei(32877,O.min.z),Ce.isDataTexture||Ce.isData3DTexture?N.texSubImage3D(St,Me,ae.x,ae.y,ae.z,nt,ot,ht,xt,Et,en.data):Ce.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),N.compressedTexSubImage3D(St,Me,ae.x,ae.y,ae.z,nt,ot,ht,xt,en.data)):N.texSubImage3D(St,Me,ae.x,ae.y,ae.z,nt,ot,ht,xt,Et,en),N.pixelStorei(3314,wt),N.pixelStorei(32878,dn),N.pixelStorei(3316,ci),N.pixelStorei(3315,wr),N.pixelStorei(32877,ds),Me===0&&oe.generateMipmaps&&N.generateMipmap(St),we.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?de.setTextureCube(O,0):O.isData3DTexture?de.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?de.setTexture2DArray(O,0):de.setTexture2D(O,0),we.unbindTexture()},this.resetState=function(){_=0,C=0,S=null,we.reset(),re.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class TC extends r8{}TC.prototype.isWebGL1Renderer=!0;class t0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Oe(e),this.density=t}clone(){return new t0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class n0{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Oe(e),this.near=t,this.far=i}clone(){return new n0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Au extends Pt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class ld{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Of,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ji()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ji()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ji()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const hi=new k;class Xo{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)hi.fromBufferAttribute(this,t),hi.applyMatrix4(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)hi.fromBufferAttribute(this,t),hi.applyNormalMatrix(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)hi.fromBufferAttribute(this,t),hi.transformDirection(e),this.setXYZ(t,hi.x,hi.y,hi.z);return this}setX(e,t){return this.normalized&&(t=Xt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Xt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Xt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Xt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Os(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Os(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Os(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Os(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Xt(t,this.array),i=Xt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Xt(t,this.array),i=Xt(i,this.array),r=Xt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Xt(t,this.array),i=Xt(i,this.array),r=Xt(r,this.array),s=Xt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Tt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Xo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class s8 extends vn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Oe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Dl;const Ic=new k,Fl=new k,kl=new k,Nl=new ve,Dc=new ve,bC=new at,ep=new k,Fc=new k,tp=new k,_9=new ve,Ag=new ve,C9=new ve;class BC extends Pt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Dl===void 0){Dl=new ft;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new ld(t,5);Dl.setIndex([0,1,2,0,2,3]),Dl.setAttribute("position",new Xo(i,3,0,!1)),Dl.setAttribute("uv",new Xo(i,2,3,!1))}this.geometry=Dl,this.material=e!==void 0?e:new s8,this.center=new ve(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fl.setFromMatrixScale(this.matrixWorld),bC.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),kl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fl.multiplyScalar(-kl.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;np(ep.set(-.5,-.5,0),kl,o,Fl,r,s),np(Fc.set(.5,-.5,0),kl,o,Fl,r,s),np(tp.set(.5,.5,0),kl,o,Fl,r,s),_9.set(0,0),Ag.set(1,0),C9.set(1,1);let a=e.ray.intersectTriangle(ep,Fc,tp,!1,Ic);if(a===null&&(np(Fc.set(-.5,.5,0),kl,o,Fl,r,s),Ag.set(0,1),a=e.ray.intersectTriangle(ep,tp,Fc,!1,Ic),a===null))return;const l=e.ray.origin.distanceTo(Ic);l<e.near||l>e.far||t.push({distance:l,point:Ic.clone(),uv:vr.getUV(Ic,ep,Fc,tp,_9,Ag,C9,new ve),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function np(n,e,t,i,r,s){Nl.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Dc.x=s*Nl.x-r*Nl.y,Dc.y=r*Nl.x+s*Nl.y):Dc.copy(Nl),n.copy(e),n.x+=Dc.x,n.y+=Dc.y,n.applyMatrix4(bC)}const ip=new k,M9=new k;class RC extends Pt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){ip.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(ip);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ip.setFromMatrixPosition(e.matrixWorld),M9.setFromMatrixPosition(this.matrixWorld);const i=ip.distanceTo(M9)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const S9=new k,w9=new kt,A9=new kt,OL=new k,E9=new at;class o8 extends Bn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new at,this.bindMatrixInverse=new at}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new kt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;w9.fromBufferAttribute(r.attributes.skinIndex,e),A9.fromBufferAttribute(r.attributes.skinWeight,e),S9.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=A9.getComponent(s);if(o!==0){const a=w9.getComponent(s);E9.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(OL.copy(S9).applyMatrix4(E9),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class i0 extends Pt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class fu extends Yt{constructor(e=null,t=1,i=1,r,s,o,a,l,f=Wt,d=Wt,p,h){super(null,o,a,l,f,d,r,s,p,h),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const T9=new at,UL=new at;class ud{constructor(e=[],t=[]){this.uuid=ji(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new at)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new at;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:UL;T9.multiplyMatrices(a,t[s]),T9.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new ud(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=pC(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new fu(t,e,e,Hi,Wi);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new i0),this.bones.push(o),this.boneInverses.push(new at().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Eu extends Tt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const b9=new at,B9=new at,rp=[],zL=new at,kc=new Bn;class PC extends Bn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Eu(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,zL)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(kc.geometry=this.geometry,kc.material=this.material,kc.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,b9),B9.multiplyMatrices(i,b9),kc.matrixWorld=B9,kc.raycast(e,rp);for(let o=0,a=rp.length;o<a;o++){const l=rp[o];l.instanceId=s,l.object=this,t.push(l)}rp.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Eu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ui extends vn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Oe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const R9=new k,P9=new k,L9=new at,Eg=new od,sp=new $o;class Zs extends Pt{constructor(e=new ft,t=new ui){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)R9.fromBufferAttribute(t,r-1),P9.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=R9.distanceTo(P9);e.setAttribute("lineDistance",new Qe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),sp.copy(i.boundingSphere),sp.applyMatrix4(r),sp.radius+=s,e.ray.intersectsSphere(sp)===!1)return;L9.copy(r).invert(),Eg.copy(e.ray).applyMatrix4(L9);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,f=new k,d=new k,p=new k,h=new k,g=this.isLineSegments?2:1,v=i.index,x=i.attributes.position;if(v!==null){const _=Math.max(0,o.start),C=Math.min(v.count,o.start+o.count);for(let S=_,w=C-1;S<w;S+=g){const T=v.getX(S),B=v.getX(S+1);if(f.fromBufferAttribute(x,T),d.fromBufferAttribute(x,B),Eg.distanceSqToSegment(f,d,h,p)>l)continue;h.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(h);E<e.near||E>e.far||t.push({distance:E,point:p.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,o.start),C=Math.min(x.count,o.start+o.count);for(let S=_,w=C-1;S<w;S+=g){if(f.fromBufferAttribute(x,S),d.fromBufferAttribute(x,S+1),Eg.distanceSqToSegment(f,d,h,p)>l)continue;h.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(h);B<e.near||B>e.far||t.push({distance:B,point:p.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const I9=new k,D9=new k;class Wr extends Zs{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)I9.fromBufferAttribute(t,r),D9.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+I9.distanceTo(D9);e.setAttribute("lineDistance",new Qe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class a8 extends Zs{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class r0 extends vn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Oe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const F9=new at,B3=new od,op=new $o,ap=new k;class l8 extends Pt{constructor(e=new ft,t=new r0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),op.copy(i.boundingSphere),op.applyMatrix4(r),op.radius+=s,e.ray.intersectsSphere(op)===!1)return;F9.copy(r).invert(),B3.copy(e.ray).applyMatrix4(F9);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,f=i.index,p=i.attributes.position;if(f!==null){const h=Math.max(0,o.start),g=Math.min(f.count,o.start+o.count);for(let v=h,y=g;v<y;v++){const x=f.getX(v);ap.fromBufferAttribute(p,x),k9(ap,x,l,r,e,t,this)}}else{const h=Math.max(0,o.start),g=Math.min(p.count,o.start+o.count);for(let v=h,y=g;v<y;v++)ap.fromBufferAttribute(p,v),k9(ap,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function k9(n,e,t,i,r,s,o){const a=B3.distanceSqToPoint(n);if(a<t){const l=new k;B3.closestPointToPoint(n,l),l.applyMatrix4(i);const f=r.ray.origin.distanceTo(l);if(f<r.near||f>r.far)return;s.push({distance:f,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class GL extends Yt{constructor(e,t,i,r,s,o,a,l,f){super(e,t,i,r,s,o,a,l,f),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Gt,this.magFilter=s!==void 0?s:Gt,this.generateMipmaps=!1;const d=this;function p(){d.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class HL extends Yt{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=Wt,this.minFilter=Wt,this.generateMipmaps=!1,this.needsUpdate=!0}}class u8 extends Yt{constructor(e,t,i,r,s,o,a,l,f,d,p,h){super(null,o,a,l,f,d,r,s,p,h),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class VL extends u8{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Zn}}class WL extends Yt{constructor(e,t,i,r,s,o,a,l,f){super(e,t,i,r,s,o,a,l,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Jr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,f;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),f=i[r]-o,f<0)a=r+1;else if(f>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],h=i[r+1]-d,g=(o-d)/h;return(r+g)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new ve:new k);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new k,r=[],s=[],o=[],a=new k,l=new at;for(let g=0;g<=e;g++){const v=g/e;r[g]=this.getTangentAt(v,new k)}s[0]=new k,o[0]=new k;let f=Number.MAX_VALUE;const d=Math.abs(r[0].x),p=Math.abs(r[0].y),h=Math.abs(r[0].z);d<=f&&(f=d,i.set(1,0,0)),p<=f&&(f=p,i.set(0,1,0)),h<=f&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(r[g-1],r[g]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Mn(r[g-1].dot(r[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(a,v))}o[g].crossVectors(r[g],s[g])}if(t===!0){let g=Math.acos(Mn(s[0].dot(s[e]),-1,1));g/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],g*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class s0 extends Jr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new ve,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),f=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),p=Math.sin(this.aRotation),h=l-this.aX,g=f-this.aY;l=h*d-g*p+this.aX,f=h*p+g*d+this.aY}return i.set(l,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class LC extends s0{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function c8(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,f){r(o,a,f*(a-s),f*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,f,d,p){let h=(o-s)/f-(a-s)/(f+d)+(a-o)/d,g=(a-o)/d-(l-o)/(d+p)+(l-a)/p;h*=d,g*=d,r(o,a,h,g)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const lp=new k,Tg=new c8,bg=new c8,Bg=new c8;class IC extends Jr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new k){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let f,d;this.closed||a>0?f=r[(a-1)%s]:(lp.subVectors(r[0],r[1]).add(r[0]),f=lp);const p=r[a%s],h=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(lp.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=lp),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(f.distanceToSquared(p),g),y=Math.pow(p.distanceToSquared(h),g),x=Math.pow(h.distanceToSquared(d),g);y<1e-4&&(y=1),v<1e-4&&(v=y),x<1e-4&&(x=y),Tg.initNonuniformCatmullRom(f.x,p.x,h.x,d.x,v,y,x),bg.initNonuniformCatmullRom(f.y,p.y,h.y,d.y,v,y,x),Bg.initNonuniformCatmullRom(f.z,p.z,h.z,d.z,v,y,x)}else this.curveType==="catmullrom"&&(Tg.initCatmullRom(f.x,p.x,h.x,d.x,this.tension),bg.initCatmullRom(f.y,p.y,h.y,d.y,this.tension),Bg.initCatmullRom(f.z,p.z,h.z,d.z,this.tension));return i.set(Tg.calc(l),bg.calc(l),Bg.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new k().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function N9(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function JL(n,e){const t=1-n;return t*t*e}function XL(n,e){return 2*(1-n)*n*e}function jL(n,e){return n*n*e}function hf(n,e,t,i){return JL(n,e)+XL(n,t)+jL(n,i)}function KL(n,e){const t=1-n;return t*t*t*e}function ZL(n,e){const t=1-n;return 3*t*t*n*e}function YL(n,e){return 3*(1-n)*n*n*e}function QL(n,e){return n*n*n*e}function pf(n,e,t,i,r){return KL(n,e)+ZL(n,t)+YL(n,i)+QL(n,r)}class f8 extends Jr{constructor(e=new ve,t=new ve,i=new ve,r=new ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ve){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(pf(e,r.x,s.x,o.x,a.x),pf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class DC extends Jr{constructor(e=new k,t=new k,i=new k,r=new k){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new k){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(pf(e,r.x,s.x,o.x,a.x),pf(e,r.y,s.y,o.y,a.y),pf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class o0 extends Jr{constructor(e=new ve,t=new ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ve){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new ve;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FC extends Jr{constructor(e=new k,t=new k){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new k){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class d8 extends Jr{constructor(e=new ve,t=new ve,i=new ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ve){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(hf(e,r.x,s.x,o.x),hf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class h8 extends Jr{constructor(e=new k,t=new k,i=new k){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new k){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(hf(e,r.x,s.x,o.x),hf(e,r.y,s.y,o.y),hf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p8 extends Jr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ve){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],f=r[o],d=r[o>r.length-2?r.length-1:o+1],p=r[o>r.length-3?r.length-1:o+2];return i.set(N9(a,l.x,f.x,d.x,p.x),N9(a,l.y,f.y,d.y,p.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ve().fromArray(r))}return this}}var m8=Object.freeze({__proto__:null,ArcCurve:LC,CatmullRomCurve3:IC,CubicBezierCurve:f8,CubicBezierCurve3:DC,EllipseCurve:s0,LineCurve:o0,LineCurve3:FC,QuadraticBezierCurve:d8,QuadraticBezierCurve3:h8,SplineCurve:p8});class kC extends Jr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new o0(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),f=l===0?0:1-o/l;return a.getPointAt(f,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let f=0;f<l.length;f++){const d=l[f];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new m8[r.type]().fromJSON(r))}return this}}class Gf extends kC{constructor(e){super(),this.type="Path",this.currentPoint=new ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new o0(this.currentPoint.clone(),new ve(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new d8(this.currentPoint.clone(),new ve(e,t),new ve(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new f8(this.currentPoint.clone(),new ve(e,t),new ve(i,r),new ve(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new p8(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const f=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+f,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const f=new s0(e,t,i,r,s,o,a,l);if(this.curves.length>0){const p=f.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(f);const d=f.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Vu extends ft{constructor(e=[new ve(0,-.5),new ve(.5,0),new ve(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Mn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],f=[],d=1/t,p=new k,h=new ve,g=new k,v=new k,y=new k;let x=0,_=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:x=e[C+1].x-e[C].x,_=e[C+1].y-e[C].y,g.x=_*1,g.y=-x,g.z=_*0,y.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:x=e[C+1].x-e[C].x,_=e[C+1].y-e[C].y,g.x=_*1,g.y=-x,g.z=_*0,v.copy(g),g.x+=y.x,g.y+=y.y,g.z+=y.z,g.normalize(),l.push(g.x,g.y,g.z),y.copy(v)}for(let C=0;C<=t;C++){const S=i+C*d*r,w=Math.sin(S),T=Math.cos(S);for(let B=0;B<=e.length-1;B++){p.x=e[B].x*w,p.y=e[B].y,p.z=e[B].x*T,o.push(p.x,p.y,p.z),h.x=C/t,h.y=B/(e.length-1),a.push(h.x,h.y);const R=l[3*B+0]*w,E=l[3*B+1],P=l[3*B+0]*T;f.push(R,E,P)}}for(let C=0;C<t;C++)for(let S=0;S<e.length-1;S++){const w=S+C*e.length,T=w,B=w+e.length,R=w+e.length+1,E=w+1;s.push(T,B,E),s.push(R,E,B)}this.setIndex(s),this.setAttribute("position",new Qe(o,3)),this.setAttribute("uv",new Qe(a,2)),this.setAttribute("normal",new Qe(f,3))}static fromJSON(e){return new Vu(e.points,e.segments,e.phiStart,e.phiLength)}}class cd extends Vu{constructor(e=1,t=1,i=4,r=8){const s=new Gf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new cd(e.radius,e.length,e.capSegments,e.radialSegments)}}class fd extends ft{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],f=new k,d=new ve;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let p=0,h=3;p<=t;p++,h+=3){const g=i+p/t*r;f.x=e*Math.cos(g),f.y=e*Math.sin(g),o.push(f.x,f.y,f.z),a.push(0,0,1),d.x=(o[h]/e+1)/2,d.y=(o[h+1]/e+1)/2,l.push(d.x,d.y)}for(let p=1;p<=t;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new Qe(o,3)),this.setAttribute("normal",new Qe(a,3)),this.setAttribute("uv",new Qe(l,2))}static fromJSON(e){return new fd(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class qa extends ft{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const f=this;r=Math.floor(r),s=Math.floor(s);const d=[],p=[],h=[],g=[];let v=0;const y=[],x=i/2;let _=0;C(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new Qe(p,3)),this.setAttribute("normal",new Qe(h,3)),this.setAttribute("uv",new Qe(g,2));function C(){const w=new k,T=new k;let B=0;const R=(t-e)/i;for(let E=0;E<=s;E++){const P=[],I=E/s,G=I*(t-e)+e;for(let ie=0;ie<=r;ie++){const K=ie/r,j=K*l+a,te=Math.sin(j),le=Math.cos(j);T.x=G*te,T.y=-I*i+x,T.z=G*le,p.push(T.x,T.y,T.z),w.set(te,R,le).normalize(),h.push(w.x,w.y,w.z),g.push(K,1-I),P.push(v++)}y.push(P)}for(let E=0;E<r;E++)for(let P=0;P<s;P++){const I=y[P][E],G=y[P+1][E],ie=y[P+1][E+1],K=y[P][E+1];d.push(I,G,K),d.push(G,ie,K),B+=6}f.addGroup(_,B,0),_+=B}function S(w){const T=v,B=new ve,R=new k;let E=0;const P=w===!0?e:t,I=w===!0?1:-1;for(let ie=1;ie<=r;ie++)p.push(0,x*I,0),h.push(0,I,0),g.push(.5,.5),v++;const G=v;for(let ie=0;ie<=r;ie++){const j=ie/r*l+a,te=Math.cos(j),le=Math.sin(j);R.x=P*le,R.y=x*I,R.z=P*te,p.push(R.x,R.y,R.z),h.push(0,I,0),B.x=te*.5+.5,B.y=le*.5*I+.5,g.push(B.x,B.y),v++}for(let ie=0;ie<r;ie++){const K=T+ie,j=G+ie;w===!0?d.push(j,j+1,K):d.push(j+1,j,K),E+=3}f.addGroup(_,E,w===!0?1:2),_+=E}}static fromJSON(e){return new qa(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class dd extends qa{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new dd(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $s extends ft{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),f(i),d(),this.setAttribute("position",new Qe(s,3)),this.setAttribute("normal",new Qe(s.slice(),3)),this.setAttribute("uv",new Qe(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(C){const S=new k,w=new k,T=new k;for(let B=0;B<t.length;B+=3)g(t[B+0],S),g(t[B+1],w),g(t[B+2],T),l(S,w,T,C)}function l(C,S,w,T){const B=T+1,R=[];for(let E=0;E<=B;E++){R[E]=[];const P=C.clone().lerp(w,E/B),I=S.clone().lerp(w,E/B),G=B-E;for(let ie=0;ie<=G;ie++)ie===0&&E===B?R[E][ie]=P:R[E][ie]=P.clone().lerp(I,ie/G)}for(let E=0;E<B;E++)for(let P=0;P<2*(B-E)-1;P++){const I=Math.floor(P/2);P%2===0?(h(R[E][I+1]),h(R[E+1][I]),h(R[E][I])):(h(R[E][I+1]),h(R[E+1][I+1]),h(R[E+1][I]))}}function f(C){const S=new k;for(let w=0;w<s.length;w+=3)S.x=s[w+0],S.y=s[w+1],S.z=s[w+2],S.normalize().multiplyScalar(C),s[w+0]=S.x,s[w+1]=S.y,s[w+2]=S.z}function d(){const C=new k;for(let S=0;S<s.length;S+=3){C.x=s[S+0],C.y=s[S+1],C.z=s[S+2];const w=x(C)/2/Math.PI+.5,T=_(C)/Math.PI+.5;o.push(w,1-T)}v(),p()}function p(){for(let C=0;C<o.length;C+=6){const S=o[C+0],w=o[C+2],T=o[C+4],B=Math.max(S,w,T),R=Math.min(S,w,T);B>.9&&R<.1&&(S<.2&&(o[C+0]+=1),w<.2&&(o[C+2]+=1),T<.2&&(o[C+4]+=1))}}function h(C){s.push(C.x,C.y,C.z)}function g(C,S){const w=C*3;S.x=e[w+0],S.y=e[w+1],S.z=e[w+2]}function v(){const C=new k,S=new k,w=new k,T=new k,B=new ve,R=new ve,E=new ve;for(let P=0,I=0;P<s.length;P+=9,I+=6){C.set(s[P+0],s[P+1],s[P+2]),S.set(s[P+3],s[P+4],s[P+5]),w.set(s[P+6],s[P+7],s[P+8]),B.set(o[I+0],o[I+1]),R.set(o[I+2],o[I+3]),E.set(o[I+4],o[I+5]),T.copy(C).add(S).add(w).divideScalar(3);const G=x(T);y(B,I+0,C,G),y(R,I+2,S,G),y(E,I+4,w,G)}}function y(C,S,w,T){T<0&&C.x===1&&(o[S]=C.x-1),w.x===0&&w.z===0&&(o[S]=T/2/Math.PI+.5)}function x(C){return Math.atan2(C.z,-C.x)}function _(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}static fromJSON(e){return new $s(e.vertices,e.indices,e.radius,e.details)}}class hd extends $s{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hd(e.radius,e.detail)}}const up=new k,cp=new k,Rg=new k,fp=new vr;class NC extends ft{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Oa*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,f=[0,0,0],d=["a","b","c"],p=new Array(3),h={},g=[];for(let v=0;v<l;v+=3){o?(f[0]=o.getX(v),f[1]=o.getX(v+1),f[2]=o.getX(v+2)):(f[0]=v,f[1]=v+1,f[2]=v+2);const{a:y,b:x,c:_}=fp;if(y.fromBufferAttribute(a,f[0]),x.fromBufferAttribute(a,f[1]),_.fromBufferAttribute(a,f[2]),fp.getNormal(Rg),p[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,p[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,p[2]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let C=0;C<3;C++){const S=(C+1)%3,w=p[C],T=p[S],B=fp[d[C]],R=fp[d[S]],E=`${w}_${T}`,P=`${T}_${w}`;P in h&&h[P]?(Rg.dot(h[P].normal)<=s&&(g.push(B.x,B.y,B.z),g.push(R.x,R.y,R.z)),h[P]=null):E in h||(h[E]={index0:f[C],index1:f[S],normal:Rg.clone()})}}for(const v in h)if(h[v]){const{index0:y,index1:x}=h[v];up.fromBufferAttribute(a,y),cp.fromBufferAttribute(a,x),g.push(up.x,up.y,up.z),g.push(cp.x,cp.y,cp.z)}this.setAttribute("position",new Qe(g,3))}}}class Ga extends Gf{constructor(e){super(e),this.uuid=ji(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Gf().fromJSON(r))}return this}}const qL={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=OC(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,f,d,p,h,g;if(i&&(s=iI(n,e,s,t)),n.length>80*t){a=f=n[0],l=d=n[1];for(let v=t;v<r;v+=t)p=n[v],h=n[v+1],p<a&&(a=p),h<l&&(l=h),p>f&&(f=p),h>d&&(d=h);g=Math.max(f-a,d-l),g=g!==0?32767/g:0}return Hf(s,o,t,a,l,g,0),o}};function OC(n,e,t,i,r){let s,o;if(r===pI(n,e,t,i)>0)for(s=e;s<t;s+=i)o=O9(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=O9(s,n[s],n[s+1],o);return o&&a0(o,o.next)&&(Wf(o),o=o.next),o}function Ka(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(a0(t,t.next)||un(t.prev,t,t.next)===0)){if(Wf(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Hf(n,e,t,i,r,s,o){if(!n)return;!o&&s&&lI(n,i,r,s);let a=n,l,f;for(;n.prev!==n.next;){if(l=n.prev,f=n.next,s?eI(n,i,r,s):$L(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(f.i/t|0),Wf(n),n=f.next,a=f.next;continue}if(n=f,n===a){o?o===1?(n=tI(Ka(n),e,t),Hf(n,e,t,i,r,s,2)):o===2&&nI(n,e,t,i,r,s):Hf(Ka(n),e,t,i,r,s,1);break}}}function $L(n){const e=n.prev,t=n,i=n.next;if(un(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,f=i.y,d=r<s?r<o?r:o:s<o?s:o,p=a<l?a<f?a:f:l<f?l:f,h=r>s?r>o?r:o:s>o?s:o,g=a>l?a>f?a:f:l>f?l:f;let v=i.next;for(;v!==e;){if(v.x>=d&&v.x<=h&&v.y>=p&&v.y<=g&&tu(r,a,s,l,o,f,v.x,v.y)&&un(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function eI(n,e,t,i){const r=n.prev,s=n,o=n.next;if(un(r,s,o)>=0)return!1;const a=r.x,l=s.x,f=o.x,d=r.y,p=s.y,h=o.y,g=a<l?a<f?a:f:l<f?l:f,v=d<p?d<h?d:h:p<h?p:h,y=a>l?a>f?a:f:l>f?l:f,x=d>p?d>h?d:h:p>h?p:h,_=R3(g,v,e,t,i),C=R3(y,x,e,t,i);let S=n.prevZ,w=n.nextZ;for(;S&&S.z>=_&&w&&w.z<=C;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&tu(a,d,l,p,f,h,S.x,S.y)&&un(S.prev,S,S.next)>=0||(S=S.prevZ,w.x>=g&&w.x<=y&&w.y>=v&&w.y<=x&&w!==r&&w!==o&&tu(a,d,l,p,f,h,w.x,w.y)&&un(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;S&&S.z>=_;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&tu(a,d,l,p,f,h,S.x,S.y)&&un(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;w&&w.z<=C;){if(w.x>=g&&w.x<=y&&w.y>=v&&w.y<=x&&w!==r&&w!==o&&tu(a,d,l,p,f,h,w.x,w.y)&&un(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function tI(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!a0(r,s)&&UC(r,i,i.next,s)&&Vf(r,s)&&Vf(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Wf(i),Wf(i.next),i=n=s),i=i.next}while(i!==n);return Ka(i)}function nI(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&fI(o,a)){let l=zC(o,a);o=Ka(o,o.next),l=Ka(l,l.next),Hf(o,e,t,i,r,s,0),Hf(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function iI(n,e,t,i){const r=[];let s,o,a,l,f;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,f=OC(n,a,l,i,!1),f===f.next&&(f.steiner=!0),r.push(cI(f));for(r.sort(rI),s=0;s<r.length;s++)t=sI(r[s],t);return t}function rI(n,e){return n.x-e.x}function sI(n,e){const t=oI(n,e);if(!t)return e;const i=zC(t,n);return Ka(i,i.next),Ka(t,t.next)}function oI(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const h=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=s&&h>i&&(i=h,r=t.x<t.next.x?t:t.next,h===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,f=r.y;let d=1/0,p;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&tu(o<f?s:i,o,l,f,o<f?i:s,o,t.x,t.y)&&(p=Math.abs(o-t.y)/(s-t.x),Vf(t,n)&&(p<d||p===d&&(t.x>r.x||t.x===r.x&&aI(r,t)))&&(r=t,d=p)),t=t.next;while(t!==a);return r}function aI(n,e){return un(n.prev,n,e.prev)<0&&un(e.next,n,n.next)<0}function lI(n,e,t,i){let r=n;do r.z===0&&(r.z=R3(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,uI(r)}function uI(n){let e,t,i,r,s,o,a,l,f=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<f&&(a++,i=i.nextZ,!!i);e++);for(l=f;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,f*=2}while(o>1);return n}function R3(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function cI(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function tu(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function fI(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!dI(n,e)&&(Vf(n,e)&&Vf(e,n)&&hI(n,e)&&(un(n.prev,n,e.prev)||un(n,e.prev,e))||a0(n,e)&&un(n.prev,n,n.next)>0&&un(e.prev,e,e.next)>0)}function un(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function a0(n,e){return n.x===e.x&&n.y===e.y}function UC(n,e,t,i){const r=hp(un(n,e,t)),s=hp(un(n,e,i)),o=hp(un(t,i,n)),a=hp(un(t,i,e));return!!(r!==s&&o!==a||r===0&&dp(n,t,e)||s===0&&dp(n,i,e)||o===0&&dp(t,n,i)||a===0&&dp(t,e,i))}function dp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function hp(n){return n>0?1:n<0?-1:0}function dI(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&UC(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Vf(n,e){return un(n.prev,n,n.next)<0?un(n,e,n.next)>=0&&un(n,n.prev,e)>=0:un(n,e,n.prev)<0||un(n,n.next,e)<0}function hI(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function zC(n,e){const t=new P3(n.i,n.x,n.y),i=new P3(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function O9(n,e,t,i){const r=new P3(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Wf(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function P3(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function pI(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class as{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return as.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];U9(e),z9(i,e);let o=e.length;t.forEach(U9);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,z9(i,t[l]);const a=qL.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function U9(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function z9(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class pd extends ft{constructor(e=new Ga([new ve(.5,.5),new ve(-.5,.5),new ve(-.5,-.5),new ve(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const f=e[a];o(f)}this.setAttribute("position",new Qe(r,3)),this.setAttribute("uv",new Qe(s,2)),this.computeVertexNormals();function o(a){const l=[],f=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:g-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,C=t.UVGenerator!==void 0?t.UVGenerator:mI;let S,w=!1,T,B,R,E;_&&(S=_.getSpacedPoints(d),w=!0,h=!1,T=_.computeFrenetFrames(d,!1),B=new k,R=new k,E=new k),h||(x=0,g=0,v=0,y=0);const P=a.extractPoints(f);let I=P.shape;const G=P.holes;if(!as.isClockWise(I)){I=I.reverse();for(let se=0,de=G.length;se<de;se++){const Te=G[se];as.isClockWise(Te)&&(G[se]=Te.reverse())}}const K=as.triangulateShape(I,G),j=I;for(let se=0,de=G.length;se<de;se++){const Te=G[se];I=I.concat(Te)}function te(se,de,Te){return de||console.error("THREE.ExtrudeGeometry: vec does not exist"),de.clone().multiplyScalar(Te).add(se)}const le=I.length,ce=K.length;function L(se,de,Te){let be,Re,Ne;const Ve=se.x-de.x,Ye=se.y-de.y,tt=Te.x-se.x,Ct=Te.y-se.y,z=Ve*Ve+Ye*Ye,D=Ve*Ct-Ye*tt;if(Math.abs(D)>Number.EPSILON){const F=Math.sqrt(z),J=Math.sqrt(tt*tt+Ct*Ct),$=de.x-Ye/F,me=de.y+Ve/F,_e=Te.x-Ct/J,Se=Te.y+tt/J,re=((_e-$)*Ct-(Se-me)*tt)/(Ve*Ct-Ye*tt);be=$+Ve*re-se.x,Re=me+Ye*re-se.y;const Le=be*be+Re*Re;if(Le<=2)return new ve(be,Re);Ne=Math.sqrt(Le/2)}else{let F=!1;Ve>Number.EPSILON?tt>Number.EPSILON&&(F=!0):Ve<-Number.EPSILON?tt<-Number.EPSILON&&(F=!0):Math.sign(Ye)===Math.sign(Ct)&&(F=!0),F?(be=-Ye,Re=Ve,Ne=Math.sqrt(z)):(be=Ve,Re=Ye,Ne=Math.sqrt(z/2))}return new ve(be/Ne,Re/Ne)}const V=[];for(let se=0,de=j.length,Te=de-1,be=se+1;se<de;se++,Te++,be++)Te===de&&(Te=0),be===de&&(be=0),V[se]=L(j[se],j[Te],j[be]);const W=[];let X,H=V.concat();for(let se=0,de=G.length;se<de;se++){const Te=G[se];X=[];for(let be=0,Re=Te.length,Ne=Re-1,Ve=be+1;be<Re;be++,Ne++,Ve++)Ne===Re&&(Ne=0),Ve===Re&&(Ve=0),X[be]=L(Te[be],Te[Ne],Te[Ve]);W.push(X),H=H.concat(X)}for(let se=0;se<x;se++){const de=se/x,Te=g*Math.cos(de*Math.PI/2),be=v*Math.sin(de*Math.PI/2)+y;for(let Re=0,Ne=j.length;Re<Ne;Re++){const Ve=te(j[Re],V[Re],be);Ee(Ve.x,Ve.y,-Te)}for(let Re=0,Ne=G.length;Re<Ne;Re++){const Ve=G[Re];X=W[Re];for(let Ye=0,tt=Ve.length;Ye<tt;Ye++){const Ct=te(Ve[Ye],X[Ye],be);Ee(Ct.x,Ct.y,-Te)}}}const q=v+y;for(let se=0;se<le;se++){const de=h?te(I[se],H[se],q):I[se];w?(R.copy(T.normals[0]).multiplyScalar(de.x),B.copy(T.binormals[0]).multiplyScalar(de.y),E.copy(S[0]).add(R).add(B),Ee(E.x,E.y,E.z)):Ee(de.x,de.y,0)}for(let se=1;se<=d;se++)for(let de=0;de<le;de++){const Te=h?te(I[de],H[de],q):I[de];w?(R.copy(T.normals[se]).multiplyScalar(Te.x),B.copy(T.binormals[se]).multiplyScalar(Te.y),E.copy(S[se]).add(R).add(B),Ee(E.x,E.y,E.z)):Ee(Te.x,Te.y,p/d*se)}for(let se=x-1;se>=0;se--){const de=se/x,Te=g*Math.cos(de*Math.PI/2),be=v*Math.sin(de*Math.PI/2)+y;for(let Re=0,Ne=j.length;Re<Ne;Re++){const Ve=te(j[Re],V[Re],be);Ee(Ve.x,Ve.y,p+Te)}for(let Re=0,Ne=G.length;Re<Ne;Re++){const Ve=G[Re];X=W[Re];for(let Ye=0,tt=Ve.length;Ye<tt;Ye++){const Ct=te(Ve[Ye],X[Ye],be);w?Ee(Ct.x,Ct.y+S[d-1].y,S[d-1].x+Te):Ee(Ct.x,Ct.y,p+Te)}}}ne(),ge();function ne(){const se=r.length/3;if(h){let de=0,Te=le*de;for(let be=0;be<ce;be++){const Re=K[be];he(Re[2]+Te,Re[1]+Te,Re[0]+Te)}de=d+x*2,Te=le*de;for(let be=0;be<ce;be++){const Re=K[be];he(Re[0]+Te,Re[1]+Te,Re[2]+Te)}}else{for(let de=0;de<ce;de++){const Te=K[de];he(Te[2],Te[1],Te[0])}for(let de=0;de<ce;de++){const Te=K[de];he(Te[0]+le*d,Te[1]+le*d,Te[2]+le*d)}}i.addGroup(se,r.length/3-se,0)}function ge(){const se=r.length/3;let de=0;N(j,de),de+=j.length;for(let Te=0,be=G.length;Te<be;Te++){const Re=G[Te];N(Re,de),de+=Re.length}i.addGroup(se,r.length/3-se,1)}function N(se,de){let Te=se.length;for(;--Te>=0;){const be=Te;let Re=Te-1;Re<0&&(Re=se.length-1);for(let Ne=0,Ve=d+x*2;Ne<Ve;Ne++){const Ye=le*Ne,tt=le*(Ne+1),Ct=de+be+Ye,z=de+Re+Ye,D=de+Re+tt,F=de+be+tt;ze(Ct,z,D,F)}}}function Ee(se,de,Te){l.push(se),l.push(de),l.push(Te)}function he(se,de,Te){we(se),we(de),we(Te);const be=r.length/3,Re=C.generateTopUV(i,r,be-3,be-2,be-1);ke(Re[0]),ke(Re[1]),ke(Re[2])}function ze(se,de,Te,be){we(se),we(de),we(be),we(de),we(Te),we(be);const Re=r.length/3,Ne=C.generateSideWallUV(i,r,Re-6,Re-3,Re-2,Re-1);ke(Ne[0]),ke(Ne[1]),ke(Ne[3]),ke(Ne[1]),ke(Ne[2]),ke(Ne[3])}function we(se){r.push(l[se*3+0]),r.push(l[se*3+1]),r.push(l[se*3+2])}function ke(se){s.push(se.x),s.push(se.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return gI(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new m8[r.type]().fromJSON(r)),new pd(i,e.options)}}const mI={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],f=e[r*3],d=e[r*3+1];return[new ve(s,o),new ve(a,l),new ve(f,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],f=e[i*3],d=e[i*3+1],p=e[i*3+2],h=e[r*3],g=e[r*3+1],v=e[r*3+2],y=e[s*3],x=e[s*3+1],_=e[s*3+2];return Math.abs(a-d)<Math.abs(o-f)?[new ve(o,1-l),new ve(f,1-p),new ve(h,1-v),new ve(y,1-_)]:[new ve(a,1-l),new ve(d,1-p),new ve(g,1-v),new ve(x,1-_)]}};function gI(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Wu extends $s{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wu(e.radius,e.detail)}}class Ju extends $s{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ju(e.radius,e.detail)}}class md extends ft{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],f=[],d=[];let p=e;const h=(t-e)/r,g=new k,v=new ve;for(let y=0;y<=r;y++){for(let x=0;x<=i;x++){const _=s+x/i*o;g.x=p*Math.cos(_),g.y=p*Math.sin(_),l.push(g.x,g.y,g.z),f.push(0,0,1),v.x=(g.x/t+1)/2,v.y=(g.y/t+1)/2,d.push(v.x,v.y)}p+=h}for(let y=0;y<r;y++){const x=y*(i+1);for(let _=0;_<i;_++){const C=_+x,S=C,w=C+i+1,T=C+i+2,B=C+1;a.push(S,w,B),a.push(w,T,B)}}this.setIndex(a),this.setAttribute("position",new Qe(l,3)),this.setAttribute("normal",new Qe(f,3)),this.setAttribute("uv",new Qe(d,2))}static fromJSON(e){return new md(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class gd extends ft{constructor(e=new Ga([new ve(0,.5),new ve(-.5,-.5),new ve(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)f(e);else for(let d=0;d<e.length;d++)f(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Qe(r,3)),this.setAttribute("normal",new Qe(s,3)),this.setAttribute("uv",new Qe(o,2));function f(d){const p=r.length/3,h=d.extractPoints(t);let g=h.shape;const v=h.holes;as.isClockWise(g)===!1&&(g=g.reverse());for(let x=0,_=v.length;x<_;x++){const C=v[x];as.isClockWise(C)===!0&&(v[x]=C.reverse())}const y=as.triangulateShape(g,v);for(let x=0,_=v.length;x<_;x++){const C=v[x];g=g.concat(C)}for(let x=0,_=g.length;x<_;x++){const C=g[x];r.push(C.x,C.y,0),s.push(0,0,1),o.push(C.x,C.y)}for(let x=0,_=y.length;x<_;x++){const C=y[x],S=C[0]+p,w=C[1]+p,T=C[2]+p;i.push(S,w,T),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return vI(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new gd(i,e.curveSegments)}}function vI(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Xu extends ft{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let f=0;const d=[],p=new k,h=new k,g=[],v=[],y=[],x=[];for(let _=0;_<=i;_++){const C=[],S=_/i;let w=0;_==0&&o==0?w=.5/t:_==i&&l==Math.PI&&(w=-.5/t);for(let T=0;T<=t;T++){const B=T/t;p.x=-e*Math.cos(r+B*s)*Math.sin(o+S*a),p.y=e*Math.cos(o+S*a),p.z=e*Math.sin(r+B*s)*Math.sin(o+S*a),v.push(p.x,p.y,p.z),h.copy(p).normalize(),y.push(h.x,h.y,h.z),x.push(B+w,1-S),C.push(f++)}d.push(C)}for(let _=0;_<i;_++)for(let C=0;C<t;C++){const S=d[_][C+1],w=d[_][C],T=d[_+1][C],B=d[_+1][C+1];(_!==0||o>0)&&g.push(S,w,B),(_!==i-1||l<Math.PI)&&g.push(w,T,B)}this.setIndex(g),this.setAttribute("position",new Qe(v,3)),this.setAttribute("normal",new Qe(y,3)),this.setAttribute("uv",new Qe(x,2))}static fromJSON(e){return new Xu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class vd extends $s{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vd(e.radius,e.detail)}}class yd extends ft{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],f=[],d=new k,p=new k,h=new k;for(let g=0;g<=i;g++)for(let v=0;v<=r;v++){const y=v/r*s,x=g/i*Math.PI*2;p.x=(e+t*Math.cos(x))*Math.cos(y),p.y=(e+t*Math.cos(x))*Math.sin(y),p.z=t*Math.sin(x),a.push(p.x,p.y,p.z),d.x=e*Math.cos(y),d.y=e*Math.sin(y),h.subVectors(p,d).normalize(),l.push(h.x,h.y,h.z),f.push(v/r),f.push(g/i)}for(let g=1;g<=i;g++)for(let v=1;v<=r;v++){const y=(r+1)*g+v-1,x=(r+1)*(g-1)+v-1,_=(r+1)*(g-1)+v,C=(r+1)*g+v;o.push(y,x,C),o.push(x,_,C)}this.setIndex(o),this.setAttribute("position",new Qe(a,3)),this.setAttribute("normal",new Qe(l,3)),this.setAttribute("uv",new Qe(f,2))}static fromJSON(e){return new yd(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class xd extends ft{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],f=[],d=[],p=new k,h=new k,g=new k,v=new k,y=new k,x=new k,_=new k;for(let S=0;S<=i;++S){const w=S/i*s*Math.PI*2;C(w,s,o,e,g),C(w+.01,s,o,e,v),x.subVectors(v,g),_.addVectors(v,g),y.crossVectors(x,_),_.crossVectors(y,x),y.normalize(),_.normalize();for(let T=0;T<=r;++T){const B=T/r*Math.PI*2,R=-t*Math.cos(B),E=t*Math.sin(B);p.x=g.x+(R*_.x+E*y.x),p.y=g.y+(R*_.y+E*y.y),p.z=g.z+(R*_.z+E*y.z),l.push(p.x,p.y,p.z),h.subVectors(p,g).normalize(),f.push(h.x,h.y,h.z),d.push(S/i),d.push(T/r)}}for(let S=1;S<=i;S++)for(let w=1;w<=r;w++){const T=(r+1)*(S-1)+(w-1),B=(r+1)*S+(w-1),R=(r+1)*S+w,E=(r+1)*(S-1)+w;a.push(T,B,E),a.push(B,R,E)}this.setIndex(a),this.setAttribute("position",new Qe(l,3)),this.setAttribute("normal",new Qe(f,3)),this.setAttribute("uv",new Qe(d,2));function C(S,w,T,B,R){const E=Math.cos(S),P=Math.sin(S),I=T/w*S,G=Math.cos(I);R.x=B*(2+G)*.5*E,R.y=B*(2+G)*P*.5,R.z=B*Math.sin(I)*.5}}static fromJSON(e){return new xd(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class _d extends ft{constructor(e=new h8(new k(-1,-1,0),new k(-1,1,0),new k(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new k,l=new k,f=new ve;let d=new k;const p=[],h=[],g=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new Qe(p,3)),this.setAttribute("normal",new Qe(h,3)),this.setAttribute("uv",new Qe(g,2));function y(){for(let S=0;S<t;S++)x(S);x(s===!1?t:0),C(),_()}function x(S){d=e.getPointAt(S/t,d);const w=o.normals[S],T=o.binormals[S];for(let B=0;B<=r;B++){const R=B/r*Math.PI*2,E=Math.sin(R),P=-Math.cos(R);l.x=P*w.x+E*T.x,l.y=P*w.y+E*T.y,l.z=P*w.z+E*T.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,p.push(a.x,a.y,a.z)}}function _(){for(let S=1;S<=t;S++)for(let w=1;w<=r;w++){const T=(r+1)*(S-1)+(w-1),B=(r+1)*S+(w-1),R=(r+1)*S+w,E=(r+1)*(S-1)+w;v.push(T,B,E),v.push(B,R,E)}}function C(){for(let S=0;S<=t;S++)for(let w=0;w<=r;w++)f.x=S/t,f.y=w/r,g.push(f.x,f.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new _d(new m8[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class GC extends ft{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new k,s=new k;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let f=0,d=l.length;f<d;++f){const p=l[f],h=p.start,g=p.count;for(let v=h,y=h+g;v<y;v+=3)for(let x=0;x<3;x++){const _=a.getX(v+x),C=a.getX(v+(x+1)%3);r.fromBufferAttribute(o,_),s.fromBufferAttribute(o,C),G9(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let f=0;f<3;f++){const d=3*a+f,p=3*a+(f+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,p),G9(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Qe(t,3))}}}function G9(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var H9=Object.freeze({__proto__:null,BoxGeometry:ea,CapsuleGeometry:cd,CircleGeometry:fd,ConeGeometry:dd,CylinderGeometry:qa,DodecahedronGeometry:hd,EdgesGeometry:NC,ExtrudeGeometry:pd,IcosahedronGeometry:Wu,LatheGeometry:Vu,OctahedronGeometry:Ju,PlaneGeometry:zu,PolyhedronGeometry:$s,RingGeometry:md,ShapeGeometry:gd,SphereGeometry:Xu,TetrahedronGeometry:vd,TorusGeometry:yd,TorusKnotGeometry:xd,TubeGeometry:_d,WireframeGeometry:GC});class HC extends vn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Oe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class VC extends yn{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ju extends vn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Oe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qs,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eo extends ju{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Mn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Oe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Oe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Oe(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class WC extends vn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Oe(16777215),this.specular=new Oe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qs,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class JC extends vn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Oe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qs,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class g8 extends vn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qs,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class XC extends vn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Oe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qs,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jC extends vn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Oe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qs,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KC extends ui{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function hr(n,e,t){return v8(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Ia(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function v8(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ZC(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function L3(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function y8(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function yI(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const f=s.tracks[l],d=f.getValueSize(),p=[],h=[];for(let g=0;g<f.times.length;++g){const v=f.times[g]*r;if(!(v<t||v>=i)){p.push(f.times[g]);for(let y=0;y<d;++y)h.push(f.values[g*d+y])}}p.length!==0&&(f.times=Ia(p,f.times.constructor),f.values=Ia(h,f.values.constructor),o.push(f))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function xI(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const f=n.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(f===void 0)continue;let d=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);let h=0;const g=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=g/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const _=d,C=p-d;y=hr(a.values,_,C)}else if(s>=a.times[v]){const _=v*p+d,C=_+p-d;y=hr(a.values,_,C)}else{const _=a.createInterpolant(),C=d,S=p-d;_.evaluate(s),y=hr(_.resultBuffer,C,S)}l==="quaternion"&&new yi().fromArray(y).normalize().conjugate().toArray(y);const x=f.times.length;for(let _=0;_<x;++_){const C=_*g+h;if(l==="quaternion")yi.multiplyQuaternionsFlat(f.values,C,y,0,f.values,C);else{const S=g-h*2;for(let w=0;w<S;++w)f.values[C+w]-=y[w]}}}return n.blendMode=jv,n}var _I=Object.freeze({__proto__:null,arraySlice:hr,convertArray:Ia,isTypedArray:v8,getKeyframeOrder:ZC,sortedArray:L3,flattenJSON:y8,subclip:yI,makeClipAdditive:xI});class Ku{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class YC extends Ku{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ra,endingEnd:Ra}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Pa:s=e,a=2*t-i;break;case Nf:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Pa:o=e,l=2*i-t;break;case Nf:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const f=(i-t)*.5,d=this.valueSize;this._weightPrev=f/(t-a),this._weightNext=f/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,f=l-a,d=this._offsetPrev,p=this._offsetNext,h=this._weightPrev,g=this._weightNext,v=(i-t)/(r-t),y=v*v,x=y*v,_=-h*x+2*h*y-h*v,C=(1+h)*x+(-1.5-2*h)*y+(-.5+h)*v+1,S=(-1-g)*x+(1.5+g)*y+.5*v,w=g*x-g*y;for(let T=0;T!==a;++T)s[T]=_*o[d+T]+C*o[f+T]+S*o[l+T]+w*o[p+T];return s}}class x8 extends Ku{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,f=l-a,d=(i-t)/(r-t),p=1-d;for(let h=0;h!==a;++h)s[h]=o[f+h]*p+o[l+h]*d;return s}}class QC extends Ku{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Xr{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ia(t,this.TimeBufferType),this.values=Ia(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Ia(e.times,Array),values:Ia(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new QC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new x8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new YC(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Mu:t=this.InterpolantFactoryMethodDiscrete;break;case ja:t=this.InterpolantFactoryMethodLinear;break;case Xp:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Mu;case this.InterpolantFactoryMethodLinear:return ja;case this.InterpolantFactoryMethodSmooth:return Xp}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=hr(i,s,o),this.values=hr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&v8(r))for(let a=0,l=r.length;a!==l;++a){const f=r[a];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,f),e=!1;break}}return e}optimize(){const e=hr(this.times),t=hr(this.values),i=this.getValueSize(),r=this.getInterpolation()===Xp,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const f=e[a],d=e[a+1];if(f!==d&&(a!==1||f!==e[0]))if(r)l=!0;else{const p=a*i,h=p-i,g=p+i;for(let v=0;v!==i;++v){const y=t[p+v];if(y!==t[h+v]||y!==t[g+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const p=a*i,h=o*i;for(let g=0;g!==i;++g)t[h+g]=t[p+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,f=0;f!==i;++f)t[l+f]=t[a+f];++o}return o!==e.length?(this.times=hr(e,0,o),this.values=hr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=hr(this.times,0),t=hr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Xr.prototype.TimeBufferType=Float32Array;Xr.prototype.ValueBufferType=Float32Array;Xr.prototype.DefaultInterpolation=ja;class $a extends Xr{}$a.prototype.ValueTypeName="bool";$a.prototype.ValueBufferType=Array;$a.prototype.DefaultInterpolation=Mu;$a.prototype.InterpolantFactoryMethodLinear=void 0;$a.prototype.InterpolantFactoryMethodSmooth=void 0;class _8 extends Xr{}_8.prototype.ValueTypeName="color";class Tu extends Xr{}Tu.prototype.ValueTypeName="number";class qC extends Ku{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let f=e*a;for(let d=f+a;f!==d;f+=4)yi.slerpFlat(s,0,o,f-a,o,f,l);return s}}class jo extends Xr{InterpolantFactoryMethodLinear(e){return new qC(this.times,this.values,this.getValueSize(),e)}}jo.prototype.ValueTypeName="quaternion";jo.prototype.DefaultInterpolation=ja;jo.prototype.InterpolantFactoryMethodSmooth=void 0;class el extends Xr{}el.prototype.ValueTypeName="string";el.prototype.ValueBufferType=Array;el.prototype.DefaultInterpolation=Mu;el.prototype.InterpolantFactoryMethodLinear=void 0;el.prototype.InterpolantFactoryMethodSmooth=void 0;class bu extends Xr{}bu.prototype.ValueTypeName="vector";class Bu{constructor(e,t=-1,i,r=Qm){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ji(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(MI(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Xr.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],f=[];l.push((a+s-1)%s,a,(a+1)%s),f.push(0,1,0);const d=ZC(l);l=L3(l,1,d),f=L3(f,1,d),!r&&l[0]===0&&(l.push(s),f.push(f[0])),o.push(new Tu(".morphTargetInfluences["+t[a].name+"]",l,f).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const f=e[a],d=f.name.match(s);if(d&&d.length>1){const p=d[1];let h=r[p];h||(r[p]=h=[]),h.push(f)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(p,h,g,v,y){if(g.length!==0){const x=[],_=[];y8(g,x,_,v),x.length!==0&&y.push(new p(h,x,_))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const f=e.hierarchy||[];for(let p=0;p<f.length;p++){const h=f[p].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const g={};let v;for(v=0;v<h.length;v++)if(h[v].morphTargets)for(let y=0;y<h[v].morphTargets.length;y++)g[h[v].morphTargets[y]]=-1;for(const y in g){const x=[],_=[];for(let C=0;C!==h[v].morphTargets.length;++C){const S=h[v];x.push(S.time),_.push(S.morphTarget===y?1:0)}r.push(new Tu(".morphTargetInfluence["+y+"]",x,_))}l=g.length*o}else{const g=".bones["+t[p].name+"]";i(bu,g+".position",h,"pos",r),i(jo,g+".quaternion",h,"rot",r),i(bu,g+".scale",h,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function CI(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Tu;case"vector":case"vector2":case"vector3":case"vector4":return bu;case"color":return _8;case"quaternion":return jo;case"bool":case"boolean":return $a;case"string":return el}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function MI(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=CI(n.type);if(n.times===void 0){const t=[],i=[];y8(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Za={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class C8{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,p){return f.push(d,p),this},this.removeHandler=function(d){const p=f.indexOf(d);return p!==-1&&f.splice(p,2),this},this.getHandler=function(d){for(let p=0,h=f.length;p<h;p+=2){const g=f[p],v=f[p+1];if(g.global&&(g.lastIndex=0),g.test(d))return v}return null}}}const $C=new C8;class Ci{constructor(e){this.manager=e!==void 0?e:$C,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ts={};class SI extends Error{constructor(e,t){super(e),this.response=t}}class Yi extends Ci{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Za.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ts[e]!==void 0){Ts[e].push({onLoad:t,onProgress:i,onError:r});return}Ts[e]=[],Ts[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const d=Ts[e],p=f.body.getReader(),h=f.headers.get("Content-Length")||f.headers.get("X-File-Size"),g=h?parseInt(h):0,v=g!==0;let y=0;const x=new ReadableStream({start(_){C();function C(){p.read().then(({done:S,value:w})=>{if(S)_.close();else{y+=w.byteLength;const T=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:g});for(let B=0,R=d.length;B<R;B++){const E=d[B];E.onProgress&&E.onProgress(T)}_.enqueue(w),C()}})}}});return new Response(x)}else throw new SI(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(l){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return f.json();default:if(a===void 0)return f.text();{const p=/charset="?([^;"\s]*)"?/i.exec(a),h=p&&p[1]?p[1].toLowerCase():void 0,g=new TextDecoder(h);return f.arrayBuffer().then(v=>g.decode(v))}}}).then(f=>{Za.add(e,f);const d=Ts[e];delete Ts[e];for(let p=0,h=d.length;p<h;p++){const g=d[p];g.onLoad&&g.onLoad(f)}}).catch(f=>{const d=Ts[e];if(d===void 0)throw this.manager.itemError(e),f;delete Ts[e];for(let p=0,h=d.length;p<h;p++){const g=d[p];g.onError&&g.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class wI extends Ci{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Yi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Bu.parse(e[i]);t.push(r)}return t}}class AI extends Ci{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new u8,l=new Yi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let f=0;function d(p){l.load(e[p],function(h){const g=s.parse(h,!0);o[p]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},f+=1,f===6&&(g.mipmapCount===1&&(a.minFilter=Gt),a.image=o,a.format=g.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let p=0,h=e.length;p<h;++p)d(p);else l.load(e,function(p){const h=s.parse(p,!0);if(h.isCubemap){const g=h.mipmaps.length/h.mipmapCount;for(let v=0;v<g;v++){o[v]={mipmaps:[]};for(let y=0;y<h.mipmapCount;y++)o[v].mipmaps.push(h.mipmaps[v*h.mipmapCount+y]),o[v].format=h.format,o[v].width=h.width,o[v].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=Gt),a.format=h.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Jf extends Ci{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Za.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=zf("img");function l(){d(),Za.add(e,this),t&&t(this),s.manager.itemEnd(e)}function f(p){d(),r&&r(p),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",f,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class eM extends Ci{constructor(e){super(e)}load(e,t,i,r){const s=new ad,o=new Jf(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(f){o.load(e[f],function(d){s.images[f]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let f=0;f<e.length;++f)l(f);return s}}class tM extends Ci{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new fu,a=new Yi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const f=s.parse(l);f&&(f.image!==void 0?o.image=f.image:f.data!==void 0&&(o.image.width=f.width,o.image.height=f.height,o.image.data=f.data),o.wrapS=f.wrapS!==void 0?f.wrapS:Zn,o.wrapT=f.wrapT!==void 0?f.wrapT:Zn,o.magFilter=f.magFilter!==void 0?f.magFilter:Gt,o.minFilter=f.minFilter!==void 0?f.minFilter:Gt,o.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.encoding!==void 0&&(o.encoding=f.encoding),f.flipY!==void 0&&(o.flipY=f.flipY),f.format!==void 0&&(o.format=f.format),f.type!==void 0&&(o.type=f.type),f.mipmaps!==void 0&&(o.mipmaps=f.mipmaps,o.minFilter=Vr),f.mipmapCount===1&&(o.minFilter=Gt),f.generateMipmaps!==void 0&&(o.generateMipmaps=f.generateMipmaps),o.needsUpdate=!0,t&&t(o,f))},i,r),o}}class nM extends Ci{constructor(e){super(e)}load(e,t,i,r){const s=new Yt,o=new Jf(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class ta extends Pt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Oe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class iM extends ta{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Pt.DefaultUp),this.updateMatrix(),this.groundColor=new Oe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Pg=new at,V9=new k,W9=new k;class M8{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ve(512,512),this.map=null,this.mapPass=null,this.matrix=new at,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $m,this._frameExtents=new ve(1,1),this._viewportCount=1,this._viewports=[new kt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;V9.setFromMatrixPosition(e.matrixWorld),t.position.copy(V9),W9.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(W9),t.updateMatrixWorld(),Pg.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Pg),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Pg)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class EI extends M8{constructor(){super(new Sn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Uf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class S8 extends ta{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Pt.DefaultUp),this.updateMatrix(),this.target=new Pt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new EI}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const J9=new at,Nc=new k,Lg=new k;class TI extends M8{constructor(){super(new Sn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ve(4,2),this._viewportCount=6,this._viewports=[new kt(2,1,1,1),new kt(0,1,1,1),new kt(3,1,1,1),new kt(1,1,1,1),new kt(3,0,1,1),new kt(1,0,1,1)],this._cubeDirections=[new k(1,0,0),new k(-1,0,0),new k(0,0,1),new k(0,0,-1),new k(0,1,0),new k(0,-1,0)],this._cubeUps=[new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,0,1),new k(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Nc.setFromMatrixPosition(e.matrixWorld),i.position.copy(Nc),Lg.copy(i.position),Lg.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Lg),i.updateMatrixWorld(),r.makeTranslation(-Nc.x,-Nc.y,-Nc.z),J9.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(J9)}}class w8 extends ta{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new TI}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class bI extends M8{constructor(){super(new Gu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class A8 extends ta{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Pt.DefaultUp),this.updateMatrix(),this.target=new Pt,this.shadow=new bI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class rM extends ta{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class sM extends ta{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class oM{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new k)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class l0 extends ta{constructor(e=new oM,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class u0 extends Ci{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Yi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=u0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Oe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Oe().setHex(o.value);break;case"v2":r.uniforms[s].value=new ve().fromArray(o.value);break;case"v3":r.uniforms[s].value=new k().fromArray(o.value);break;case"v4":r.uniforms[s].value=new kt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new gi().fromArray(o.value);break;case"m4":r.uniforms[s].value=new at().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ve().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ve().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:HC,SpriteMaterial:s8,RawShaderMaterial:VC,ShaderMaterial:yn,PointsMaterial:r0,MeshPhysicalMaterial:eo,MeshStandardMaterial:ju,MeshPhongMaterial:WC,MeshToonMaterial:JC,MeshNormalMaterial:g8,MeshLambertMaterial:XC,MeshDepthMaterial:t8,MeshDistanceMaterial:n8,MeshBasicMaterial:Ji,MeshMatcapMaterial:jC,LineDashedMaterial:KC,LineBasicMaterial:ui,Material:vn};return new t[e]}}class ls{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class aM extends ft{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class lM extends Ci{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Yi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(g,v){if(t[v]!==void 0)return t[v];const x=g.interleavedBuffers[v],_=s(g,x.buffer),C=$l(x.type,_),S=new ld(C,x.stride);return S.uuid=x.uuid,t[v]=S,S}function s(g,v){if(i[v]!==void 0)return i[v];const x=g.arrayBuffers[v],_=new Uint32Array(x).buffer;return i[v]=_,_}const o=e.isInstancedBufferGeometry?new aM:new ft,a=e.data.index;if(a!==void 0){const g=$l(a.type,a.array);o.setIndex(new Tt(g,1))}const l=e.data.attributes;for(const g in l){const v=l[g];let y;if(v.isInterleavedBufferAttribute){const x=r(e.data,v.data);y=new Xo(x,v.itemSize,v.offset,v.normalized)}else{const x=$l(v.type,v.array),_=v.isInstancedBufferAttribute?Eu:Tt;y=new _(x,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),o.setAttribute(g,y)}const f=e.data.morphAttributes;if(f)for(const g in f){const v=f[g],y=[];for(let x=0,_=v.length;x<_;x++){const C=v[x];let S;if(C.isInterleavedBufferAttribute){const w=r(e.data,C.data);S=new Xo(w,C.itemSize,C.offset,C.normalized)}else{const w=$l(C.type,C.array);S=new Tt(w,C.itemSize,C.normalized)}C.name!==void 0&&(S.name=C.name),y.push(S)}o.morphAttributes[g]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let g=0,v=p.length;g!==v;++g){const y=p[g];o.addGroup(y.start,y.count,y.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const g=new k;h.center!==void 0&&g.fromArray(h.center),o.boundingSphere=new $o(g,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class BI extends Ci{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?ls.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Yi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let f=null;try{f=JSON.parse(l)}catch(p){r!==void 0&&r(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const d=f.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?ls.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Yi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(f)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),f=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,d),t!==void 0){let p=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),f=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,f),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Ga().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new ud().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new lM;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in H9?a=H9[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new u0;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Bu.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const f=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return o(d)}else return l.data?{data:$l(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new C8(t);s=new Jf(l),s.setCrossOrigin(this.crossOrigin);for(let f=0,d=e.length;f<d;f++){const p=e[f],h=p.url;if(Array.isArray(h)){const g=[];for(let v=0,y=h.length;v<y;v++){const x=h[v],_=a(x);_!==null&&(_ instanceof HTMLImageElement?g.push(_):g.push(new fu(_.data,_.width,_.height)))}r[p.uuid]=new La(g)}else{const g=a(p.url);r[p.uuid]=new La(g)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:$l(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Jf(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],f=l.url;if(Array.isArray(f)){const d=[];for(let p=0,h=f.length;p<h;p++){const g=f[p],v=await s(g);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new fu(v.data,v.width,v.height)))}i[l.uuid]=new La(d)}else{const d=await s(l.url);i[l.uuid]=new La(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],f=l.data;let d;Array.isArray(f)?(d=new ad,f.length===6&&(d.needsUpdate=!0)):(f&&f.data?d=new fu:d=new Yt,f&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,RI)),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],X9),d.wrapT=i(a.wrap[1],X9)),a.format!==void 0&&(d.format=a.format),a.type!==void 0&&(d.type=a.type),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,j9)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,j9)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(h){return t[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const g=[];for(let v=0,y=h.length;v<y;v++){const x=h[v];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),g.push(i[x])}return g}return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),i[h]}}function f(h){return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),r[h]}let d,p;switch(e.type){case"Scene":o=new Au,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Oe(e.background):o.background=f(e.background)),e.environment!==void 0&&(o.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new n0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new t0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new Sn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Gu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new rM(e.color,e.intensity);break;case"DirectionalLight":o=new A8(e.color,e.intensity);break;case"PointLight":o=new w8(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new sM(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new S8(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new iM(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new l0().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),p=l(e.material),o=new o8(d,p),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),p=l(e.material),o=new Bn(d,p);break;case"InstancedMesh":d=a(e.geometry),p=l(e.material);const h=e.count,g=e.instanceMatrix,v=e.instanceColor;o=new PC(d,p,h),o.instanceMatrix=new Eu(new Float32Array(g.array),16),v!==void 0&&(o.instanceColor=new Eu(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new RC;break;case"Line":o=new Zs(a(e.geometry),l(e.material));break;case"LineLoop":o=new a8(a(e.geometry),l(e.material));break;case"LineSegments":o=new Wr(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new l8(a(e.geometry),l(e.material));break;case"Sprite":o=new BC(l(e.material));break;case"Group":o=new Us;break;case"Bone":o=new i0;break;default:o=new Pt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let g=0;g<h.length;g++)o.add(this.parseObject(h[g],t,i,r,s))}if(e.animations!==void 0){const h=e.animations;for(let g=0;g<h.length;g++){const v=h[g];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let g=0;g<h.length;g++){const v=h[g],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const RI={UVMapping:Zm,CubeReflectionMapping:Ks,CubeRefractionMapping:Vo,EquirectangularReflectionMapping:_u,EquirectangularRefractionMapping:Ff,CubeUVReflectionMapping:Nu},X9={RepeatWrapping:Wo,ClampToEdgeWrapping:Zn,MirroredRepeatWrapping:Cu},j9={NearestFilter:Wt,NearestMipmapNearestFilter:kf,NearestMipmapLinearFilter:cu,LinearFilter:Gt,LinearMipmapNearestFilter:Ym,LinearMipmapLinearFilter:Vr};class uM extends Ci{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Za.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Za.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let pp;class E8{static getContext(){return pp===void 0&&(pp=new(window.AudioContext||window.webkitAudioContext)),pp}static setContext(e){pp=e}}class PI extends Ci{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Yi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);E8.getContext().decodeAudioData(l,function(d){t(d)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class LI extends l0{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Oe().set(e),s=new Oe().set(t),o=new k(r.r,r.g,r.b),a=new k(s.r,s.g,s.b),l=Math.sqrt(Math.PI),f=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(f)}}class II extends l0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Oe().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const K9=new at,Z9=new at,ma=new at;class DI{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Sn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Sn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ma.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Oa*t.fov*.5)/t.zoom;let a,l;Z9.elements[12]=-r,K9.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,ma.elements[0]=2*t.near/(l-a),ma.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ma),a=-o*t.aspect-s,l=o*t.aspect-s,ma.elements[0]=2*t.near/(l-a),ma.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ma)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Z9),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(K9)}}class T8{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Y9(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Y9();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Y9(){return(typeof performance>"u"?Date:performance).now()}const ga=new k,Q9=new yi,FI=new k,va=new k;class kI extends Pt{constructor(){super(),this.type="AudioListener",this.context=E8.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new T8}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ga,Q9,FI),va.set(0,0,-1).applyQuaternion(Q9),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ga.x,r),t.positionY.linearRampToValueAtTime(ga.y,r),t.positionZ.linearRampToValueAtTime(ga.z,r),t.forwardX.linearRampToValueAtTime(va.x,r),t.forwardY.linearRampToValueAtTime(va.y,r),t.forwardZ.linearRampToValueAtTime(va.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(ga.x,ga.y,ga.z),t.setOrientation(va.x,va.y,va.z,i.x,i.y,i.z)}}class cM extends Pt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ya=new k,q9=new yi,NI=new k,xa=new k;class OI extends cM{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ya,q9,NI),xa.set(0,0,1).applyQuaternion(q9);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ya.x,i),t.positionY.linearRampToValueAtTime(ya.y,i),t.positionZ.linearRampToValueAtTime(ya.z,i),t.orientationX.linearRampToValueAtTime(xa.x,i),t.orientationY.linearRampToValueAtTime(xa.y,i),t.orientationZ.linearRampToValueAtTime(xa.z,i)}else t.setPosition(ya.x,ya.y,ya.z),t.setOrientation(xa.x,xa.y,xa.z)}}class UI{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class fM{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,f=t+t;l!==f;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){yi.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;yi.multiplyQuaternionsFlat(e,o,e,t,e,i),yi.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const b8="\\[\\]\\.:\\/",zI=new RegExp("["+b8+"]","g"),B8="[^"+b8+"]",GI="[^"+b8.replace("\\.","")+"]",HI=/((?:WC+[\/:])*)/.source.replace("WC",B8),VI=/(WCOD+)?/.source.replace("WCOD",GI),WI=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",B8),JI=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",B8),XI=new RegExp("^"+HI+VI+WI+JI+"$"),jI=["material","materials","bones","map"];class KI{constructor(e,t,i){const r=i||Bt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Bt{constructor(e,t,i){this.path=t,this.parsedPath=i||Bt.parseTrackName(t),this.node=Bt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Bt.Composite(e,t,i):new Bt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(zI,"")}static parseTrackName(e){const t=XI.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);jI.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Bt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===f){f=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const o=e[r];if(o===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Bt.Composite=KI;Bt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Bt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Bt.prototype.GetterByBindingType=[Bt.prototype._getValue_direct,Bt.prototype._getValue_array,Bt.prototype._getValue_arrayElement,Bt.prototype._getValue_toArray];Bt.prototype.SetterByBindingTypeAndVersioning=[[Bt.prototype._setValue_direct,Bt.prototype._setValue_direct_setNeedsUpdate,Bt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_array,Bt.prototype._setValue_array_setNeedsUpdate,Bt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_arrayElement,Bt.prototype._setValue_arrayElement_setNeedsUpdate,Bt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_fromArray,Bt.prototype._setValue_fromArray_setNeedsUpdate,Bt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class ZI{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ji(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,f=this.nCachedObjects_;for(let d=0,p=arguments.length;d!==p;++d){const h=arguments[d],g=h.uuid;let v=t[g];if(v===void 0){v=l++,t[g]=v,e.push(h);for(let y=0,x=o;y!==x;++y)s[y].push(new Bt(h,i[y],r[y]))}else if(v<f){a=e[v];const y=--f,x=e[y];t[x.uuid]=v,e[v]=x,t[g]=y,e[y]=h;for(let _=0,C=o;_!==C;++_){const S=s[_],w=S[y];let T=S[v];S[v]=w,T===void 0&&(T=new Bt(h,i[_],r[_])),S[y]=T}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],f=l.uuid,d=t[f];if(d!==void 0&&d>=s){const p=s++,h=e[p];t[h.uuid]=d,e[d]=h,t[f]=p,e[p]=l;for(let g=0,v=r;g!==v;++g){const y=i[g],x=y[p],_=y[d];y[d]=x,y[p]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const f=arguments[a],d=f.uuid,p=t[d];if(p!==void 0)if(delete t[d],p<s){const h=--s,g=e[h],v=--o,y=e[v];t[g.uuid]=p,e[p]=g,t[y.uuid]=h,e[h]=y,e.pop();for(let x=0,_=r;x!==_;++x){const C=i[x],S=C[h],w=C[v];C[p]=S,C[h]=w,C.pop()}}else{const h=--o,g=e[h];h>0&&(t[g.uuid]=p),e[p]=g,e.pop();for(let v=0,y=r;v!==y;++v){const x=i[v];x[p]=x[h],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,f=l.length,d=this.nCachedObjects_,p=new Array(f);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(p);for(let h=d,g=l.length;h!==g;++h){const v=l[h];p[h]=new Bt(v,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],f=e[a];t[f]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class YI{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ra,endingEnd:Ra};for(let f=0;f!==o;++f){const d=s[f].createInterpolant(null);a[f]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lC,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,f=a.sampleValues;return l[0]=s,l[1]=s+i,f[0]=e/o,f[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case jv:for(let d=0,p=l.length;d!==p;++d)l[d].evaluate(o),f[d].accumulateAdditive(a);break;case Qm:default:for(let d=0,p=l.length;d!==p;++d)l[d].evaluate(o),f[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===uC;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===aC){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const f=e<0;this._setEndings(f,!f,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Pa,r.endingEnd=Pa):(e?r.endingStart=this.zeroSlopeAtStart?Pa:Ra:r.endingStart=Nf,t?r.endingEnd=this.zeroSlopeAtEnd?Pa:Ra:r.endingEnd=Nf)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const QI=new Float32Array(1);class qI extends Sr{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,f=this._bindingsByRootAndName;let d=f[l];d===void 0&&(d={},f[l]=d);for(let p=0;p!==s;++p){const h=r[p],g=h.name;let v=d[g];if(v!==void 0)++v.referenceCount,o[p]=v;else{if(v=o[p],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,g));continue}const y=t&&t._propertyBindings[p].binding.parsedPath;v=new fM(Bt.create(i,g,y),h.ValueTypeName,h.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,g),o[p]=v}a[p].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,f=l[l.length-1],d=e._byClipCacheIndex;f._byClipCacheIndex=d,l[d]=f,l.pop(),e._byClipCacheIndex=null;const p=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete p[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],f=e._cacheIndex;l._cacheIndex=f,t[f]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new x8(new Float32Array(2),new Float32Array(2),1,QI),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Bu.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let f=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Qm),l!==void 0){const p=l.actionByRoot[s];if(p!==void 0&&p.blendMode===i)return p;f=l.knownActions[0],o===null&&(o=f._clip)}if(o===null)return null;const d=new YI(this,o,t,i);return this._bindAction(d,f),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Bu.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let f=0;f!==l;++f)a[f].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const f=o[a];this._deactivateAction(f);const d=f._cacheIndex,p=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,p._cacheIndex=d,t[d]=p,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Ie{constructor(e){this.value=e}clone(){return new Ie(this.value.clone===void 0?this.value:this.value.clone())}}let $I=0;class eD extends Sr{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:$I++}),this.name="",this.usage=Of,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class tD extends ld{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class nD{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class R8{constructor(e,t,i=0,r=1/0){this.ray=new od(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new za,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return I3(e,this,i,t),i.sort($9),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)I3(e[r],this,i,t);return i.sort($9),i}}function $9(n,e){return n.distance-e.distance}function I3(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)I3(r[s],e,t,!0)}}class iD{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Mn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class rD{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const ey=new ve;class sD{constructor(e=new ve(1/0,1/0),t=new ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ey.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ey.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ty=new k,mp=new k;class oD{constructor(e=new k,t=new k){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){ty.subVectors(e,this.start),mp.subVectors(this.end,this.start);const i=mp.dot(mp);let s=mp.dot(ty)/i;return t&&(s=Mn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const ny=new k;class aD extends Pt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ft,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const f=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Qe(r,3));const s=new ui({fog:!1,toneMapped:!1});this.cone=new Wr(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),ny.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ny),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const vo=new k,gp=new at,Ig=new at;class lD extends Wr{constructor(e){const t=dM(e),i=new ft,r=[],s=[],o=new Oe(0,0,1),a=new Oe(0,1,0);for(let f=0;f<t.length;f++){const d=t[f];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Qe(r,3)),i.setAttribute("color",new Qe(s,3));const l=new ui({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Ig.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(gp.multiplyMatrices(Ig,a.matrixWorld),vo.setFromMatrixPosition(gp),r.setXYZ(o,vo.x,vo.y,vo.z),gp.multiplyMatrices(Ig,a.parent.matrixWorld),vo.setFromMatrixPosition(gp),r.setXYZ(o+1,vo.x,vo.y,vo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function dM(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,dM(n.children[t]));return e}class uD extends Bn{constructor(e,t,i){const r=new Xu(t,4,2),s=new Ji({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const cD=new k,iy=new Oe,ry=new Oe;class fD extends Pt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Ju(t);r.rotateY(Math.PI*.5),this.material=new Ji({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Tt(o,3)),this.add(new Bn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");iy.copy(this.light.color),ry.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?iy:ry;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(cD.setFromMatrixPosition(this.light.matrixWorld).negate())}}class dD extends Wr{constructor(e=10,t=10,i=4473924,r=8947848){i=new Oe(i),r=new Oe(r);const s=t/2,o=e/t,a=e/2,l=[],f=[];for(let h=0,g=0,v=-a;h<=t;h++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=h===s?i:r;y.toArray(f,g),g+=3,y.toArray(f,g),g+=3,y.toArray(f,g),g+=3,y.toArray(f,g),g+=3}const d=new ft;d.setAttribute("position",new Qe(l,3)),d.setAttribute("color",new Qe(f,3));const p=new ui({vertexColors:!0,toneMapped:!1});super(d,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class hD extends Wr{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Oe(s),o=new Oe(o);const a=[],l=[];if(t>1)for(let p=0;p<t;p++){const h=p/t*(Math.PI*2),g=Math.sin(h)*e,v=Math.cos(h)*e;a.push(0,0,0),a.push(g,0,v);const y=p&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let p=0;p<i;p++){const h=p&1?s:o,g=e-e/i*p;for(let v=0;v<r;v++){let y=v/r*(Math.PI*2),x=Math.sin(y)*g,_=Math.cos(y)*g;a.push(x,0,_),l.push(h.r,h.g,h.b),y=(v+1)/r*(Math.PI*2),x=Math.sin(y)*g,_=Math.cos(y)*g,a.push(x,0,_),l.push(h.r,h.g,h.b)}}const f=new ft;f.setAttribute("position",new Qe(a,3)),f.setAttribute("color",new Qe(l,3));const d=new ui({vertexColors:!0,toneMapped:!1});super(f,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const sy=new k,vp=new k,oy=new k;class pD extends Pt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ft;r.setAttribute("position",new Qe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ui({fog:!1,toneMapped:!1});this.lightPlane=new Zs(r,s),this.add(this.lightPlane),r=new ft,r.setAttribute("position",new Qe([0,0,0,0,0,1],3)),this.targetLine=new Zs(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),sy.setFromMatrixPosition(this.light.matrixWorld),vp.setFromMatrixPosition(this.light.target.matrixWorld),oy.subVectors(vp,sy),this.lightPlane.lookAt(vp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(vp),this.targetLine.scale.z=oy.length()}}const yp=new k,mn=new Uu;class mD extends Wr{constructor(e){const t=new ft,i=new ui({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){l(v),l(y)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new Qe(r,3)),t.setAttribute("color",new Qe(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const f=new Oe(16755200),d=new Oe(16711680),p=new Oe(43775),h=new Oe(16777215),g=new Oe(3355443);this.setColors(f,d,p,h,g)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;mn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),_n("c",t,e,mn,0,0,-1),_n("t",t,e,mn,0,0,1),_n("n1",t,e,mn,-i,-r,-1),_n("n2",t,e,mn,i,-r,-1),_n("n3",t,e,mn,-i,r,-1),_n("n4",t,e,mn,i,r,-1),_n("f1",t,e,mn,-i,-r,1),_n("f2",t,e,mn,i,-r,1),_n("f3",t,e,mn,-i,r,1),_n("f4",t,e,mn,i,r,1),_n("u1",t,e,mn,i*.7,r*1.1,-1),_n("u2",t,e,mn,-i*.7,r*1.1,-1),_n("u3",t,e,mn,0,r*2,-1),_n("cf1",t,e,mn,-i,0,1),_n("cf2",t,e,mn,i,0,1),_n("cf3",t,e,mn,0,-r,1),_n("cf4",t,e,mn,0,r,1),_n("cn1",t,e,mn,-i,0,-1),_n("cn2",t,e,mn,i,0,-1),_n("cn3",t,e,mn,0,-r,-1),_n("cn4",t,e,mn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function _n(n,e,t,i,r,s,o){yp.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let f=0,d=a.length;f<d;f++)l.setXYZ(a[f],yp.x,yp.y,yp.z)}}const xp=new qo;class gD extends Wr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ft;s.setIndex(new Tt(i,1)),s.setAttribute("position",new Tt(r,3)),super(s,new ui({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&xp.setFromObject(this.object),xp.isEmpty())return;const t=xp.min,i=xp.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class vD extends Wr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ft;s.setIndex(new Tt(i,1)),s.setAttribute("position",new Qe(r,3)),super(s,new ui({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class yD extends Zs{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ft;o.setAttribute("position",new Qe(s,3)),o.computeBoundingSphere(),super(o,new ui({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ft;l.setAttribute("position",new Qe(a,3)),l.computeBoundingSphere(),this.add(new Bn(l,new Ji({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const ay=new k;let _p,Dg;class xD extends Pt{constructor(e=new k(0,0,1),t=new k(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",_p===void 0&&(_p=new ft,_p.setAttribute("position",new Qe([0,0,0,0,1,0],3)),Dg=new qa(0,.5,1,5,1),Dg.translate(0,-.5,0)),this.position.copy(t),this.line=new Zs(_p,new ui({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Bn(Dg,new Ji({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ay.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(ay,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class _D extends Wr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ft;r.setAttribute("position",new Qe(t,3)),r.setAttribute("color",new Qe(i,3));const s=new ui({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Oe,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class CD{constructor(){this.type="ShapePath",this.color=new Oe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Gf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const C=[];for(let S=0,w=_.length;S<w;S++){const T=_[S],B=new Ga;B.curves=T.curves,C.push(B)}return C}function i(_,C){const S=C.length;let w=!1;for(let T=S-1,B=0;B<S;T=B++){let R=C[T],E=C[B],P=E.x-R.x,I=E.y-R.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(R=C[B],P=-P,E=C[T],I=-I),_.y<R.y||_.y>E.y)continue;if(_.y===R.y){if(_.x===R.x)return!0}else{const G=I*(_.x-R.x)-P*(_.y-R.y);if(G===0)return!0;if(G<0)continue;w=!w}}else{if(_.y!==R.y)continue;if(E.x<=_.x&&_.x<=R.x||R.x<=_.x&&_.x<=E.x)return!0}}return w}const r=as.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const f=[];if(s.length===1)return a=s[0],l=new Ga,l.curves=a.curves,f.push(l),f;let d=!r(s[0].getPoints());d=e?!d:d;const p=[],h=[];let g=[],v=0,y;h[v]=void 0,g[v]=[];for(let _=0,C=s.length;_<C;_++)a=s[_],y=a.getPoints(),o=r(y),o=e?!o:o,o?(!d&&h[v]&&v++,h[v]={s:new Ga,p:y},h[v].s.curves=a.curves,d&&v++,g[v]=[]):g[v].push({h:a,p:y[0]});if(!h[0])return t(s);if(h.length>1){let _=!1,C=0;for(let S=0,w=h.length;S<w;S++)p[S]=[];for(let S=0,w=h.length;S<w;S++){const T=g[S];for(let B=0;B<T.length;B++){const R=T[B];let E=!0;for(let P=0;P<h.length;P++)i(R.p,h[P].p)&&(S!==P&&C++,E?(E=!1,p[P].push(R)):_=!0);E&&p[S].push(R)}}C>0&&_===!1&&(g=p)}let x;for(let _=0,C=h.length;_<C;_++){l=h[_].s,f.push(l),x=g[_];for(let S=0,w=x.length;S<w;S++)l.holes.push(x[S].h)}return f}}const Is=MD();function MD(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const f=l-127;f<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):f<-14?(i[l]=1024>>-f-14,i[l|256]=1024>>-f-14|32768,r[l]=-f-1,r[l|256]=-f-1):f<=15?(i[l]=f+15<<10,i[l|256]=f+15<<10|32768,r[l]=13,r[l|256]=13):f<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let f=l<<13,d=0;for(;!(f&8388608);)f<<=1,d-=8388608;f&=-8388609,d+=947912704,s[l]=f|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function SD(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Mn(n,-65504,65504),Is.floatView[0]=n;const e=Is.uint32View[0],t=e>>23&511;return Is.baseTable[t]+((e&8388607)>>Is.shiftTable[t])}function wD(n){const e=n>>10;return Is.uint32View[0]=Is.mantissaTable[Is.offsetTable[e]+(n&1023)]+Is.exponentTable[e],Is.floatView[0]}var $c=Object.freeze({__proto__:null,toHalfFloat:SD,fromHalfFloat:wD});function AD(){console.error("THREE.ImmediateRenderObject has been removed.")}class hM extends jt{constructor(e,t,i){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,i),this.samples=4}}class ED extends sd{constructor(e,t,i,r){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,i,r)}}class TD extends qm{constructor(e,t,i,r){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,i,r)}}class bD extends ea{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class BD extends cd{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class RD extends fd{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class PD extends dd{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class LD extends qa{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class ID extends hd{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class DD extends pd{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class FD extends Wu{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class kD extends Vu{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class ND extends Ju{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class OD extends zu{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class UD extends $s{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class zD extends md{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class GD extends gd{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class HD extends Xu{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class VD extends vd{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class WD extends yd{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class JD extends xd{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class XD extends _d{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Qo}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Qo);const wm=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Jv,AddEquation:wa,AddOperation:G_,AdditiveAnimationBlendMode:jv,AdditiveBlending:$2,AlphaFormat:Q_,AlwaysDepth:D_,AlwaysStencilFunc:hC,AmbientLight:rM,AmbientLightProbe:II,AnimationClip:Bu,AnimationLoader:wI,AnimationMixer:qI,AnimationObjectGroup:ZI,AnimationUtils:_I,ArcCurve:LC,ArrayCamera:EC,ArrowHelper:xD,Audio:cM,AudioAnalyser:UI,AudioContext:E8,AudioListener:kI,AudioLoader:PI,AxesHelper:_D,BackSide:Yn,BasicDepthPacking:fs,BasicShadowMap:__,Bone:i0,BooleanKeyframeTrack:$a,Box2:sD,Box3:qo,Box3Helper:vD,BoxBufferGeometry:bD,BoxGeometry:ea,BoxHelper:gD,BufferAttribute:Tt,BufferGeometry:ft,BufferGeometryLoader:lM,ByteType:X_,Cache:Za,Camera:Uu,CameraHelper:mD,CanvasTexture:WL,CapsuleBufferGeometry:BD,CapsuleGeometry:cd,CatmullRomCurve3:IC,CineonToneMapping:W_,CircleBufferGeometry:RD,CircleGeometry:fd,ClampToEdgeWrapping:Zn,Clock:T8,Color:Oe,ColorKeyframeTrack:_8,ColorManagement:oi,CompressedArrayTexture:VL,CompressedTexture:u8,CompressedTextureLoader:AI,ConeBufferGeometry:PD,ConeGeometry:dd,CubeCamera:xC,CubeReflectionMapping:Ks,CubeRefractionMapping:Vo,CubeTexture:ad,CubeTextureLoader:eM,CubeUVReflectionMapping:Nu,CubicBezierCurve:f8,CubicBezierCurve3:DC,CubicInterpolant:YC,CullFaceBack:q2,CullFaceFront:x_,CullFaceFrontBack:ZE,CullFaceNone:y_,Curve:Jr,CurvePath:kC,CustomBlending:C_,CustomToneMapping:J_,CylinderBufferGeometry:LD,CylinderGeometry:qa,Cylindrical:rD,Data3DTexture:qm,DataArrayTexture:sd,DataTexture:fu,DataTexture2DArray:ED,DataTexture3D:TD,DataTextureLoader:tM,DataUtils:$c,DecrementStencilOp:sT,DecrementWrapStencilOp:aT,DefaultLoadingManager:$C,DepthFormat:Uo,DepthStencilFormat:Jo,DepthTexture:i8,DirectionalLight:A8,DirectionalLightHelper:pD,DiscreteInterpolant:QC,DodecahedronBufferGeometry:ID,DodecahedronGeometry:hd,DoubleSide:rs,DstAlphaFactor:b_,DstColorFactor:R_,DynamicCopyUsage:MT,DynamicDrawUsage:gT,DynamicReadUsage:xT,EdgesGeometry:NC,EllipseCurve:s0,EqualDepth:k_,EqualStencilFunc:fT,EquirectangularReflectionMapping:_u,EquirectangularRefractionMapping:Ff,Euler:Ou,EventDispatcher:Sr,ExtrudeBufferGeometry:DD,ExtrudeGeometry:pd,FileLoader:Yi,Float16BufferAttribute:nb,Float32BufferAttribute:Qe,Float64BufferAttribute:ib,FloatType:Wi,Fog:n0,FogExp2:t0,FramebufferTexture:HL,FrontSide:us,Frustum:$m,GLBufferAttribute:nD,GLSL1:wT,GLSL3:A3,GreaterDepth:O_,GreaterEqualDepth:N_,GreaterEqualStencilFunc:mT,GreaterStencilFunc:hT,GridHelper:dD,Group:Us,HalfFloatType:xr,HemisphereLight:iM,HemisphereLightHelper:fD,HemisphereLightProbe:LI,IcosahedronBufferGeometry:FD,IcosahedronGeometry:Wu,ImageBitmapLoader:uM,ImageLoader:Jf,ImageUtils:Yv,ImmediateRenderObject:AD,IncrementStencilOp:rT,IncrementWrapStencilOp:oT,InstancedBufferAttribute:Eu,InstancedBufferGeometry:aM,InstancedInterleavedBuffer:tD,InstancedMesh:PC,Int16BufferAttribute:eb,Int32BufferAttribute:tb,Int8BufferAttribute:QT,IntType:K_,InterleavedBuffer:ld,InterleavedBufferAttribute:Xo,Interpolant:Ku,InterpolateDiscrete:Mu,InterpolateLinear:ja,InterpolateSmooth:Xp,InvertStencilOp:lT,KeepStencilOp:jp,KeyframeTrack:Xr,LOD:RC,LatheBufferGeometry:kD,LatheGeometry:Vu,Layers:za,LessDepth:F_,LessEqualDepth:Cm,LessEqualStencilFunc:dT,LessStencilFunc:cT,Light:ta,LightProbe:l0,Line:Zs,Line3:oD,LineBasicMaterial:ui,LineCurve:o0,LineCurve3:FC,LineDashedMaterial:KC,LineLoop:a8,LineSegments:Wr,LinearEncoding:Zi,LinearFilter:Gt,LinearInterpolant:x8,LinearMipMapLinearFilter:$E,LinearMipMapNearestFilter:qE,LinearMipmapLinearFilter:Vr,LinearMipmapNearestFilter:Ym,LinearSRGBColorSpace:Su,LinearToneMapping:H_,Loader:Ci,LoaderUtils:ls,LoadingManager:C8,LoopOnce:aC,LoopPingPong:uC,LoopRepeat:lC,LuminanceAlphaFormat:eC,LuminanceFormat:$_,MOUSE:jE,Material:vn,MaterialLoader:u0,MathUtils:Gr,Matrix3:gi,Matrix4:at,MaxEquation:i3,Mesh:Bn,MeshBasicMaterial:Ji,MeshDepthMaterial:t8,MeshDistanceMaterial:n8,MeshLambertMaterial:XC,MeshMatcapMaterial:jC,MeshNormalMaterial:g8,MeshPhongMaterial:WC,MeshPhysicalMaterial:eo,MeshStandardMaterial:ju,MeshToonMaterial:JC,MinEquation:n3,MirroredRepeatWrapping:Cu,MixOperation:z_,MultiplyBlending:t3,MultiplyOperation:rd,NearestFilter:Wt,NearestMipMapLinearFilter:QE,NearestMipMapNearestFilter:YE,NearestMipmapLinearFilter:cu,NearestMipmapNearestFilter:kf,NeverDepth:I_,NeverStencilFunc:uT,NoBlending:Rn,NoColorSpace:tT,NoToneMapping:zr,NormalAnimationBlendMode:Qm,NormalBlending:Na,NotEqualDepth:U_,NotEqualStencilFunc:pT,NumberKeyframeTrack:Tu,Object3D:Pt,ObjectLoader:BI,ObjectSpaceNormalMap:dC,OctahedronBufferGeometry:ND,OctahedronGeometry:Ju,OneFactor:A_,OneMinusDstAlphaFactor:B_,OneMinusDstColorFactor:P_,OneMinusSrcAlphaFactor:Wv,OneMinusSrcColorFactor:T_,OrthographicCamera:Gu,PCFShadowMap:Km,PCFSoftShadowMap:ff,PMREMGenerator:T3,Path:Gf,PerspectiveCamera:Sn,Plane:wo,PlaneBufferGeometry:OD,PlaneGeometry:zu,PlaneHelper:yD,PointLight:w8,PointLightHelper:uD,Points:l8,PointsMaterial:r0,PolarGridHelper:hD,PolyhedronBufferGeometry:UD,PolyhedronGeometry:$s,PositionalAudio:OI,PropertyBinding:Bt,PropertyMixer:fM,QuadraticBezierCurve:d8,QuadraticBezierCurve3:h8,Quaternion:yi,QuaternionKeyframeTrack:jo,QuaternionLinearInterpolant:qC,REVISION:Qo,RGBADepthPacking:fC,RGBAFormat:Hi,RGBAIntegerFormat:sC,RGBA_ASTC_10x10_Format:C3,RGBA_ASTC_10x5_Format:y3,RGBA_ASTC_10x6_Format:x3,RGBA_ASTC_10x8_Format:_3,RGBA_ASTC_12x10_Format:M3,RGBA_ASTC_12x12_Format:S3,RGBA_ASTC_4x4_Format:c3,RGBA_ASTC_5x4_Format:f3,RGBA_ASTC_5x5_Format:d3,RGBA_ASTC_6x5_Format:h3,RGBA_ASTC_6x6_Format:p3,RGBA_ASTC_8x5_Format:m3,RGBA_ASTC_8x6_Format:g3,RGBA_ASTC_8x8_Format:v3,RGBA_BPTC_Format:w3,RGBA_ETC2_EAC_Format:u3,RGBA_PVRTC_2BPPV1_Format:a3,RGBA_PVRTC_4BPPV1_Format:o3,RGBA_S3TC_DXT1_Format:Vp,RGBA_S3TC_DXT3_Format:Wp,RGBA_S3TC_DXT5_Format:Jp,RGBFormat:q_,RGB_ETC1_Format:oC,RGB_ETC2_Format:l3,RGB_PVRTC_2BPPV1_Format:s3,RGB_PVRTC_4BPPV1_Format:r3,RGB_S3TC_DXT1_Format:Hp,RGFormat:iC,RGIntegerFormat:rC,RawShaderMaterial:VC,Ray:od,Raycaster:R8,RectAreaLight:sM,RedFormat:tC,RedIntegerFormat:nC,ReinhardToneMapping:V_,RepeatWrapping:Wo,ReplaceStencilOp:iT,ReverseSubtractEquation:S_,RingBufferGeometry:zD,RingGeometry:md,SRGBColorSpace:Dr,Scene:Au,ShaderChunk:gt,ShaderLib:kr,ShaderMaterial:yn,ShadowMaterial:HC,Shape:Ga,ShapeBufferGeometry:GD,ShapeGeometry:gd,ShapePath:CD,ShapeUtils:as,ShortType:j_,Skeleton:ud,SkeletonHelper:lD,SkinnedMesh:o8,Source:La,Sphere:$o,SphereBufferGeometry:HD,SphereGeometry:Xu,Spherical:iD,SphericalHarmonics3:oM,SplineCurve:p8,SpotLight:S8,SpotLightHelper:aD,Sprite:BC,SpriteMaterial:s8,SrcAlphaFactor:Vv,SrcAlphaSaturateFactor:L_,SrcColorFactor:E_,StaticCopyUsage:CT,StaticDrawUsage:Of,StaticReadUsage:yT,StereoCamera:DI,StreamCopyUsage:ST,StreamDrawUsage:vT,StreamReadUsage:_T,StringKeyframeTrack:el,SubtractEquation:M_,SubtractiveBlending:e3,TOUCH:KE,TangentSpaceNormalMap:qs,TetrahedronBufferGeometry:VD,TetrahedronGeometry:vd,Texture:Yt,TextureLoader:nM,TorusBufferGeometry:WD,TorusGeometry:yd,TorusKnotBufferGeometry:JD,TorusKnotGeometry:xd,Triangle:vr,TriangleFanDrawMode:Kv,TriangleStripDrawMode:cC,TrianglesDrawMode:eT,TubeBufferGeometry:XD,TubeGeometry:_d,TwoPassDoubleSide:Qc,UVMapping:Zm,Uint16BufferAttribute:Qv,Uint32BufferAttribute:qv,Uint8BufferAttribute:qT,Uint8ClampedBufferAttribute:$T,Uniform:Ie,UniformsGroup:eD,UniformsLib:Ue,UniformsUtils:yC,UnsignedByteType:Wn,UnsignedInt248Type:Oo,UnsignedIntType:Ns,UnsignedShort4444Type:Z_,UnsignedShort5551Type:Y_,UnsignedShortType:Xv,VSMShadowMap:Ba,Vector2:ve,Vector3:k,Vector4:kt,VectorKeyframeTrack:bu,VideoTexture:GL,WebGL1Renderer:TC,WebGL3DRenderTarget:GT,WebGLArrayRenderTarget:zT,WebGLCubeRenderTarget:$v,WebGLMultipleRenderTargets:HT,WebGLMultisampleRenderTarget:hM,WebGLRenderTarget:jt,WebGLRenderer:r8,WebGLUtils:AC,WireframeGeometry:GC,WrapAroundEnding:Nf,ZeroCurvatureEnding:Ra,ZeroFactor:w_,ZeroSlopeEnding:Pa,ZeroStencilOp:nT,_SRGBAFormat:Mm,sRGBEncoding:qe},Symbol.toStringTag,{value:"Module"}));var Bo={},jD={get exports(){return Bo},set exports(n){Bo=n}},tl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */tl.ConcurrentRoot=1;tl.ContinuousEventPriority=4;tl.DefaultEventPriority=16;tl.DiscreteEventPriority=1;tl.IdleEventPriority=536870912;tl.LegacyRoot=0;(function(n){n.exports=tl})(jD);function KD(n){let e;const t=new Set,i=(f,d)=>{const p=typeof f=="function"?f(e):f;if(p!==e){const h=e;e=d?p:Object.assign({},e,p),t.forEach(g=>g(e,h))}},r=()=>e,s=(f,d=r,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=d(e);function g(){const v=d(e);if(!p(h,v)){const y=h;f(h=v,y)}}return t.add(g),()=>t.delete(g)},l={setState:i,getState:r,subscribe:(f,d,p)=>d||p?s(f,d,p):(t.add(f),()=>t.delete(f)),destroy:()=>t.clear()};return e=n(i,r,l),l}const ZD=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ly=ZD?Z.useEffect:Z.useLayoutEffect;function pM(n){const e=typeof n=="function"?KD(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=Z.useReducer(x=>x+1,0),o=e.getState(),a=Z.useRef(o),l=Z.useRef(i),f=Z.useRef(r),d=Z.useRef(!1),p=Z.useRef();p.current===void 0&&(p.current=i(o));let h,g=!1;(a.current!==o||l.current!==i||f.current!==r||d.current)&&(h=i(o),g=!r(p.current,h)),ly(()=>{g&&(p.current=h),a.current=o,l.current=i,f.current=r,d.current=!1});const v=Z.useRef(o);ly(()=>{const x=()=>{try{const C=e.getState(),S=l.current(C);f.current(p.current,S)||(a.current=C,p.current=S,s())}catch{d.current=!0,s()}},_=e.subscribe(x);return e.getState()!==v.current&&x(),_},[]);const y=g?h:p.current;return Z.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var D3={},YD={get exports(){return D3},set exports(n){D3=n}},Am={},QD={get exports(){return Am},set exports(n){Am=n}},Fg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function qD(){return uy||(uy=1,function(n){function e(L,V){var W=L.length;L.push(V);e:for(;0<W;){var X=W-1>>>1,H=L[X];if(0<r(H,V))L[X]=V,L[W]=H,W=X;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var V=L[0],W=L.pop();if(W!==V){L[0]=W;e:for(var X=0,H=L.length,q=H>>>1;X<q;){var ne=2*(X+1)-1,ge=L[ne],N=ne+1,Ee=L[N];if(0>r(ge,W))N<H&&0>r(Ee,ge)?(L[X]=Ee,L[N]=W,X=N):(L[X]=ge,L[ne]=W,X=ne);else if(N<H&&0>r(Ee,W))L[X]=Ee,L[N]=W,X=N;else break e}}return V}function r(L,V){var W=L.sortIndex-V.sortIndex;return W!==0?W:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],f=[],d=1,p=null,h=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var V=t(f);V!==null;){if(V.callback===null)i(f);else if(V.startTime<=L)i(f),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(f)}}function w(L){if(y=!1,S(L),!v)if(t(l)!==null)v=!0,le(T);else{var V=t(f);V!==null&&ce(w,V.startTime-L)}}function T(L,V){v=!1,y&&(y=!1,_(E),E=-1),g=!0;var W=h;try{for(S(V),p=t(l);p!==null&&(!(p.expirationTime>V)||L&&!G());){var X=p.callback;if(typeof X=="function"){p.callback=null,h=p.priorityLevel;var H=X(p.expirationTime<=V);V=n.unstable_now(),typeof H=="function"?p.callback=H:p===t(l)&&i(l),S(V)}else i(l);p=t(l)}if(p!==null)var q=!0;else{var ne=t(f);ne!==null&&ce(w,ne.startTime-V),q=!1}return q}finally{p=null,h=W,g=!1}}var B=!1,R=null,E=-1,P=5,I=-1;function G(){return!(n.unstable_now()-I<P)}function ie(){if(R!==null){var L=n.unstable_now();I=L;var V=!0;try{V=R(!0,L)}finally{V?K():(B=!1,R=null)}}else B=!1}var K;if(typeof C=="function")K=function(){C(ie)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,te=j.port2;j.port1.onmessage=ie,K=function(){te.postMessage(null)}}else K=function(){x(ie,0)};function le(L){R=L,B||(B=!0,K())}function ce(L,V){E=x(function(){L(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,le(T))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var W=h;h=V;try{return L()}finally{h=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=h;h=L;try{return V()}finally{h=W}},n.unstable_scheduleCallback=function(L,V,W){var X=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,L={id:d++,callback:V,priorityLevel:L,startTime:W,expirationTime:H,sortIndex:-1},W>X?(L.sortIndex=W,e(f,L),t(l)===null&&L===t(f)&&(y?(_(E),E=-1):y=!0,ce(w,W-X))):(L.sortIndex=H,e(l,L),v||g||(v=!0,le(T))),L},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(L){var V=h;return function(){var W=h;h=V;try{return L.apply(this,arguments)}finally{h=W}}}}(Fg)),Fg}var cy;function $D(){return cy||(cy=1,function(n){n.exports=qD()}(QD)),Am}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eF=function(e){var t={},i=Z,r=$D(),s=Object.assign;function o(u){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+u,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),T=Symbol.iterator;function B(u){return u===null||typeof u!="object"?null:(u=T&&u[T]||u["@@iterator"],typeof u=="function"?u:null)}function R(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case d:return"Fragment";case f:return"Portal";case h:return"Profiler";case p:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case v:return(u.displayName||"Context")+".Consumer";case g:return(u._context.displayName||"Context")+".Provider";case y:var c=u.render;return u=u.displayName,u||(u=c.displayName||c.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case C:return c=u.displayName||null,c!==null?c:R(u.type)||"Memo";case S:c=u._payload,u=u._init;try{return R(u(c))}catch{}}return null}function E(u){var c=u.type;switch(u.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=c.render,u=u.displayName||u.name||"",c.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(c);case 8:return c===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function P(u){var c=u,m=u;if(u.alternate)for(;c.return;)c=c.return;else{u=c;do c=u,c.flags&4098&&(m=c.return),u=c.return;while(u)}return c.tag===3?m:null}function I(u){if(P(u)!==u)throw Error(o(188))}function G(u){var c=u.alternate;if(!c){if(c=P(u),c===null)throw Error(o(188));return c!==u?null:u}for(var m=u,M=c;;){var A=m.return;if(A===null)break;var b=A.alternate;if(b===null){if(M=A.return,M!==null){m=M;continue}break}if(A.child===b.child){for(b=A.child;b;){if(b===m)return I(A),u;if(b===M)return I(A),c;b=b.sibling}throw Error(o(188))}if(m.return!==M.return)m=A,M=b;else{for(var U=!1,Q=A.child;Q;){if(Q===m){U=!0,m=A,M=b;break}if(Q===M){U=!0,M=A,m=b;break}Q=Q.sibling}if(!U){for(Q=b.child;Q;){if(Q===m){U=!0,m=b,M=A;break}if(Q===M){U=!0,M=b,m=A;break}Q=Q.sibling}if(!U)throw Error(o(189))}}if(m.alternate!==M)throw Error(o(190))}if(m.tag!==3)throw Error(o(188));return m.stateNode.current===m?u:c}function ie(u){return u=G(u),u!==null?K(u):null}function K(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var c=K(u);if(c!==null)return c;u=u.sibling}return null}function j(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var c=j(u);if(c!==null)return c}u=u.sibling}return null}var te=Array.isArray,le=e.getPublicInstance,ce=e.getRootHostContext,L=e.getChildHostContext,V=e.prepareForCommit,W=e.resetAfterCommit,X=e.createInstance,H=e.appendInitialChild,q=e.finalizeInitialChildren,ne=e.prepareUpdate,ge=e.shouldSetTextContent,N=e.createTextInstance,Ee=e.scheduleTimeout,he=e.cancelTimeout,ze=e.noTimeout,we=e.isPrimaryRenderer,ke=e.supportsMutation,se=e.supportsPersistence,de=e.supportsHydration,Te=e.getInstanceFromNode,be=e.preparePortalMount,Re=e.getCurrentEventPriority,Ne=e.detachDeletedInstance,Ve=e.supportsMicrotasks,Ye=e.scheduleMicrotask,tt=e.supportsTestSelectors,Ct=e.findFiberRoot,z=e.getBoundingRect,D=e.getTextContent,F=e.isHiddenSubtree,J=e.matchAccessibilityRole,$=e.setFocusIfFocusable,me=e.setupIntersectionObserver,_e=e.appendChild,Se=e.appendChildToContainer,re=e.commitTextUpdate,Le=e.commitMount,Be=e.commitUpdate,He=e.insertBefore,Fe=e.insertInContainerBefore,Ge=e.removeChild,st=e.removeChildFromContainer,yt=e.resetTextContent,Kt=e.hideInstance,Y=e.hideTextInstance,xe=e.unhideInstance,Ae=e.unhideTextInstance,Xe=e.clearContainer,We=e.cloneInstance,lt=e.createContainerChildSet,Ut=e.appendChildToContainerChildSet,sn=e.finalizeContainerChildren,Si=e.replaceContainerChildren,zt=e.cloneHiddenInstance,wi=e.cloneHiddenTextInstance,$t=e.canHydrateInstance,no=e.canHydrateTextInstance,rl=e.canHydrateSuspenseInstance,sl=e.isSuspenseInstancePending,qu=e.isSuspenseInstanceFallback,O=e.registerSuspenseInstanceRetry,ae=e.getNextHydratableSibling,Ce=e.getFirstHydratableChild,oe=e.getFirstHydratableChildWithinContainer,Me=e.getFirstHydratableChildWithinSuspenseInstance,nt=e.hydrateInstance,ot=e.hydrateTextInstance,ht=e.hydrateSuspenseInstance,xt=e.getNextHydratableInstanceAfterSuspenseInstance,Et=e.commitHydratedContainer,St=e.commitHydratedSuspenseInstance,wt=e.clearSuspenseBoundary,dn=e.clearSuspenseBoundaryFromContainer,ci=e.shouldDeleteUnhydratedTailInstances,wr=e.didNotMatchHydratedContainerTextInstance,ds=e.didNotMatchHydratedTextInstance,en;function pt(u){if(en===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);en=c&&c[1]||""}return`
`+en+u}var na=!1;function hn(u,c){if(!u||na)return"";na=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(De){var M=De}Reflect.construct(u,[],c)}else{try{c.call()}catch(De){M=De}u.call(c.prototype)}else{try{throw Error()}catch(De){M=De}u()}}catch(De){if(De&&M&&typeof De.stack=="string"){for(var A=De.stack.split(`
`),b=M.stack.split(`
`),U=A.length-1,Q=b.length-1;1<=U&&0<=Q&&A[U]!==b[Q];)Q--;for(;1<=U&&0<=Q;U--,Q--)if(A[U]!==b[Q]){if(U!==1||Q!==1)do if(U--,Q--,0>Q||A[U]!==b[Q]){var ye=`
`+A[U].replace(" at new "," at ");return u.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",u.displayName)),ye}while(1<=U&&0<=Q);break}}}finally{na=!1,Error.prepareStackTrace=m}return(u=u?u.displayName||u.name:"")?pt(u):""}var hs=Object.prototype.hasOwnProperty,ol=[],tr=-1;function nr(u){return{current:u}}function dt(u){0>tr||(u.current=ol[tr],ol[tr]=null,tr--)}function bt(u,c){tr++,ol[tr]=u.current,u.current=c}var ir={},Ot=nr(ir),Nn=nr(!1),ps=ir;function ms(u,c){var m=u.type.contextTypes;if(!m)return ir;var M=u.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===c)return M.__reactInternalMemoizedMaskedChildContext;var A={},b;for(b in m)A[b]=c[b];return M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=c,u.__reactInternalMemoizedMaskedChildContext=A),A}function Ai(u){return u=u.childContextTypes,u!=null}function Ad(){dt(Nn),dt(Ot)}function $8(u,c,m){if(Ot.current!==ir)throw Error(o(168));bt(Ot,c),bt(Nn,m)}function e4(u,c,m){var M=u.stateNode;if(c=c.childContextTypes,typeof M.getChildContext!="function")return m;M=M.getChildContext();for(var A in M)if(!(A in c))throw Error(o(108,E(u)||"Unknown",A));return s({},m,M)}function Ed(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||ir,ps=Ot.current,bt(Ot,u),bt(Nn,Nn.current),!0}function t4(u,c,m){var M=u.stateNode;if(!M)throw Error(o(169));m?(u=e4(u,c,ps),M.__reactInternalMemoizedMergedChildContext=u,dt(Nn),dt(Ot),bt(Ot,u)):dt(Nn),bt(Nn,m)}var Ar=Math.clz32?Math.clz32:bS,ES=Math.log,TS=Math.LN2;function bS(u){return u>>>=0,u===0?32:31-(ES(u)/TS|0)|0}var Td=64,bd=4194304;function $u(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Bd(u,c){var m=u.pendingLanes;if(m===0)return 0;var M=0,A=u.suspendedLanes,b=u.pingedLanes,U=m&268435455;if(U!==0){var Q=U&~A;Q!==0?M=$u(Q):(b&=U,b!==0&&(M=$u(b)))}else U=m&~A,U!==0?M=$u(U):b!==0&&(M=$u(b));if(M===0)return 0;if(c!==0&&c!==M&&!(c&A)&&(A=M&-M,b=c&-c,A>=b||A===16&&(b&4194240)!==0))return c;if(M&4&&(M|=m&16),c=u.entangledLanes,c!==0)for(u=u.entanglements,c&=M;0<c;)m=31-Ar(c),A=1<<m,M|=u[m],c&=~A;return M}function BS(u,c){switch(u){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RS(u,c){for(var m=u.suspendedLanes,M=u.pingedLanes,A=u.expirationTimes,b=u.pendingLanes;0<b;){var U=31-Ar(b),Q=1<<U,ye=A[U];ye===-1?(!(Q&m)||Q&M)&&(A[U]=BS(Q,c)):ye<=c&&(u.expiredLanes|=Q),b&=~Q}}function w0(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function A0(u){for(var c=[],m=0;31>m;m++)c.push(u);return c}function ec(u,c,m){u.pendingLanes|=c,c!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,c=31-Ar(c),u[c]=m}function PS(u,c){var m=u.pendingLanes&~c;u.pendingLanes=c,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=c,u.mutableReadLanes&=c,u.entangledLanes&=c,c=u.entanglements;var M=u.eventTimes;for(u=u.expirationTimes;0<m;){var A=31-Ar(m),b=1<<A;c[A]=0,M[A]=-1,u[A]=-1,m&=~b}}function E0(u,c){var m=u.entangledLanes|=c;for(u=u.entanglements;m;){var M=31-Ar(m),A=1<<M;A&c|u[M]&c&&(u[M]|=c),m&=~A}}var Lt=0;function n4(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var T0=r.unstable_scheduleCallback,i4=r.unstable_cancelCallback,LS=r.unstable_shouldYield,IS=r.unstable_requestPaint,On=r.unstable_now,b0=r.unstable_ImmediatePriority,DS=r.unstable_UserBlockingPriority,B0=r.unstable_NormalPriority,FS=r.unstable_IdlePriority,Rd=null,Kr=null;function kS(u){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(Rd,u,void 0,(u.current.flags&128)===128)}catch{}}function NS(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var Zr=typeof Object.is=="function"?Object.is:NS,gs=null,Pd=!1,R0=!1;function r4(u){gs===null?gs=[u]:gs.push(u)}function OS(u){Pd=!0,r4(u)}function Yr(){if(!R0&&gs!==null){R0=!0;var u=0,c=Lt;try{var m=gs;for(Lt=1;u<m.length;u++){var M=m[u];do M=M(!0);while(M!==null)}gs=null,Pd=!1}catch(A){throw gs!==null&&(gs=gs.slice(u+1)),T0(b0,Yr),A}finally{Lt=c,R0=!1}}return null}var US=a.ReactCurrentBatchConfig;function Ld(u,c){if(Zr(u,c))return!0;if(typeof u!="object"||u===null||typeof c!="object"||c===null)return!1;var m=Object.keys(u),M=Object.keys(c);if(m.length!==M.length)return!1;for(M=0;M<m.length;M++){var A=m[M];if(!hs.call(c,A)||!Zr(u[A],c[A]))return!1}return!0}function zS(u){switch(u.tag){case 5:return pt(u.type);case 16:return pt("Lazy");case 13:return pt("Suspense");case 19:return pt("SuspenseList");case 0:case 2:case 15:return u=hn(u.type,!1),u;case 11:return u=hn(u.type.render,!1),u;case 1:return u=hn(u.type,!0),u;default:return""}}function Er(u,c){if(u&&u.defaultProps){c=s({},c),u=u.defaultProps;for(var m in u)c[m]===void 0&&(c[m]=u[m]);return c}return c}var Id=nr(null),Dd=null,al=null,P0=null;function L0(){P0=al=Dd=null}function s4(u,c,m){we?(bt(Id,c._currentValue),c._currentValue=m):(bt(Id,c._currentValue2),c._currentValue2=m)}function I0(u){var c=Id.current;dt(Id),we?u._currentValue=c:u._currentValue2=c}function D0(u,c,m){for(;u!==null;){var M=u.alternate;if((u.childLanes&c)!==c?(u.childLanes|=c,M!==null&&(M.childLanes|=c)):M!==null&&(M.childLanes&c)!==c&&(M.childLanes|=c),u===m)break;u=u.return}}function ll(u,c){Dd=u,P0=al=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&c&&(Ni=!0),u.firstContext=null)}function rr(u){var c=we?u._currentValue:u._currentValue2;if(P0!==u)if(u={context:u,memoizedValue:c,next:null},al===null){if(Dd===null)throw Error(o(308));al=u,Dd.dependencies={lanes:0,firstContext:u}}else al=al.next=u;return c}var Qr=null,io=!1;function F0(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o4(u,c){u=u.updateQueue,c.updateQueue===u&&(c.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function vs(u,c){return{eventTime:u,lane:c,tag:0,payload:null,callback:null,next:null}}function ro(u,c){var m=u.updateQueue;m!==null&&(m=m.shared,wn!==null&&u.mode&1&&!(_t&2)?(u=m.interleaved,u===null?(c.next=c,Qr===null?Qr=[m]:Qr.push(m)):(c.next=u.next,u.next=c),m.interleaved=c):(u=m.pending,u===null?c.next=c:(c.next=u.next,u.next=c),m.pending=c))}function Fd(u,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194240)!==0)){var M=c.lanes;M&=u.pendingLanes,m|=M,c.lanes=m,E0(u,m)}}function a4(u,c){var m=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,m===M)){var A=null,b=null;if(m=m.firstBaseUpdate,m!==null){do{var U={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};b===null?A=b=U:b=b.next=U,m=m.next}while(m!==null);b===null?A=b=c:b=b.next=c}else A=b=c;m={baseState:M.baseState,firstBaseUpdate:A,lastBaseUpdate:b,shared:M.shared,effects:M.effects},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=c:u.next=c,m.lastBaseUpdate=c}function kd(u,c,m,M){var A=u.updateQueue;io=!1;var b=A.firstBaseUpdate,U=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var ye=Q,De=ye.next;ye.next=null,U===null?b=De:U.next=De,U=ye;var Ze=u.alternate;Ze!==null&&(Ze=Ze.updateQueue,Q=Ze.lastBaseUpdate,Q!==U&&(Q===null?Ze.firstBaseUpdate=De:Q.next=De,Ze.lastBaseUpdate=ye))}if(b!==null){var ut=A.baseState;U=0,Ze=De=ye=null,Q=b;do{var it=Q.lane,Jt=Q.eventTime;if((M&it)===it){Ze!==null&&(Ze=Ze.next={eventTime:Jt,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var et=u,ni=Q;switch(it=c,Jt=m,ni.tag){case 1:if(et=ni.payload,typeof et=="function"){ut=et.call(Jt,ut,it);break e}ut=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=ni.payload,it=typeof et=="function"?et.call(Jt,ut,it):et,it==null)break e;ut=s({},ut,it);break e;case 2:io=!0}}Q.callback!==null&&Q.lane!==0&&(u.flags|=64,it=A.effects,it===null?A.effects=[Q]:it.push(Q))}else Jt={eventTime:Jt,lane:it,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ze===null?(De=Ze=Jt,ye=ut):Ze=Ze.next=Jt,U|=it;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;it=Q,Q=it.next,it.next=null,A.lastBaseUpdate=it,A.shared.pending=null}}while(1);if(Ze===null&&(ye=ut),A.baseState=ye,A.firstBaseUpdate=De,A.lastBaseUpdate=Ze,c=A.shared.interleaved,c!==null){A=c;do U|=A.lane,A=A.next;while(A!==c)}else b===null&&(A.shared.lanes=0);vl|=U,u.lanes=U,u.memoizedState=ut}}function l4(u,c,m){if(u=c.effects,c.effects=null,u!==null)for(c=0;c<u.length;c++){var M=u[c],A=M.callback;if(A!==null){if(M.callback=null,M=m,typeof A!="function")throw Error(o(191,A));A.call(M)}}}var u4=new i.Component().refs;function k0(u,c,m,M){c=u.memoizedState,m=m(M,c),m=m==null?c:s({},c,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var Nd={isMounted:function(u){return(u=u._reactInternals)?P(u)===u:!1},enqueueSetState:function(u,c,m){u=u._reactInternals;var M=di(),A=ao(u),b=vs(M,A);b.payload=c,m!=null&&(b.callback=m),ro(u,b),c=ur(u,A,M),c!==null&&Fd(c,u,A)},enqueueReplaceState:function(u,c,m){u=u._reactInternals;var M=di(),A=ao(u),b=vs(M,A);b.tag=1,b.payload=c,m!=null&&(b.callback=m),ro(u,b),c=ur(u,A,M),c!==null&&Fd(c,u,A)},enqueueForceUpdate:function(u,c){u=u._reactInternals;var m=di(),M=ao(u),A=vs(m,M);A.tag=2,c!=null&&(A.callback=c),ro(u,A),c=ur(u,M,m),c!==null&&Fd(c,u,M)}};function c4(u,c,m,M,A,b,U){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,b,U):c.prototype&&c.prototype.isPureReactComponent?!Ld(m,M)||!Ld(A,b):!0}function f4(u,c,m){var M=!1,A=ir,b=c.contextType;return typeof b=="object"&&b!==null?b=rr(b):(A=Ai(c)?ps:Ot.current,M=c.contextTypes,b=(M=M!=null)?ms(u,A):ir),c=new c(m,b),u.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Nd,u.stateNode=c,c._reactInternals=u,M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=A,u.__reactInternalMemoizedMaskedChildContext=b),c}function d4(u,c,m,M){u=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,M),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,M),c.state!==u&&Nd.enqueueReplaceState(c,c.state,null)}function N0(u,c,m,M){var A=u.stateNode;A.props=m,A.state=u.memoizedState,A.refs=u4,F0(u);var b=c.contextType;typeof b=="object"&&b!==null?A.context=rr(b):(b=Ai(c)?ps:Ot.current,A.context=ms(u,b)),A.state=u.memoizedState,b=c.getDerivedStateFromProps,typeof b=="function"&&(k0(u,c,b,m),A.state=u.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(c=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),c!==A.state&&Nd.enqueueReplaceState(A,A.state,null),kd(u,m,A,M),A.state=u.memoizedState),typeof A.componentDidMount=="function"&&(u.flags|=4194308)}var ul=[],cl=0,Od=null,Ud=0,sr=[],or=0,ia=null,ys=1,xs="";function ra(u,c){ul[cl++]=Ud,ul[cl++]=Od,Od=u,Ud=c}function h4(u,c,m){sr[or++]=ys,sr[or++]=xs,sr[or++]=ia,ia=u;var M=ys;u=xs;var A=32-Ar(M)-1;M&=~(1<<A),m+=1;var b=32-Ar(c)+A;if(30<b){var U=A-A%5;b=(M&(1<<U)-1).toString(32),M>>=U,A-=U,ys=1<<32-Ar(c)+A|m<<A|M,xs=b+u}else ys=1<<b|m<<A|M,xs=u}function O0(u){u.return!==null&&(ra(u,1),h4(u,1,0))}function U0(u){for(;u===Od;)Od=ul[--cl],ul[cl]=null,Ud=ul[--cl],ul[cl]=null;for(;u===ia;)ia=sr[--or],sr[or]=null,xs=sr[--or],sr[or]=null,ys=sr[--or],sr[or]=null}var Fi=null,ki=null,tn=!1,tc=!1,Tr=null;function p4(u,c){var m=cr(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=u,c=u.deletions,c===null?(u.deletions=[m],u.flags|=16):c.push(m)}function m4(u,c){switch(u.tag){case 5:return c=$t(c,u.type,u.pendingProps),c!==null?(u.stateNode=c,Fi=u,ki=Ce(c),!0):!1;case 6:return c=no(c,u.pendingProps),c!==null?(u.stateNode=c,Fi=u,ki=null,!0):!1;case 13:if(c=rl(c),c!==null){var m=ia!==null?{id:ys,overflow:xs}:null;return u.memoizedState={dehydrated:c,treeContext:m,retryLane:1073741824},m=cr(18,null,null,0),m.stateNode=c,m.return=u,u.child=m,Fi=u,ki=null,!0}return!1;default:return!1}}function z0(u){return(u.mode&1)!==0&&(u.flags&128)===0}function G0(u){if(tn){var c=ki;if(c){var m=c;if(!m4(u,c)){if(z0(u))throw Error(o(418));c=ae(m);var M=Fi;c&&m4(u,c)?p4(M,m):(u.flags=u.flags&-4097|2,tn=!1,Fi=u)}}else{if(z0(u))throw Error(o(418));u.flags=u.flags&-4097|2,tn=!1,Fi=u}}}function g4(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Fi=u}function nc(u){if(!de||u!==Fi)return!1;if(!tn)return g4(u),tn=!0,!1;if(u.tag!==3&&(u.tag!==5||ci(u.type)&&!ge(u.type,u.memoizedProps))){var c=ki;if(c){if(z0(u)){for(u=ki;u;)u=ae(u);throw Error(o(418))}for(;c;)p4(u,c),c=ae(c)}}if(g4(u),u.tag===13){if(!de)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));ki=xt(u)}else ki=Fi?ae(u.stateNode):null;return!0}function fl(){de&&(ki=Fi=null,tc=tn=!1)}function H0(u){Tr===null?Tr=[u]:Tr.push(u)}function ic(u,c,m){if(u=m.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(o(309));var M=m.stateNode}if(!M)throw Error(o(147,u));var A=M,b=""+u;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===b?c.ref:(c=function(U){var Q=A.refs;Q===u4&&(Q=A.refs={}),U===null?delete Q[b]:Q[b]=U},c._stringRef=b,c)}if(typeof u!="string")throw Error(o(284));if(!m._owner)throw Error(o(290,u))}return u}function zd(u,c){throw u=Object.prototype.toString.call(c),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":u))}function v4(u){var c=u._init;return c(u._payload)}function y4(u){function c(ue,ee){if(u){var pe=ue.deletions;pe===null?(ue.deletions=[ee],ue.flags|=16):pe.push(ee)}}function m(ue,ee){if(!u)return null;for(;ee!==null;)c(ue,ee),ee=ee.sibling;return null}function M(ue,ee){for(ue=new Map;ee!==null;)ee.key!==null?ue.set(ee.key,ee):ue.set(ee.index,ee),ee=ee.sibling;return ue}function A(ue,ee){return ue=uo(ue,ee),ue.index=0,ue.sibling=null,ue}function b(ue,ee,pe){return ue.index=pe,u?(pe=ue.alternate,pe!==null?(pe=pe.index,pe<ee?(ue.flags|=2,ee):pe):(ue.flags|=2,ee)):(ue.flags|=1048576,ee)}function U(ue){return u&&ue.alternate===null&&(ue.flags|=2),ue}function Q(ue,ee,pe,je){return ee===null||ee.tag!==6?(ee=A1(pe,ue.mode,je),ee.return=ue,ee):(ee=A(ee,pe),ee.return=ue,ee)}function ye(ue,ee,pe,je){var $e=pe.type;return $e===d?Ze(ue,ee,pe.props.children,je,pe.key):ee!==null&&(ee.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===S&&v4($e)===ee.type)?(je=A(ee,pe.props),je.ref=ic(ue,ee,pe),je.return=ue,je):(je=vh(pe.type,pe.key,pe.props,null,ue.mode,je),je.ref=ic(ue,ee,pe),je.return=ue,je)}function De(ue,ee,pe,je){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==pe.containerInfo||ee.stateNode.implementation!==pe.implementation?(ee=E1(pe,ue.mode,je),ee.return=ue,ee):(ee=A(ee,pe.children||[]),ee.return=ue,ee)}function Ze(ue,ee,pe,je,$e){return ee===null||ee.tag!==7?(ee=fa(pe,ue.mode,je,$e),ee.return=ue,ee):(ee=A(ee,pe),ee.return=ue,ee)}function ut(ue,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=A1(""+ee,ue.mode,pe),ee.return=ue,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case l:return pe=vh(ee.type,ee.key,ee.props,null,ue.mode,pe),pe.ref=ic(ue,null,ee),pe.return=ue,pe;case f:return ee=E1(ee,ue.mode,pe),ee.return=ue,ee;case S:var je=ee._init;return ut(ue,je(ee._payload),pe)}if(te(ee)||B(ee))return ee=fa(ee,ue.mode,pe,null),ee.return=ue,ee;zd(ue,ee)}return null}function it(ue,ee,pe,je){var $e=ee!==null?ee.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return $e!==null?null:Q(ue,ee,""+pe,je);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:return pe.key===$e?ye(ue,ee,pe,je):null;case f:return pe.key===$e?De(ue,ee,pe,je):null;case S:return $e=pe._init,it(ue,ee,$e(pe._payload),je)}if(te(pe)||B(pe))return $e!==null?null:Ze(ue,ee,pe,je,null);zd(ue,pe)}return null}function Jt(ue,ee,pe,je,$e){if(typeof je=="string"&&je!==""||typeof je=="number")return ue=ue.get(pe)||null,Q(ee,ue,""+je,$e);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case l:return ue=ue.get(je.key===null?pe:je.key)||null,ye(ee,ue,je,$e);case f:return ue=ue.get(je.key===null?pe:je.key)||null,De(ee,ue,je,$e);case S:var mt=je._init;return Jt(ue,ee,pe,mt(je._payload),$e)}if(te(je)||B(je))return ue=ue.get(pe)||null,Ze(ee,ue,je,$e,null);zd(ee,je)}return null}function et(ue,ee,pe,je){for(var $e=null,mt=null,ct=ee,It=ee=0,zn=null;ct!==null&&It<pe.length;It++){ct.index>It?(zn=ct,ct=null):zn=ct.sibling;var Dt=it(ue,ct,pe[It],je);if(Dt===null){ct===null&&(ct=zn);break}u&&ct&&Dt.alternate===null&&c(ue,ct),ee=b(Dt,ee,It),mt===null?$e=Dt:mt.sibling=Dt,mt=Dt,ct=zn}if(It===pe.length)return m(ue,ct),tn&&ra(ue,It),$e;if(ct===null){for(;It<pe.length;It++)ct=ut(ue,pe[It],je),ct!==null&&(ee=b(ct,ee,It),mt===null?$e=ct:mt.sibling=ct,mt=ct);return tn&&ra(ue,It),$e}for(ct=M(ue,ct);It<pe.length;It++)zn=Jt(ct,ue,It,pe[It],je),zn!==null&&(u&&zn.alternate!==null&&ct.delete(zn.key===null?It:zn.key),ee=b(zn,ee,It),mt===null?$e=zn:mt.sibling=zn,mt=zn);return u&&ct.forEach(function(co){return c(ue,co)}),tn&&ra(ue,It),$e}function ni(ue,ee,pe,je){var $e=B(pe);if(typeof $e!="function")throw Error(o(150));if(pe=$e.call(pe),pe==null)throw Error(o(151));for(var mt=$e=null,ct=ee,It=ee=0,zn=null,Dt=pe.next();ct!==null&&!Dt.done;It++,Dt=pe.next()){ct.index>It?(zn=ct,ct=null):zn=ct.sibling;var co=it(ue,ct,Dt.value,je);if(co===null){ct===null&&(ct=zn);break}u&&ct&&co.alternate===null&&c(ue,ct),ee=b(co,ee,It),mt===null?$e=co:mt.sibling=co,mt=co,ct=zn}if(Dt.done)return m(ue,ct),tn&&ra(ue,It),$e;if(ct===null){for(;!Dt.done;It++,Dt=pe.next())Dt=ut(ue,Dt.value,je),Dt!==null&&(ee=b(Dt,ee,It),mt===null?$e=Dt:mt.sibling=Dt,mt=Dt);return tn&&ra(ue,It),$e}for(ct=M(ue,ct);!Dt.done;It++,Dt=pe.next())Dt=Jt(ct,ue,It,Dt.value,je),Dt!==null&&(u&&Dt.alternate!==null&&ct.delete(Dt.key===null?It:Dt.key),ee=b(Dt,ee,It),mt===null?$e=Dt:mt.sibling=Dt,mt=Dt);return u&&ct.forEach(function(gw){return c(ue,gw)}),tn&&ra(ue,It),$e}function fr(ue,ee,pe,je){if(typeof pe=="object"&&pe!==null&&pe.type===d&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:e:{for(var $e=pe.key,mt=ee;mt!==null;){if(mt.key===$e){if($e=pe.type,$e===d){if(mt.tag===7){m(ue,mt.sibling),ee=A(mt,pe.props.children),ee.return=ue,ue=ee;break e}}else if(mt.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===S&&v4($e)===mt.type){m(ue,mt.sibling),ee=A(mt,pe.props),ee.ref=ic(ue,mt,pe),ee.return=ue,ue=ee;break e}m(ue,mt);break}else c(ue,mt);mt=mt.sibling}pe.type===d?(ee=fa(pe.props.children,ue.mode,je,pe.key),ee.return=ue,ue=ee):(je=vh(pe.type,pe.key,pe.props,null,ue.mode,je),je.ref=ic(ue,ee,pe),je.return=ue,ue=je)}return U(ue);case f:e:{for(mt=pe.key;ee!==null;){if(ee.key===mt)if(ee.tag===4&&ee.stateNode.containerInfo===pe.containerInfo&&ee.stateNode.implementation===pe.implementation){m(ue,ee.sibling),ee=A(ee,pe.children||[]),ee.return=ue,ue=ee;break e}else{m(ue,ee);break}else c(ue,ee);ee=ee.sibling}ee=E1(pe,ue.mode,je),ee.return=ue,ue=ee}return U(ue);case S:return mt=pe._init,fr(ue,ee,mt(pe._payload),je)}if(te(pe))return et(ue,ee,pe,je);if(B(pe))return ni(ue,ee,pe,je);zd(ue,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ee!==null&&ee.tag===6?(m(ue,ee.sibling),ee=A(ee,pe),ee.return=ue,ue=ee):(m(ue,ee),ee=A1(pe,ue.mode,je),ee.return=ue,ue=ee),U(ue)):m(ue,ee)}return fr}var dl=y4(!0),x4=y4(!1),rc={},ar=nr(rc),sc=nr(rc),hl=nr(rc);function qr(u){if(u===rc)throw Error(o(174));return u}function V0(u,c){bt(hl,c),bt(sc,u),bt(ar,rc),u=ce(c),dt(ar),bt(ar,u)}function pl(){dt(ar),dt(sc),dt(hl)}function _4(u){var c=qr(hl.current),m=qr(ar.current);c=L(m,u.type,c),m!==c&&(bt(sc,u),bt(ar,c))}function W0(u){sc.current===u&&(dt(ar),dt(sc))}var on=nr(0);function Gd(u){for(var c=u;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||sl(m)||qu(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var J0=[];function X0(){for(var u=0;u<J0.length;u++){var c=J0[u];we?c._workInProgressVersionPrimary=null:c._workInProgressVersionSecondary=null}J0.length=0}var Hd=a.ReactCurrentDispatcher,lr=a.ReactCurrentBatchConfig,ml=0,pn=null,$n=null,Un=null,Vd=!1,oc=!1,ac=0,GS=0;function ei(){throw Error(o(321))}function j0(u,c){if(c===null)return!1;for(var m=0;m<c.length&&m<u.length;m++)if(!Zr(u[m],c[m]))return!1;return!0}function K0(u,c,m,M,A,b){if(ml=b,pn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Hd.current=u===null||u.memoizedState===null?JS:XS,u=m(M,A),oc){b=0;do{if(oc=!1,ac=0,25<=b)throw Error(o(301));b+=1,Un=$n=null,c.updateQueue=null,Hd.current=jS,u=m(M,A)}while(oc)}if(Hd.current=Kd,c=$n!==null&&$n.next!==null,ml=0,Un=$n=pn=null,Vd=!1,c)throw Error(o(300));return u}function Z0(){var u=ac!==0;return ac=0,u}function _s(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?pn.memoizedState=Un=u:Un=Un.next=u,Un}function $r(){if($n===null){var u=pn.alternate;u=u!==null?u.memoizedState:null}else u=$n.next;var c=Un===null?pn.memoizedState:Un.next;if(c!==null)Un=c,$n=u;else{if(u===null)throw Error(o(310));$n=u,u={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Un===null?pn.memoizedState=Un=u:Un=Un.next=u}return Un}function sa(u,c){return typeof c=="function"?c(u):c}function Wd(u){var c=$r(),m=c.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=u;var M=$n,A=M.baseQueue,b=m.pending;if(b!==null){if(A!==null){var U=A.next;A.next=b.next,b.next=U}M.baseQueue=A=b,m.pending=null}if(A!==null){b=A.next,M=M.baseState;var Q=U=null,ye=null,De=b;do{var Ze=De.lane;if((ml&Ze)===Ze)ye!==null&&(ye=ye.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),M=De.hasEagerState?De.eagerState:u(M,De.action);else{var ut={lane:Ze,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};ye===null?(Q=ye=ut,U=M):ye=ye.next=ut,pn.lanes|=Ze,vl|=Ze}De=De.next}while(De!==null&&De!==b);ye===null?U=M:ye.next=Q,Zr(M,c.memoizedState)||(Ni=!0),c.memoizedState=M,c.baseState=U,c.baseQueue=ye,m.lastRenderedState=M}if(u=m.interleaved,u!==null){A=u;do b=A.lane,pn.lanes|=b,vl|=b,A=A.next;while(A!==u)}else A===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function Jd(u){var c=$r(),m=c.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=u;var M=m.dispatch,A=m.pending,b=c.memoizedState;if(A!==null){m.pending=null;var U=A=A.next;do b=u(b,U.action),U=U.next;while(U!==A);Zr(b,c.memoizedState)||(Ni=!0),c.memoizedState=b,c.baseQueue===null&&(c.baseState=b),m.lastRenderedState=b}return[b,M]}function C4(){}function M4(u,c){var m=pn,M=$r(),A=c(),b=!Zr(M.memoizedState,A);if(b&&(M.memoizedState=A,Ni=!0),M=M.queue,uc(A4.bind(null,m,M,u),[u]),M.getSnapshot!==c||b||Un!==null&&Un.memoizedState.tag&1){if(m.flags|=2048,lc(9,w4.bind(null,m,M,A,c),void 0,null),wn===null)throw Error(o(349));ml&30||S4(m,c,A)}return A}function S4(u,c,m){u.flags|=16384,u={getSnapshot:c,value:m},c=pn.updateQueue,c===null?(c={lastEffect:null,stores:null},pn.updateQueue=c,c.stores=[u]):(m=c.stores,m===null?c.stores=[u]:m.push(u))}function w4(u,c,m,M){c.value=m,c.getSnapshot=M,E4(c)&&ur(u,1,-1)}function A4(u,c,m){return m(function(){E4(c)&&ur(u,1,-1)})}function E4(u){var c=u.getSnapshot;u=u.value;try{var m=c();return!Zr(u,m)}catch{return!0}}function Y0(u){var c=_s();return typeof u=="function"&&(u=u()),c.memoizedState=c.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:u},c.queue=u,u=u.dispatch=WS.bind(null,pn,u),[c.memoizedState,u]}function lc(u,c,m,M){return u={tag:u,create:c,destroy:m,deps:M,next:null},c=pn.updateQueue,c===null?(c={lastEffect:null,stores:null},pn.updateQueue=c,c.lastEffect=u.next=u):(m=c.lastEffect,m===null?c.lastEffect=u.next=u:(M=m.next,m.next=u,u.next=M,c.lastEffect=u)),u}function T4(){return $r().memoizedState}function Xd(u,c,m,M){var A=_s();pn.flags|=u,A.memoizedState=lc(1|c,m,void 0,M===void 0?null:M)}function jd(u,c,m,M){var A=$r();M=M===void 0?null:M;var b=void 0;if($n!==null){var U=$n.memoizedState;if(b=U.destroy,M!==null&&j0(M,U.deps)){A.memoizedState=lc(c,m,b,M);return}}pn.flags|=u,A.memoizedState=lc(1|c,m,b,M)}function Q0(u,c){return Xd(8390656,8,u,c)}function uc(u,c){return jd(2048,8,u,c)}function b4(u,c){return jd(4,2,u,c)}function B4(u,c){return jd(4,4,u,c)}function R4(u,c){if(typeof c=="function")return u=u(),c(u),function(){c(null)};if(c!=null)return u=u(),c.current=u,function(){c.current=null}}function P4(u,c,m){return m=m!=null?m.concat([u]):null,jd(4,4,R4.bind(null,c,u),m)}function q0(){}function L4(u,c){var m=$r();c=c===void 0?null:c;var M=m.memoizedState;return M!==null&&c!==null&&j0(c,M[1])?M[0]:(m.memoizedState=[u,c],u)}function I4(u,c){var m=$r();c=c===void 0?null:c;var M=m.memoizedState;return M!==null&&c!==null&&j0(c,M[1])?M[0]:(u=u(),m.memoizedState=[u,c],u)}function HS(u,c){var m=Lt;Lt=m!==0&&4>m?m:4,u(!0);var M=lr.transition;lr.transition={};try{u(!1),c()}finally{Lt=m,lr.transition=M}}function D4(){return $r().memoizedState}function VS(u,c,m){var M=ao(u);m={lane:M,action:m,hasEagerState:!1,eagerState:null,next:null},F4(u)?k4(c,m):(N4(u,c,m),m=di(),u=ur(u,M,m),u!==null&&O4(u,c,M))}function WS(u,c,m){var M=ao(u),A={lane:M,action:m,hasEagerState:!1,eagerState:null,next:null};if(F4(u))k4(c,A);else{N4(u,c,A);var b=u.alternate;if(u.lanes===0&&(b===null||b.lanes===0)&&(b=c.lastRenderedReducer,b!==null))try{var U=c.lastRenderedState,Q=b(U,m);if(A.hasEagerState=!0,A.eagerState=Q,Zr(Q,U))return}catch{}finally{}m=di(),u=ur(u,M,m),u!==null&&O4(u,c,M)}}function F4(u){var c=u.alternate;return u===pn||c!==null&&c===pn}function k4(u,c){oc=Vd=!0;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}function N4(u,c,m){wn!==null&&u.mode&1&&!(_t&2)?(u=c.interleaved,u===null?(m.next=m,Qr===null?Qr=[c]:Qr.push(c)):(m.next=u.next,u.next=m),c.interleaved=m):(u=c.pending,u===null?m.next=m:(m.next=u.next,u.next=m),c.pending=m)}function O4(u,c,m){if(m&4194240){var M=c.lanes;M&=u.pendingLanes,m|=M,c.lanes=m,E0(u,m)}}var Kd={readContext:rr,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},JS={readContext:rr,useCallback:function(u,c){return _s().memoizedState=[u,c===void 0?null:c],u},useContext:rr,useEffect:Q0,useImperativeHandle:function(u,c,m){return m=m!=null?m.concat([u]):null,Xd(4194308,4,R4.bind(null,c,u),m)},useLayoutEffect:function(u,c){return Xd(4194308,4,u,c)},useInsertionEffect:function(u,c){return Xd(4,2,u,c)},useMemo:function(u,c){var m=_s();return c=c===void 0?null:c,u=u(),m.memoizedState=[u,c],u},useReducer:function(u,c,m){var M=_s();return c=m!==void 0?m(c):c,M.memoizedState=M.baseState=c,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:c},M.queue=u,u=u.dispatch=VS.bind(null,pn,u),[M.memoizedState,u]},useRef:function(u){var c=_s();return u={current:u},c.memoizedState=u},useState:Y0,useDebugValue:q0,useDeferredValue:function(u){var c=Y0(u),m=c[0],M=c[1];return Q0(function(){var A=lr.transition;lr.transition={};try{M(u)}finally{lr.transition=A}},[u]),m},useTransition:function(){var u=Y0(!1),c=u[0];return u=HS.bind(null,u[1]),_s().memoizedState=u,[c,u]},useMutableSource:function(){},useSyncExternalStore:function(u,c,m){var M=pn,A=_s();if(tn){if(m===void 0)throw Error(o(407));m=m()}else{if(m=c(),wn===null)throw Error(o(349));ml&30||S4(M,c,m)}A.memoizedState=m;var b={value:m,getSnapshot:c};return A.queue=b,Q0(A4.bind(null,M,b,u),[u]),M.flags|=2048,lc(9,w4.bind(null,M,b,m,c),void 0,null),m},useId:function(){var u=_s(),c=wn.identifierPrefix;if(tn){var m=xs,M=ys;m=(M&~(1<<32-Ar(M)-1)).toString(32)+m,c=":"+c+"R"+m,m=ac++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=GS++,c=":"+c+"r"+m.toString(32)+":";return u.memoizedState=c},unstable_isNewReconciler:!1},XS={readContext:rr,useCallback:L4,useContext:rr,useEffect:uc,useImperativeHandle:P4,useInsertionEffect:b4,useLayoutEffect:B4,useMemo:I4,useReducer:Wd,useRef:T4,useState:function(){return Wd(sa)},useDebugValue:q0,useDeferredValue:function(u){var c=Wd(sa),m=c[0],M=c[1];return uc(function(){var A=lr.transition;lr.transition={};try{M(u)}finally{lr.transition=A}},[u]),m},useTransition:function(){var u=Wd(sa)[0],c=$r().memoizedState;return[u,c]},useMutableSource:C4,useSyncExternalStore:M4,useId:D4,unstable_isNewReconciler:!1},jS={readContext:rr,useCallback:L4,useContext:rr,useEffect:uc,useImperativeHandle:P4,useInsertionEffect:b4,useLayoutEffect:B4,useMemo:I4,useReducer:Jd,useRef:T4,useState:function(){return Jd(sa)},useDebugValue:q0,useDeferredValue:function(u){var c=Jd(sa),m=c[0],M=c[1];return uc(function(){var A=lr.transition;lr.transition={};try{M(u)}finally{lr.transition=A}},[u]),m},useTransition:function(){var u=Jd(sa)[0],c=$r().memoizedState;return[u,c]},useMutableSource:C4,useSyncExternalStore:M4,useId:D4,unstable_isNewReconciler:!1};function $0(u,c){try{var m="",M=c;do m+=zS(M),M=M.return;while(M);var A=m}catch(b){A=`
Error generating stack: `+b.message+`
`+b.stack}return{value:u,source:c,stack:A}}function e1(u,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var KS=typeof WeakMap=="function"?WeakMap:Map;function U4(u,c,m){m=vs(-1,m),m.tag=3,m.payload={element:null};var M=c.value;return m.callback=function(){ch||(ch=!0,y1=M),e1(u,c)},m}function z4(u,c,m){m=vs(-1,m),m.tag=3;var M=u.type.getDerivedStateFromError;if(typeof M=="function"){var A=c.value;m.payload=function(){return M(A)},m.callback=function(){e1(u,c)}}var b=u.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(m.callback=function(){e1(u,c),typeof M!="function"&&(so===null?so=new Set([this]):so.add(this));var U=c.stack;this.componentDidCatch(c.value,{componentStack:U!==null?U:""})}),m}function G4(u,c,m){var M=u.pingCache;if(M===null){M=u.pingCache=new KS;var A=new Set;M.set(c,A)}else A=M.get(c),A===void 0&&(A=new Set,M.set(c,A));A.has(m)||(A.add(m),u=lw.bind(null,u,c,m),c.then(u,u))}function H4(u){do{var c;if((c=u.tag===13)&&(c=u.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return u;u=u.return}while(u!==null);return null}function V4(u,c,m,M,A){return u.mode&1?(u.flags|=65536,u.lanes=A,u):(u===c?u.flags|=65536:(u.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(c=vs(-1,1),c.tag=2,ro(m,c))),m.lanes|=1),u)}function es(u){u.flags|=4}function W4(u,c){if(u!==null&&u.child===c.child)return!0;if(c.flags&16)return!1;for(u=c.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var cc,fc,Zd,Yd;if(ke)cc=function(u,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)H(u,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},fc=function(){},Zd=function(u,c,m,M,A){if(u=u.memoizedProps,u!==M){var b=c.stateNode,U=qr(ar.current);m=ne(b,m,u,M,A,U),(c.updateQueue=m)&&es(c)}},Yd=function(u,c,m,M){m!==M&&es(c)};else if(se){cc=function(u,c,m,M){for(var A=c.child;A!==null;){if(A.tag===5){var b=A.stateNode;m&&M&&(b=zt(b,A.type,A.memoizedProps,A)),H(u,b)}else if(A.tag===6)b=A.stateNode,m&&M&&(b=wi(b,A.memoizedProps,A)),H(u,b);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)b=A.child,b!==null&&(b.return=A),cc(u,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var J4=function(u,c,m,M){for(var A=c.child;A!==null;){if(A.tag===5){var b=A.stateNode;m&&M&&(b=zt(b,A.type,A.memoizedProps,A)),Ut(u,b)}else if(A.tag===6)b=A.stateNode,m&&M&&(b=wi(b,A.memoizedProps,A)),Ut(u,b);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)b=A.child,b!==null&&(b.return=A),J4(u,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};fc=function(u,c){var m=c.stateNode;if(!W4(u,c)){u=m.containerInfo;var M=lt(u);J4(M,c,!1,!1),m.pendingChildren=M,es(c),sn(u,M)}},Zd=function(u,c,m,M,A){var b=u.stateNode,U=u.memoizedProps;if((u=W4(u,c))&&U===M)c.stateNode=b;else{var Q=c.stateNode,ye=qr(ar.current),De=null;U!==M&&(De=ne(Q,m,U,M,A,ye)),u&&De===null?c.stateNode=b:(b=We(b,De,m,U,M,c,u,Q),q(b,m,M,A,ye)&&es(c),c.stateNode=b,u?es(c):cc(b,c,!1,!1))}},Yd=function(u,c,m,M){m!==M?(u=qr(hl.current),m=qr(ar.current),c.stateNode=N(M,u,m,c),es(c)):c.stateNode=u.stateNode}}else fc=function(){},Zd=function(){},Yd=function(){};function dc(u,c){if(!tn)switch(u.tailMode){case"hidden":c=u.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var M=null;m!==null;)m.alternate!==null&&(M=m),m=m.sibling;M===null?c||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function ti(u){var c=u.alternate!==null&&u.alternate.child===u.child,m=0,M=0;if(c)for(var A=u.child;A!==null;)m|=A.lanes|A.childLanes,M|=A.subtreeFlags&14680064,M|=A.flags&14680064,A.return=u,A=A.sibling;else for(A=u.child;A!==null;)m|=A.lanes|A.childLanes,M|=A.subtreeFlags,M|=A.flags,A.return=u,A=A.sibling;return u.subtreeFlags|=M,u.childLanes=m,c}function ZS(u,c,m){var M=c.pendingProps;switch(U0(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(c),null;case 1:return Ai(c.type)&&Ad(),ti(c),null;case 3:return M=c.stateNode,pl(),dt(Nn),dt(Ot),X0(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(u===null||u.child===null)&&(nc(c)?es(c):u===null||u.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,Tr!==null&&(C1(Tr),Tr=null))),fc(u,c),ti(c),null;case 5:W0(c),m=qr(hl.current);var A=c.type;if(u!==null&&c.stateNode!=null)Zd(u,c,A,M,m),u.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!M){if(c.stateNode===null)throw Error(o(166));return ti(c),null}if(u=qr(ar.current),nc(c)){if(!de)throw Error(o(175));u=nt(c.stateNode,c.type,c.memoizedProps,m,u,c,!tc),c.updateQueue=u,u!==null&&es(c)}else{var b=X(A,M,m,u,c);cc(b,c,!1,!1),c.stateNode=b,q(b,A,M,m,u)&&es(c)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return ti(c),null;case 6:if(u&&c.stateNode!=null)Yd(u,c,u.memoizedProps,M);else{if(typeof M!="string"&&c.stateNode===null)throw Error(o(166));if(u=qr(hl.current),m=qr(ar.current),nc(c)){if(!de)throw Error(o(176));if(u=c.stateNode,M=c.memoizedProps,(m=ot(u,M,c,!tc))&&(A=Fi,A!==null))switch(b=(A.mode&1)!==0,A.tag){case 3:wr(A.stateNode.containerInfo,u,M,b);break;case 5:ds(A.type,A.memoizedProps,A.stateNode,u,M,b)}m&&es(c)}else c.stateNode=N(M,u,m,c)}return ti(c),null;case 13:if(dt(on),M=c.memoizedState,tn&&ki!==null&&c.mode&1&&!(c.flags&128)){for(u=ki;u;)u=ae(u);return fl(),c.flags|=98560,c}if(M!==null&&M.dehydrated!==null){if(M=nc(c),u===null){if(!M)throw Error(o(318));if(!de)throw Error(o(344));if(u=c.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));ht(u,c)}else fl(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;return ti(c),null}return Tr!==null&&(C1(Tr),Tr=null),c.flags&128?(c.lanes=m,c):(M=M!==null,m=!1,u===null?nc(c):m=u.memoizedState!==null,M&&!m&&(c.child.flags|=8192,c.mode&1&&(u===null||on.current&1?Pn===0&&(Pn=3):S1())),c.updateQueue!==null&&(c.flags|=4),ti(c),null);case 4:return pl(),fc(u,c),u===null&&be(c.stateNode.containerInfo),ti(c),null;case 10:return I0(c.type._context),ti(c),null;case 17:return Ai(c.type)&&Ad(),ti(c),null;case 19:if(dt(on),A=c.memoizedState,A===null)return ti(c),null;if(M=(c.flags&128)!==0,b=A.rendering,b===null)if(M)dc(A,!1);else{if(Pn!==0||u!==null&&u.flags&128)for(u=c.child;u!==null;){if(b=Gd(u),b!==null){for(c.flags|=128,dc(A,!1),u=b.updateQueue,u!==null&&(c.updateQueue=u,c.flags|=4),c.subtreeFlags=0,u=m,M=c.child;M!==null;)m=M,A=u,m.flags&=14680066,b=m.alternate,b===null?(m.childLanes=0,m.lanes=A,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=b.childLanes,m.lanes=b.lanes,m.child=b.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=b.memoizedProps,m.memoizedState=b.memoizedState,m.updateQueue=b.updateQueue,m.type=b.type,A=b.dependencies,m.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),M=M.sibling;return bt(on,on.current&1|2),c.child}u=u.sibling}A.tail!==null&&On()>v1&&(c.flags|=128,M=!0,dc(A,!1),c.lanes=4194304)}else{if(!M)if(u=Gd(b),u!==null){if(c.flags|=128,M=!0,u=u.updateQueue,u!==null&&(c.updateQueue=u,c.flags|=4),dc(A,!0),A.tail===null&&A.tailMode==="hidden"&&!b.alternate&&!tn)return ti(c),null}else 2*On()-A.renderingStartTime>v1&&m!==1073741824&&(c.flags|=128,M=!0,dc(A,!1),c.lanes=4194304);A.isBackwards?(b.sibling=c.child,c.child=b):(u=A.last,u!==null?u.sibling=b:c.child=b,A.last=b)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=On(),c.sibling=null,u=on.current,bt(on,M?u&1|2:u&1),c):(ti(c),null);case 22:case 23:return M1(),M=c.memoizedState!==null,u!==null&&u.memoizedState!==null!==M&&(c.flags|=8192),M&&c.mode&1?Oi&1073741824&&(ti(c),ke&&c.subtreeFlags&6&&(c.flags|=8192)):ti(c),null;case 24:return null;case 25:return null}throw Error(o(156,c.tag))}var YS=a.ReactCurrentOwner,Ni=!1;function fi(u,c,m,M){c.child=u===null?x4(c,null,m,M):dl(c,u.child,m,M)}function X4(u,c,m,M,A){m=m.render;var b=c.ref;return ll(c,A),M=K0(u,c,m,M,b,A),m=Z0(),u!==null&&!Ni?(c.updateQueue=u.updateQueue,c.flags&=-2053,u.lanes&=~A,Cs(u,c,A)):(tn&&m&&O0(c),c.flags|=1,fi(u,c,M,A),c.child)}function j4(u,c,m,M,A){if(u===null){var b=m.type;return typeof b=="function"&&!w1(b)&&b.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(c.tag=15,c.type=b,K4(u,c,b,M,A)):(u=vh(m.type,null,M,c,c.mode,A),u.ref=c.ref,u.return=c,c.child=u)}if(b=u.child,!(u.lanes&A)){var U=b.memoizedProps;if(m=m.compare,m=m!==null?m:Ld,m(U,M)&&u.ref===c.ref)return Cs(u,c,A)}return c.flags|=1,u=uo(b,M),u.ref=c.ref,u.return=c,c.child=u}function K4(u,c,m,M,A){if(u!==null&&Ld(u.memoizedProps,M)&&u.ref===c.ref)if(Ni=!1,(u.lanes&A)!==0)u.flags&131072&&(Ni=!0);else return c.lanes=u.lanes,Cs(u,c,A);return t1(u,c,m,M,A)}function Z4(u,c,m){var M=c.pendingProps,A=M.children,b=u!==null?u.memoizedState:null;if(M.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null},bt(gl,Oi),Oi|=m;else if(m&1073741824)c.memoizedState={baseLanes:0,cachePool:null},M=b!==null?b.baseLanes:m,bt(gl,Oi),Oi|=M;else return u=b!==null?b.baseLanes|m:m,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:u,cachePool:null},c.updateQueue=null,bt(gl,Oi),Oi|=u,null;else b!==null?(M=b.baseLanes|m,c.memoizedState=null):M=m,bt(gl,Oi),Oi|=M;return fi(u,c,A,m),c.child}function Y4(u,c){var m=c.ref;(u===null&&m!==null||u!==null&&u.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function t1(u,c,m,M,A){var b=Ai(m)?ps:Ot.current;return b=ms(c,b),ll(c,A),m=K0(u,c,m,M,b,A),M=Z0(),u!==null&&!Ni?(c.updateQueue=u.updateQueue,c.flags&=-2053,u.lanes&=~A,Cs(u,c,A)):(tn&&M&&O0(c),c.flags|=1,fi(u,c,m,A),c.child)}function Q4(u,c,m,M,A){if(Ai(m)){var b=!0;Ed(c)}else b=!1;if(ll(c,A),c.stateNode===null)u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2),f4(c,m,M),N0(c,m,M,A),M=!0;else if(u===null){var U=c.stateNode,Q=c.memoizedProps;U.props=Q;var ye=U.context,De=m.contextType;typeof De=="object"&&De!==null?De=rr(De):(De=Ai(m)?ps:Ot.current,De=ms(c,De));var Ze=m.getDerivedStateFromProps,ut=typeof Ze=="function"||typeof U.getSnapshotBeforeUpdate=="function";ut||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==M||ye!==De)&&d4(c,U,M,De),io=!1;var it=c.memoizedState;U.state=it,kd(c,M,U,A),ye=c.memoizedState,Q!==M||it!==ye||Nn.current||io?(typeof Ze=="function"&&(k0(c,m,Ze,M),ye=c.memoizedState),(Q=io||c4(c,m,Q,M,it,ye,De))?(ut||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(c.flags|=4194308)):(typeof U.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=M,c.memoizedState=ye),U.props=M,U.state=ye,U.context=De,M=Q):(typeof U.componentDidMount=="function"&&(c.flags|=4194308),M=!1)}else{U=c.stateNode,o4(u,c),Q=c.memoizedProps,De=c.type===c.elementType?Q:Er(c.type,Q),U.props=De,ut=c.pendingProps,it=U.context,ye=m.contextType,typeof ye=="object"&&ye!==null?ye=rr(ye):(ye=Ai(m)?ps:Ot.current,ye=ms(c,ye));var Jt=m.getDerivedStateFromProps;(Ze=typeof Jt=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==ut||it!==ye)&&d4(c,U,M,ye),io=!1,it=c.memoizedState,U.state=it,kd(c,M,U,A);var et=c.memoizedState;Q!==ut||it!==et||Nn.current||io?(typeof Jt=="function"&&(k0(c,m,Jt,M),et=c.memoizedState),(De=io||c4(c,m,De,M,it,et,ye)||!1)?(Ze||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(M,et,ye),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(M,et,ye)),typeof U.componentDidUpdate=="function"&&(c.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof U.componentDidUpdate!="function"||Q===u.memoizedProps&&it===u.memoizedState||(c.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===u.memoizedProps&&it===u.memoizedState||(c.flags|=1024),c.memoizedProps=M,c.memoizedState=et),U.props=M,U.state=et,U.context=ye,M=De):(typeof U.componentDidUpdate!="function"||Q===u.memoizedProps&&it===u.memoizedState||(c.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===u.memoizedProps&&it===u.memoizedState||(c.flags|=1024),M=!1)}return n1(u,c,m,M,b,A)}function n1(u,c,m,M,A,b){Y4(u,c);var U=(c.flags&128)!==0;if(!M&&!U)return A&&t4(c,m,!1),Cs(u,c,b);M=c.stateNode,YS.current=c;var Q=U&&typeof m.getDerivedStateFromError!="function"?null:M.render();return c.flags|=1,u!==null&&U?(c.child=dl(c,u.child,null,b),c.child=dl(c,null,Q,b)):fi(u,c,Q,b),c.memoizedState=M.state,A&&t4(c,m,!0),c.child}function q4(u){var c=u.stateNode;c.pendingContext?$8(u,c.pendingContext,c.pendingContext!==c.context):c.context&&$8(u,c.context,!1),V0(u,c.containerInfo)}function $4(u,c,m,M,A){return fl(),H0(A),c.flags|=256,fi(u,c,m,M),c.child}var Qd={dehydrated:null,treeContext:null,retryLane:0};function qd(u){return{baseLanes:u,cachePool:null}}function e5(u,c,m){var M=c.pendingProps,A=on.current,b=!1,U=(c.flags&128)!==0,Q;if((Q=U)||(Q=u!==null&&u.memoizedState===null?!1:(A&2)!==0),Q?(b=!0,c.flags&=-129):(u===null||u.memoizedState!==null)&&(A|=1),bt(on,A&1),u===null)return G0(c),u=c.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(c.mode&1?qu(u)?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(A=M.children,u=M.fallback,b?(M=c.mode,b=c.child,A={mode:"hidden",children:A},!(M&1)&&b!==null?(b.childLanes=0,b.pendingProps=A):b=yh(A,M,0,null),u=fa(u,M,m,null),b.return=c,u.return=c,b.sibling=u,c.child=b,c.child.memoizedState=qd(m),c.memoizedState=Qd,u):i1(c,A));if(A=u.memoizedState,A!==null){if(Q=A.dehydrated,Q!==null){if(U)return c.flags&256?(c.flags&=-257,$d(u,c,m,Error(o(422)))):c.memoizedState!==null?(c.child=u.child,c.flags|=128,null):(b=M.fallback,A=c.mode,M=yh({mode:"visible",children:M.children},A,0,null),b=fa(b,A,m,null),b.flags|=2,M.return=c,b.return=c,M.sibling=b,c.child=M,c.mode&1&&dl(c,u.child,null,m),c.child.memoizedState=qd(m),c.memoizedState=Qd,b);if(!(c.mode&1))c=$d(u,c,m,null);else if(qu(Q))c=$d(u,c,m,Error(o(419)));else if(M=(m&u.childLanes)!==0,Ni||M){if(M=wn,M!==null){switch(m&-m){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}M=b&(M.suspendedLanes|m)?0:b,M!==0&&M!==A.retryLane&&(A.retryLane=M,ur(u,M,-1))}S1(),c=$d(u,c,m,Error(o(421)))}else sl(Q)?(c.flags|=128,c.child=u.child,c=uw.bind(null,u),O(Q,c),c=null):(m=A.treeContext,de&&(ki=Me(Q),Fi=c,tn=!0,Tr=null,tc=!1,m!==null&&(sr[or++]=ys,sr[or++]=xs,sr[or++]=ia,ys=m.id,xs=m.overflow,ia=c)),c=i1(c,c.pendingProps.children),c.flags|=4096);return c}return b?(M=n5(u,c,M.children,M.fallback,m),b=c.child,A=u.child.memoizedState,b.memoizedState=A===null?qd(m):{baseLanes:A.baseLanes|m,cachePool:null},b.childLanes=u.childLanes&~m,c.memoizedState=Qd,M):(m=t5(u,c,M.children,m),c.memoizedState=null,m)}return b?(M=n5(u,c,M.children,M.fallback,m),b=c.child,A=u.child.memoizedState,b.memoizedState=A===null?qd(m):{baseLanes:A.baseLanes|m,cachePool:null},b.childLanes=u.childLanes&~m,c.memoizedState=Qd,M):(m=t5(u,c,M.children,m),c.memoizedState=null,m)}function i1(u,c){return c=yh({mode:"visible",children:c},u.mode,0,null),c.return=u,u.child=c}function t5(u,c,m,M){var A=u.child;return u=A.sibling,m=uo(A,{mode:"visible",children:m}),!(c.mode&1)&&(m.lanes=M),m.return=c,m.sibling=null,u!==null&&(M=c.deletions,M===null?(c.deletions=[u],c.flags|=16):M.push(u)),c.child=m}function n5(u,c,m,M,A){var b=c.mode;u=u.child;var U=u.sibling,Q={mode:"hidden",children:m};return!(b&1)&&c.child!==u?(m=c.child,m.childLanes=0,m.pendingProps=Q,c.deletions=null):(m=uo(u,Q),m.subtreeFlags=u.subtreeFlags&14680064),U!==null?M=uo(U,M):(M=fa(M,b,A,null),M.flags|=2),M.return=c,m.return=c,m.sibling=M,c.child=m,M}function $d(u,c,m,M){return M!==null&&H0(M),dl(c,u.child,null,m),u=i1(c,c.pendingProps.children),u.flags|=2,c.memoizedState=null,u}function i5(u,c,m){u.lanes|=c;var M=u.alternate;M!==null&&(M.lanes|=c),D0(u.return,c,m)}function r1(u,c,m,M,A){var b=u.memoizedState;b===null?u.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:M,tail:m,tailMode:A}:(b.isBackwards=c,b.rendering=null,b.renderingStartTime=0,b.last=M,b.tail=m,b.tailMode=A)}function r5(u,c,m){var M=c.pendingProps,A=M.revealOrder,b=M.tail;if(fi(u,c,M.children,m),M=on.current,M&2)M=M&1|2,c.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=c.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&i5(u,m,c);else if(u.tag===19)i5(u,m,c);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}if(bt(on,M),!(c.mode&1))c.memoizedState=null;else switch(A){case"forwards":for(m=c.child,A=null;m!==null;)u=m.alternate,u!==null&&Gd(u)===null&&(A=m),m=m.sibling;m=A,m===null?(A=c.child,c.child=null):(A=m.sibling,m.sibling=null),r1(c,!1,A,m,b);break;case"backwards":for(m=null,A=c.child,c.child=null;A!==null;){if(u=A.alternate,u!==null&&Gd(u)===null){c.child=A;break}u=A.sibling,A.sibling=m,m=A,A=u}r1(c,!0,m,null,b);break;case"together":r1(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Cs(u,c,m){if(u!==null&&(c.dependencies=u.dependencies),vl|=c.lanes,!(m&c.childLanes))return null;if(u!==null&&c.child!==u.child)throw Error(o(153));if(c.child!==null){for(u=c.child,m=uo(u,u.pendingProps),c.child=m,m.return=c;u.sibling!==null;)u=u.sibling,m=m.sibling=uo(u,u.pendingProps),m.return=c;m.sibling=null}return c.child}function QS(u,c,m){switch(c.tag){case 3:q4(c),fl();break;case 5:_4(c);break;case 1:Ai(c.type)&&Ed(c);break;case 4:V0(c,c.stateNode.containerInfo);break;case 10:s4(c,c.type._context,c.memoizedProps.value);break;case 13:var M=c.memoizedState;if(M!==null)return M.dehydrated!==null?(bt(on,on.current&1),c.flags|=128,null):m&c.child.childLanes?e5(u,c,m):(bt(on,on.current&1),u=Cs(u,c,m),u!==null?u.sibling:null);bt(on,on.current&1);break;case 19:if(M=(m&c.childLanes)!==0,u.flags&128){if(M)return r5(u,c,m);c.flags|=128}var A=c.memoizedState;if(A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),bt(on,on.current),M)break;return null;case 22:case 23:return c.lanes=0,Z4(u,c,m)}return Cs(u,c,m)}function qS(u,c){switch(U0(c),c.tag){case 1:return Ai(c.type)&&Ad(),u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 3:return pl(),dt(Nn),dt(Ot),X0(),u=c.flags,u&65536&&!(u&128)?(c.flags=u&-65537|128,c):null;case 5:return W0(c),null;case 13:if(dt(on),u=c.memoizedState,u!==null&&u.dehydrated!==null){if(c.alternate===null)throw Error(o(340));fl()}return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 19:return dt(on),null;case 4:return pl(),null;case 10:return I0(c.type._context),null;case 22:case 23:return M1(),null;case 24:return null;default:return null}}var eh=!1,oa=!1,$S=typeof WeakSet=="function"?WeakSet:Set,Je=null;function th(u,c){var m=u.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(M){bi(u,c,M)}else m.current=null}function s1(u,c,m){try{m()}catch(M){bi(u,c,M)}}var s5=!1;function ew(u,c){for(V(u.containerInfo),Je=c;Je!==null;)if(u=Je,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,Je=c;else for(;Je!==null;){u=Je;try{var m=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var M=m.memoizedProps,A=m.memoizedState,b=u.stateNode,U=b.getSnapshotBeforeUpdate(u.elementType===u.type?M:Er(u.type,M),A);b.__reactInternalSnapshotBeforeUpdate=U}break;case 3:ke&&Xe(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Q){bi(u,u.return,Q)}if(c=u.sibling,c!==null){c.return=u.return,Je=c;break}Je=u.return}return m=s5,s5=!1,m}function aa(u,c,m){var M=c.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var A=M=M.next;do{if((A.tag&u)===u){var b=A.destroy;A.destroy=void 0,b!==void 0&&s1(c,m,b)}A=A.next}while(A!==M)}}function hc(u,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&u)===u){var M=m.create;m.destroy=M()}m=m.next}while(m!==c)}}function o1(u){var c=u.ref;if(c!==null){var m=u.stateNode;switch(u.tag){case 5:u=le(m);break;default:u=m}typeof c=="function"?c(u):c.current=u}}function o5(u,c,m){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(Rd,c)}catch{}switch(c.tag){case 0:case 11:case 14:case 15:if(u=c.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var M=u=u.next;do{var A=M,b=A.destroy;A=A.tag,b!==void 0&&(A&2||A&4)&&s1(c,m,b),M=M.next}while(M!==u)}break;case 1:if(th(c,m),u=c.stateNode,typeof u.componentWillUnmount=="function")try{u.props=c.memoizedProps,u.state=c.memoizedState,u.componentWillUnmount()}catch(U){bi(c,m,U)}break;case 5:th(c,m);break;case 4:ke?d5(u,c,m):se&&se&&(c=c.stateNode.containerInfo,m=lt(c),Si(c,m))}}function a5(u,c,m){for(var M=c;;)if(o5(u,M,m),M.child===null||ke&&M.tag===4){if(M===c)break;for(;M.sibling===null;){if(M.return===null||M.return===c)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function l5(u){var c=u.alternate;c!==null&&(u.alternate=null,l5(c)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(c=u.stateNode,c!==null&&Ne(c)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function u5(u){return u.tag===5||u.tag===3||u.tag===4}function c5(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||u5(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function f5(u){if(ke){e:{for(var c=u.return;c!==null;){if(u5(c))break e;c=c.return}throw Error(o(160))}var m=c;switch(m.tag){case 5:c=m.stateNode,m.flags&32&&(yt(c),m.flags&=-33),m=c5(u),l1(u,m,c);break;case 3:case 4:c=m.stateNode.containerInfo,m=c5(u),a1(u,m,c);break;default:throw Error(o(161))}}}function a1(u,c,m){var M=u.tag;if(M===5||M===6)u=u.stateNode,c?Fe(m,u,c):Se(m,u);else if(M!==4&&(u=u.child,u!==null))for(a1(u,c,m),u=u.sibling;u!==null;)a1(u,c,m),u=u.sibling}function l1(u,c,m){var M=u.tag;if(M===5||M===6)u=u.stateNode,c?He(m,u,c):_e(m,u);else if(M!==4&&(u=u.child,u!==null))for(l1(u,c,m),u=u.sibling;u!==null;)l1(u,c,m),u=u.sibling}function d5(u,c,m){for(var M=c,A=!1,b,U;;){if(!A){A=M.return;e:for(;;){if(A===null)throw Error(o(160));switch(b=A.stateNode,A.tag){case 5:U=!1;break e;case 3:b=b.containerInfo,U=!0;break e;case 4:b=b.containerInfo,U=!0;break e}A=A.return}A=!0}if(M.tag===5||M.tag===6)a5(u,M,m),U?st(b,M.stateNode):Ge(b,M.stateNode);else if(M.tag===18)U?dn(b,M.stateNode):wt(b,M.stateNode);else if(M.tag===4){if(M.child!==null){b=M.stateNode.containerInfo,U=!0,M.child.return=M,M=M.child;continue}}else if(o5(u,M,m),M.child!==null){M.child.return=M,M=M.child;continue}if(M===c)break;for(;M.sibling===null;){if(M.return===null||M.return===c)return;M=M.return,M.tag===4&&(A=!1)}M.sibling.return=M.return,M=M.sibling}}function u1(u,c){if(ke){switch(c.tag){case 0:case 11:case 14:case 15:aa(3,c,c.return),hc(3,c),aa(5,c,c.return);return;case 1:return;case 5:var m=c.stateNode;if(m!=null){var M=c.memoizedProps;u=u!==null?u.memoizedProps:M;var A=c.type,b=c.updateQueue;c.updateQueue=null,b!==null&&Be(m,b,A,u,M,c)}return;case 6:if(c.stateNode===null)throw Error(o(162));m=c.memoizedProps,re(c.stateNode,u!==null?u.memoizedProps:m,m);return;case 3:de&&u!==null&&u.memoizedState.isDehydrated&&Et(c.stateNode.containerInfo);return;case 12:return;case 13:nh(c);return;case 19:nh(c);return;case 17:return}throw Error(o(163))}switch(c.tag){case 0:case 11:case 14:case 15:aa(3,c,c.return),hc(3,c),aa(5,c,c.return);return;case 12:return;case 13:nh(c);return;case 19:nh(c);return;case 3:de&&u!==null&&u.memoizedState.isDehydrated&&Et(c.stateNode.containerInfo);break;case 22:case 23:return}e:if(se){switch(c.tag){case 1:case 5:case 6:break e;case 3:case 4:c=c.stateNode,Si(c.containerInfo,c.pendingChildren);break e}throw Error(o(163))}}function nh(u){var c=u.updateQueue;if(c!==null){u.updateQueue=null;var m=u.stateNode;m===null&&(m=u.stateNode=new $S),c.forEach(function(M){var A=cw.bind(null,u,M);m.has(M)||(m.add(M),M.then(A,A))})}}function tw(u,c){for(Je=c;Je!==null;){c=Je;var m=c.deletions;if(m!==null)for(var M=0;M<m.length;M++){var A=m[M];try{var b=u;ke?d5(b,A,c):a5(b,A,c);var U=A.alternate;U!==null&&(U.return=null),A.return=null}catch($e){bi(A,c,$e)}}if(m=c.child,c.subtreeFlags&12854&&m!==null)m.return=c,Je=m;else for(;Je!==null;){c=Je;try{var Q=c.flags;if(Q&32&&ke&&yt(c.stateNode),Q&512){var ye=c.alternate;if(ye!==null){var De=ye.ref;De!==null&&(typeof De=="function"?De(null):De.current=null)}}if(Q&8192)switch(c.tag){case 13:if(c.memoizedState!==null){var Ze=c.alternate;(Ze===null||Ze.memoizedState===null)&&(g1=On())}break;case 22:var ut=c.memoizedState!==null,it=c.alternate,Jt=it!==null&&it.memoizedState!==null;if(m=c,ke){e:if(M=m,A=ut,b=null,ke)for(var et=M;;){if(et.tag===5){if(b===null){b=et;var ni=et.stateNode;A?Kt(ni):xe(et.stateNode,et.memoizedProps)}}else if(et.tag===6){if(b===null){var fr=et.stateNode;A?Y(fr):Ae(fr,et.memoizedProps)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===M)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===M)break;for(;et.sibling===null;){if(et.return===null||et.return===M)break e;b===et&&(b=null),et=et.return}b===et&&(b=null),et.sibling.return=et.return,et=et.sibling}}if(ut&&!Jt&&m.mode&1){Je=m;for(var ue=m.child;ue!==null;){for(m=Je=ue;Je!==null;){M=Je;var ee=M.child;switch(M.tag){case 0:case 11:case 14:case 15:aa(4,M,M.return);break;case 1:th(M,M.return);var pe=M.stateNode;if(typeof pe.componentWillUnmount=="function"){var je=M.return;try{pe.props=M.memoizedProps,pe.state=M.memoizedState,pe.componentWillUnmount()}catch($e){bi(M,je,$e)}}break;case 5:th(M,M.return);break;case 22:if(M.memoizedState!==null){m5(m);continue}}ee!==null?(ee.return=M,Je=ee):m5(m)}ue=ue.sibling}}}switch(Q&4102){case 2:f5(c),c.flags&=-3;break;case 6:f5(c),c.flags&=-3,u1(c.alternate,c);break;case 4096:c.flags&=-4097;break;case 4100:c.flags&=-4097,u1(c.alternate,c);break;case 4:u1(c.alternate,c)}}catch($e){bi(c,c.return,$e)}if(m=c.sibling,m!==null){m.return=c.return,Je=m;break}Je=c.return}}}function nw(u,c,m){Je=u,h5(u)}function h5(u,c,m){for(var M=(u.mode&1)!==0;Je!==null;){var A=Je,b=A.child;if(A.tag===22&&M){var U=A.memoizedState!==null||eh;if(!U){var Q=A.alternate,ye=Q!==null&&Q.memoizedState!==null||oa;Q=eh;var De=oa;if(eh=U,(oa=ye)&&!De)for(Je=A;Je!==null;)U=Je,ye=U.child,U.tag===22&&U.memoizedState!==null?g5(A):ye!==null?(ye.return=U,Je=ye):g5(A);for(;b!==null;)Je=b,h5(b),b=b.sibling;Je=A,eh=Q,oa=De}p5(u)}else A.subtreeFlags&8772&&b!==null?(b.return=A,Je=b):p5(u)}}function p5(u){for(;Je!==null;){var c=Je;if(c.flags&8772){var m=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:oa||hc(5,c);break;case 1:var M=c.stateNode;if(c.flags&4&&!oa)if(m===null)M.componentDidMount();else{var A=c.elementType===c.type?m.memoizedProps:Er(c.type,m.memoizedProps);M.componentDidUpdate(A,m.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var b=c.updateQueue;b!==null&&l4(c,b,M);break;case 3:var U=c.updateQueue;if(U!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=le(c.child.stateNode);break;case 1:m=c.child.stateNode}l4(c,U,m)}break;case 5:var Q=c.stateNode;m===null&&c.flags&4&&Le(Q,c.type,c.memoizedProps,c);break;case 6:break;case 4:break;case 12:break;case 13:if(de&&c.memoizedState===null){var ye=c.alternate;if(ye!==null){var De=ye.memoizedState;if(De!==null){var Ze=De.dehydrated;Ze!==null&&St(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}oa||c.flags&512&&o1(c)}catch(ut){bi(c,c.return,ut)}}if(c===u){Je=null;break}if(m=c.sibling,m!==null){m.return=c.return,Je=m;break}Je=c.return}}function m5(u){for(;Je!==null;){var c=Je;if(c===u){Je=null;break}var m=c.sibling;if(m!==null){m.return=c.return,Je=m;break}Je=c.return}}function g5(u){for(;Je!==null;){var c=Je;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{hc(4,c)}catch(ye){bi(c,m,ye)}break;case 1:var M=c.stateNode;if(typeof M.componentDidMount=="function"){var A=c.return;try{M.componentDidMount()}catch(ye){bi(c,A,ye)}}var b=c.return;try{o1(c)}catch(ye){bi(c,b,ye)}break;case 5:var U=c.return;try{o1(c)}catch(ye){bi(c,U,ye)}}}catch(ye){bi(c,c.return,ye)}if(c===u){Je=null;break}var Q=c.sibling;if(Q!==null){Q.return=c.return,Je=Q;break}Je=c.return}}var ih=0,rh=1,sh=2,oh=3,ah=4;if(typeof Symbol=="function"&&Symbol.for){var pc=Symbol.for;ih=pc("selector.component"),rh=pc("selector.has_pseudo_class"),sh=pc("selector.role"),oh=pc("selector.test_id"),ah=pc("selector.text")}function c1(u){var c=Te(u);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(o(364));return c}if(u=Ct(u),u===null)throw Error(o(362));return u.stateNode.current}function f1(u,c){switch(c.$$typeof){case ih:if(u.type===c.value)return!0;break;case rh:e:{c=c.value,u=[u,0];for(var m=0;m<u.length;){var M=u[m++],A=u[m++],b=c[A];if(M.tag!==5||!F(M)){for(;b!=null&&f1(M,b);)A++,b=c[A];if(A===c.length){c=!0;break e}else for(M=M.child;M!==null;)u.push(M,A),M=M.sibling}}c=!1}return c;case sh:if(u.tag===5&&J(u.stateNode,c.value))return!0;break;case ah:if((u.tag===5||u.tag===6)&&(u=D(u),u!==null&&0<=u.indexOf(c.value)))return!0;break;case oh:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function d1(u){switch(u.$$typeof){case ih:return"<"+(R(u.value)||"Unknown")+">";case rh:return":has("+(d1(u)||"")+")";case sh:return'[role="'+u.value+'"]';case ah:return'"'+u.value+'"';case oh:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function v5(u,c){var m=[];u=[u,0];for(var M=0;M<u.length;){var A=u[M++],b=u[M++],U=c[b];if(A.tag!==5||!F(A)){for(;U!=null&&f1(A,U);)b++,U=c[b];if(b===c.length)m.push(A);else for(A=A.child;A!==null;)u.push(A,b),A=A.sibling}}return m}function h1(u,c){if(!tt)throw Error(o(363));u=c1(u),u=v5(u,c),c=[],u=Array.from(u);for(var m=0;m<u.length;){var M=u[m++];if(M.tag===5)F(M)||c.push(M.stateNode);else for(M=M.child;M!==null;)u.push(M),M=M.sibling}return c}var iw=Math.ceil,lh=a.ReactCurrentDispatcher,p1=a.ReactCurrentOwner,xn=a.ReactCurrentBatchConfig,_t=0,wn=null,An=null,Xn=0,Oi=0,gl=nr(0),Pn=0,mc=null,vl=0,uh=0,m1=0,gc=null,Ei=null,g1=0,v1=1/0;function yl(){v1=On()+500}var ch=!1,y1=null,so=null,fh=!1,oo=null,dh=0,vc=0,x1=null,hh=-1,ph=0;function di(){return _t&6?On():hh!==-1?hh:hh=On()}function ao(u){return u.mode&1?_t&2&&Xn!==0?Xn&-Xn:US.transition!==null?(ph===0&&(u=Td,Td<<=1,!(Td&4194240)&&(Td=64),ph=u),ph):(u=Lt,u!==0?u:Re()):1}function ur(u,c,m){if(50<vc)throw vc=0,x1=null,Error(o(185));var M=mh(u,c);return M===null?null:(ec(M,c,m),(!(_t&2)||M!==wn)&&(M===wn&&(!(_t&2)&&(uh|=c),Pn===4&&lo(M,Xn)),Ti(M,m),c===1&&_t===0&&!(u.mode&1)&&(yl(),Pd&&Yr())),M)}function mh(u,c){u.lanes|=c;var m=u.alternate;for(m!==null&&(m.lanes|=c),m=u,u=u.return;u!==null;)u.childLanes|=c,m=u.alternate,m!==null&&(m.childLanes|=c),m=u,u=u.return;return m.tag===3?m.stateNode:null}function Ti(u,c){var m=u.callbackNode;RS(u,c);var M=Bd(u,u===wn?Xn:0);if(M===0)m!==null&&i4(m),u.callbackNode=null,u.callbackPriority=0;else if(c=M&-M,u.callbackPriority!==c){if(m!=null&&i4(m),c===1)u.tag===0?OS(x5.bind(null,u)):r4(x5.bind(null,u)),Ve?Ye(function(){_t===0&&Yr()}):T0(b0,Yr),m=null;else{switch(n4(M)){case 1:m=b0;break;case 4:m=DS;break;case 16:m=B0;break;case 536870912:m=FS;break;default:m=B0}m=b5(m,y5.bind(null,u))}u.callbackPriority=c,u.callbackNode=m}}function y5(u,c){if(hh=-1,ph=0,_t&6)throw Error(o(327));var m=u.callbackNode;if(ca()&&u.callbackNode!==m)return null;var M=Bd(u,u===wn?Xn:0);if(M===0)return null;if(M&30||M&u.expiredLanes||c)c=gh(u,M);else{c=M;var A=_t;_t|=2;var b=M5();(wn!==u||Xn!==c)&&(yl(),la(u,c));do try{ow();break}catch(Q){C5(u,Q)}while(1);L0(),lh.current=b,_t=A,An!==null?c=0:(wn=null,Xn=0,c=Pn)}if(c!==0){if(c===2&&(A=w0(u),A!==0&&(M=A,c=_1(u,A))),c===1)throw m=mc,la(u,0),lo(u,M),Ti(u,On()),m;if(c===6)lo(u,M);else{if(A=u.current.alternate,!(M&30)&&!rw(A)&&(c=gh(u,M),c===2&&(b=w0(u),b!==0&&(M=b,c=_1(u,b))),c===1))throw m=mc,la(u,0),lo(u,M),Ti(u,On()),m;switch(u.finishedWork=A,u.finishedLanes=M,c){case 0:case 1:throw Error(o(345));case 2:ua(u,Ei);break;case 3:if(lo(u,M),(M&130023424)===M&&(c=g1+500-On(),10<c)){if(Bd(u,0)!==0)break;if(A=u.suspendedLanes,(A&M)!==M){di(),u.pingedLanes|=u.suspendedLanes&A;break}u.timeoutHandle=Ee(ua.bind(null,u,Ei),c);break}ua(u,Ei);break;case 4:if(lo(u,M),(M&4194240)===M)break;for(c=u.eventTimes,A=-1;0<M;){var U=31-Ar(M);b=1<<U,U=c[U],U>A&&(A=U),M&=~b}if(M=A,M=On()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*iw(M/1960))-M,10<M){u.timeoutHandle=Ee(ua.bind(null,u,Ei),M);break}ua(u,Ei);break;case 5:ua(u,Ei);break;default:throw Error(o(329))}}}return Ti(u,On()),u.callbackNode===m?y5.bind(null,u):null}function _1(u,c){var m=gc;return u.current.memoizedState.isDehydrated&&(la(u,c).flags|=256),u=gh(u,c),u!==2&&(c=Ei,Ei=m,c!==null&&C1(c)),u}function C1(u){Ei===null?Ei=u:Ei.push.apply(Ei,u)}function rw(u){for(var c=u;;){if(c.flags&16384){var m=c.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var M=0;M<m.length;M++){var A=m[M],b=A.getSnapshot;A=A.value;try{if(!Zr(b(),A))return!1}catch{return!1}}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function lo(u,c){for(c&=~m1,c&=~uh,u.suspendedLanes|=c,u.pingedLanes&=~c,u=u.expirationTimes;0<c;){var m=31-Ar(c),M=1<<m;u[m]=-1,c&=~M}}function x5(u){if(_t&6)throw Error(o(327));ca();var c=Bd(u,0);if(!(c&1))return Ti(u,On()),null;var m=gh(u,c);if(u.tag!==0&&m===2){var M=w0(u);M!==0&&(c=M,m=_1(u,M))}if(m===1)throw m=mc,la(u,0),lo(u,c),Ti(u,On()),m;if(m===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=c,ua(u,Ei),Ti(u,On()),null}function _5(u){oo!==null&&oo.tag===0&&!(_t&6)&&ca();var c=_t;_t|=1;var m=xn.transition,M=Lt;try{if(xn.transition=null,Lt=1,u)return u()}finally{Lt=M,xn.transition=m,_t=c,!(_t&6)&&Yr()}}function M1(){Oi=gl.current,dt(gl)}function la(u,c){u.finishedWork=null,u.finishedLanes=0;var m=u.timeoutHandle;if(m!==ze&&(u.timeoutHandle=ze,he(m)),An!==null)for(m=An.return;m!==null;){var M=m;switch(U0(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Ad();break;case 3:pl(),dt(Nn),dt(Ot),X0();break;case 5:W0(M);break;case 4:pl();break;case 13:dt(on);break;case 19:dt(on);break;case 10:I0(M.type._context);break;case 22:case 23:M1()}m=m.return}if(wn=u,An=u=uo(u.current,null),Xn=Oi=c,Pn=0,mc=null,m1=uh=vl=0,Ei=gc=null,Qr!==null){for(c=0;c<Qr.length;c++)if(m=Qr[c],M=m.interleaved,M!==null){m.interleaved=null;var A=M.next,b=m.pending;if(b!==null){var U=b.next;b.next=A,M.next=U}m.pending=M}Qr=null}return u}function C5(u,c){do{var m=An;try{if(L0(),Hd.current=Kd,Vd){for(var M=pn.memoizedState;M!==null;){var A=M.queue;A!==null&&(A.pending=null),M=M.next}Vd=!1}if(ml=0,Un=$n=pn=null,oc=!1,ac=0,p1.current=null,m===null||m.return===null){Pn=1,mc=c,An=null;break}e:{var b=u,U=m.return,Q=m,ye=c;if(c=Xn,Q.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var De=ye,Ze=Q,ut=Ze.tag;if(!(Ze.mode&1)&&(ut===0||ut===11||ut===15)){var it=Ze.alternate;it?(Ze.updateQueue=it.updateQueue,Ze.memoizedState=it.memoizedState,Ze.lanes=it.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var Jt=H4(U);if(Jt!==null){Jt.flags&=-257,V4(Jt,U,Q,b,c),Jt.mode&1&&G4(b,De,c),c=Jt,ye=De;var et=c.updateQueue;if(et===null){var ni=new Set;ni.add(ye),c.updateQueue=ni}else et.add(ye);break e}else{if(!(c&1)){G4(b,De,c),S1();break e}ye=Error(o(426))}}else if(tn&&Q.mode&1){var fr=H4(U);if(fr!==null){!(fr.flags&65536)&&(fr.flags|=256),V4(fr,U,Q,b,c),H0(ye);break e}}b=ye,Pn!==4&&(Pn=2),gc===null?gc=[b]:gc.push(b),ye=$0(ye,Q),Q=U;do{switch(Q.tag){case 3:Q.flags|=65536,c&=-c,Q.lanes|=c;var ue=U4(Q,ye,c);a4(Q,ue);break e;case 1:b=ye;var ee=Q.type,pe=Q.stateNode;if(!(Q.flags&128)&&(typeof ee.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(so===null||!so.has(pe)))){Q.flags|=65536,c&=-c,Q.lanes|=c;var je=z4(Q,b,c);a4(Q,je);break e}}Q=Q.return}while(Q!==null)}w5(m)}catch($e){c=$e,An===m&&m!==null&&(An=m=m.return);continue}break}while(1)}function M5(){var u=lh.current;return lh.current=Kd,u===null?Kd:u}function S1(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),wn===null||!(vl&268435455)&&!(uh&268435455)||lo(wn,Xn)}function gh(u,c){var m=_t;_t|=2;var M=M5();wn===u&&Xn===c||la(u,c);do try{sw();break}catch(A){C5(u,A)}while(1);if(L0(),_t=m,lh.current=M,An!==null)throw Error(o(261));return wn=null,Xn=0,Pn}function sw(){for(;An!==null;)S5(An)}function ow(){for(;An!==null&&!LS();)S5(An)}function S5(u){var c=T5(u.alternate,u,Oi);u.memoizedProps=u.pendingProps,c===null?w5(u):An=c,p1.current=null}function w5(u){var c=u;do{var m=c.alternate;if(u=c.return,c.flags&32768){if(m=qS(m,c),m!==null){m.flags&=32767,An=m;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Pn=6,An=null;return}}else if(m=ZS(m,c,Oi),m!==null){An=m;return}if(c=c.sibling,c!==null){An=c;return}An=c=u}while(c!==null);Pn===0&&(Pn=5)}function ua(u,c){var m=Lt,M=xn.transition;try{xn.transition=null,Lt=1,aw(u,c,m)}finally{xn.transition=M,Lt=m}return null}function aw(u,c,m){do ca();while(oo!==null);if(_t&6)throw Error(o(327));var M=u.finishedWork,A=u.finishedLanes;if(M===null)return null;if(u.finishedWork=null,u.finishedLanes=0,M===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var b=M.lanes|M.childLanes;if(PS(u,b),u===wn&&(An=wn=null,Xn=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||fh||(fh=!0,b5(B0,function(){return ca(),null})),b=(M.flags&15990)!==0,M.subtreeFlags&15990||b){b=xn.transition,xn.transition=null;var U=Lt;Lt=1;var Q=_t;_t|=4,p1.current=null,ew(u,M),tw(u,M),W(u.containerInfo),u.current=M,nw(M),IS(),_t=Q,Lt=U,xn.transition=b}else u.current=M;if(fh&&(fh=!1,oo=u,dh=A),b=u.pendingLanes,b===0&&(so=null),kS(M.stateNode),Ti(u,On()),c!==null)for(m=u.onRecoverableError,M=0;M<c.length;M++)m(c[M]);if(ch)throw ch=!1,u=y1,y1=null,u;return dh&1&&u.tag!==0&&ca(),b=u.pendingLanes,b&1?u===x1?vc++:(vc=0,x1=u):vc=0,Yr(),null}function ca(){if(oo!==null){var u=n4(dh),c=xn.transition,m=Lt;try{if(xn.transition=null,Lt=16>u?16:u,oo===null)var M=!1;else{if(u=oo,oo=null,dh=0,_t&6)throw Error(o(331));var A=_t;for(_t|=4,Je=u.current;Je!==null;){var b=Je,U=b.child;if(Je.flags&16){var Q=b.deletions;if(Q!==null){for(var ye=0;ye<Q.length;ye++){var De=Q[ye];for(Je=De;Je!==null;){var Ze=Je;switch(Ze.tag){case 0:case 11:case 15:aa(8,Ze,b)}var ut=Ze.child;if(ut!==null)ut.return=Ze,Je=ut;else for(;Je!==null;){Ze=Je;var it=Ze.sibling,Jt=Ze.return;if(l5(Ze),Ze===De){Je=null;break}if(it!==null){it.return=Jt,Je=it;break}Je=Jt}}}var et=b.alternate;if(et!==null){var ni=et.child;if(ni!==null){et.child=null;do{var fr=ni.sibling;ni.sibling=null,ni=fr}while(ni!==null)}}Je=b}}if(b.subtreeFlags&2064&&U!==null)U.return=b,Je=U;else e:for(;Je!==null;){if(b=Je,b.flags&2048)switch(b.tag){case 0:case 11:case 15:aa(9,b,b.return)}var ue=b.sibling;if(ue!==null){ue.return=b.return,Je=ue;break e}Je=b.return}}var ee=u.current;for(Je=ee;Je!==null;){U=Je;var pe=U.child;if(U.subtreeFlags&2064&&pe!==null)pe.return=U,Je=pe;else e:for(U=ee;Je!==null;){if(Q=Je,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:hc(9,Q)}}catch($e){bi(Q,Q.return,$e)}if(Q===U){Je=null;break e}var je=Q.sibling;if(je!==null){je.return=Q.return,Je=je;break e}Je=Q.return}}if(_t=A,Yr(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(Rd,u)}catch{}M=!0}return M}finally{Lt=m,xn.transition=c}}return!1}function A5(u,c,m){c=$0(m,c),c=U4(u,c,1),ro(u,c),c=di(),u=mh(u,1),u!==null&&(ec(u,1,c),Ti(u,c))}function bi(u,c,m){if(u.tag===3)A5(u,u,m);else for(;c!==null;){if(c.tag===3){A5(c,u,m);break}else if(c.tag===1){var M=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(so===null||!so.has(M))){u=$0(m,u),u=z4(c,u,1),ro(c,u),u=di(),c=mh(c,1),c!==null&&(ec(c,1,u),Ti(c,u));break}}c=c.return}}function lw(u,c,m){var M=u.pingCache;M!==null&&M.delete(c),c=di(),u.pingedLanes|=u.suspendedLanes&m,wn===u&&(Xn&m)===m&&(Pn===4||Pn===3&&(Xn&130023424)===Xn&&500>On()-g1?la(u,0):m1|=m),Ti(u,c)}function E5(u,c){c===0&&(u.mode&1?(c=bd,bd<<=1,!(bd&130023424)&&(bd=4194304)):c=1);var m=di();u=mh(u,c),u!==null&&(ec(u,c,m),Ti(u,m))}function uw(u){var c=u.memoizedState,m=0;c!==null&&(m=c.retryLane),E5(u,m)}function cw(u,c){var m=0;switch(u.tag){case 13:var M=u.stateNode,A=u.memoizedState;A!==null&&(m=A.retryLane);break;case 19:M=u.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(c),E5(u,m)}var T5;T5=function(u,c,m){if(u!==null)if(u.memoizedProps!==c.pendingProps||Nn.current)Ni=!0;else{if(!(u.lanes&m)&&!(c.flags&128))return Ni=!1,QS(u,c,m);Ni=!!(u.flags&131072)}else Ni=!1,tn&&c.flags&1048576&&h4(c,Ud,c.index);switch(c.lanes=0,c.tag){case 2:var M=c.type;u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2),u=c.pendingProps;var A=ms(c,Ot.current);ll(c,m),A=K0(null,c,M,u,A,m);var b=Z0();return c.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Ai(M)?(b=!0,Ed(c)):b=!1,c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,F0(c),A.updater=Nd,c.stateNode=A,A._reactInternals=c,N0(c,M,u,m),c=n1(null,c,M,!0,b,m)):(c.tag=0,tn&&b&&O0(c),fi(null,c,A,m),c=c.child),c;case 16:M=c.elementType;e:{switch(u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2),u=c.pendingProps,A=M._init,M=A(M._payload),c.type=M,A=c.tag=dw(M),u=Er(M,u),A){case 0:c=t1(null,c,M,u,m);break e;case 1:c=Q4(null,c,M,u,m);break e;case 11:c=X4(null,c,M,u,m);break e;case 14:c=j4(null,c,M,Er(M.type,u),m);break e}throw Error(o(306,M,""))}return c;case 0:return M=c.type,A=c.pendingProps,A=c.elementType===M?A:Er(M,A),t1(u,c,M,A,m);case 1:return M=c.type,A=c.pendingProps,A=c.elementType===M?A:Er(M,A),Q4(u,c,M,A,m);case 3:e:{if(q4(c),u===null)throw Error(o(387));M=c.pendingProps,b=c.memoizedState,A=b.element,o4(u,c),kd(c,M,null,m);var U=c.memoizedState;if(M=U.element,de&&b.isDehydrated)if(b={element:M,isDehydrated:!1,cache:U.cache,transitions:U.transitions},c.updateQueue.baseState=b,c.memoizedState=b,c.flags&256){A=Error(o(423)),c=$4(u,c,M,m,A);break e}else if(M!==A){A=Error(o(424)),c=$4(u,c,M,m,A);break e}else for(de&&(ki=oe(c.stateNode.containerInfo),Fi=c,tn=!0,Tr=null,tc=!1),m=x4(c,null,M,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(fl(),M===A){c=Cs(u,c,m);break e}fi(u,c,M,m)}c=c.child}return c;case 5:return _4(c),u===null&&G0(c),M=c.type,A=c.pendingProps,b=u!==null?u.memoizedProps:null,U=A.children,ge(M,A)?U=null:b!==null&&ge(M,b)&&(c.flags|=32),Y4(u,c),fi(u,c,U,m),c.child;case 6:return u===null&&G0(c),null;case 13:return e5(u,c,m);case 4:return V0(c,c.stateNode.containerInfo),M=c.pendingProps,u===null?c.child=dl(c,null,M,m):fi(u,c,M,m),c.child;case 11:return M=c.type,A=c.pendingProps,A=c.elementType===M?A:Er(M,A),X4(u,c,M,A,m);case 7:return fi(u,c,c.pendingProps,m),c.child;case 8:return fi(u,c,c.pendingProps.children,m),c.child;case 12:return fi(u,c,c.pendingProps.children,m),c.child;case 10:e:{if(M=c.type._context,A=c.pendingProps,b=c.memoizedProps,U=A.value,s4(c,M,U),b!==null)if(Zr(b.value,U)){if(b.children===A.children&&!Nn.current){c=Cs(u,c,m);break e}}else for(b=c.child,b!==null&&(b.return=c);b!==null;){var Q=b.dependencies;if(Q!==null){U=b.child;for(var ye=Q.firstContext;ye!==null;){if(ye.context===M){if(b.tag===1){ye=vs(-1,m&-m),ye.tag=2;var De=b.updateQueue;if(De!==null){De=De.shared;var Ze=De.pending;Ze===null?ye.next=ye:(ye.next=Ze.next,Ze.next=ye),De.pending=ye}}b.lanes|=m,ye=b.alternate,ye!==null&&(ye.lanes|=m),D0(b.return,m,c),Q.lanes|=m;break}ye=ye.next}}else if(b.tag===10)U=b.type===c.type?null:b.child;else if(b.tag===18){if(U=b.return,U===null)throw Error(o(341));U.lanes|=m,Q=U.alternate,Q!==null&&(Q.lanes|=m),D0(U,m,c),U=b.sibling}else U=b.child;if(U!==null)U.return=b;else for(U=b;U!==null;){if(U===c){U=null;break}if(b=U.sibling,b!==null){b.return=U.return,U=b;break}U=U.return}b=U}fi(u,c,A.children,m),c=c.child}return c;case 9:return A=c.type,M=c.pendingProps.children,ll(c,m),A=rr(A),M=M(A),c.flags|=1,fi(u,c,M,m),c.child;case 14:return M=c.type,A=Er(M,c.pendingProps),A=Er(M.type,A),j4(u,c,M,A,m);case 15:return K4(u,c,c.type,c.pendingProps,m);case 17:return M=c.type,A=c.pendingProps,A=c.elementType===M?A:Er(M,A),u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2),c.tag=1,Ai(M)?(u=!0,Ed(c)):u=!1,ll(c,m),f4(c,M,A),N0(c,M,A,m),n1(null,c,M,!0,u,m);case 19:return r5(u,c,m);case 22:return Z4(u,c,m)}throw Error(o(156,c.tag))};function b5(u,c){return T0(u,c)}function fw(u,c,m,M){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(u,c,m,M){return new fw(u,c,m,M)}function w1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function dw(u){if(typeof u=="function")return w1(u)?1:0;if(u!=null){if(u=u.$$typeof,u===y)return 11;if(u===C)return 14}return 2}function uo(u,c){var m=u.alternate;return m===null?(m=cr(u.tag,c,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=c,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&14680064,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,c=u.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m}function vh(u,c,m,M,A,b){var U=2;if(M=u,typeof u=="function")w1(u)&&(U=1);else if(typeof u=="string")U=5;else e:switch(u){case d:return fa(m.children,A,b,c);case p:U=8,A|=8;break;case h:return u=cr(12,m,c,A|2),u.elementType=h,u.lanes=b,u;case x:return u=cr(13,m,c,A),u.elementType=x,u.lanes=b,u;case _:return u=cr(19,m,c,A),u.elementType=_,u.lanes=b,u;case w:return yh(m,A,b,c);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case g:U=10;break e;case v:U=9;break e;case y:U=11;break e;case C:U=14;break e;case S:U=16,M=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return c=cr(U,m,c,A),c.elementType=u,c.type=M,c.lanes=b,c}function fa(u,c,m,M){return u=cr(7,u,M,c),u.lanes=m,u}function yh(u,c,m,M){return u=cr(22,u,M,c),u.elementType=w,u.lanes=m,u.stateNode={},u}function A1(u,c,m){return u=cr(6,u,null,c),u.lanes=m,u}function E1(u,c,m){return c=cr(4,u.children!==null?u.children:[],u.key,c),c.lanes=m,c.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},c}function hw(u,c,m,M,A){this.tag=c,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ze,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=A0(0),this.expirationTimes=A0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=A0(0),this.identifierPrefix=M,this.onRecoverableError=A,de&&(this.mutableSourceEagerHydrationData=null)}function B5(u,c,m,M,A,b,U,Q,ye){return u=new hw(u,c,m,Q,ye),c===1?(c=1,b===!0&&(c|=8)):c=0,b=cr(3,null,null,c),u.current=b,b.stateNode=u,b.memoizedState={element:M,isDehydrated:m,cache:null,transitions:null},F0(b),u}function R5(u){if(!u)return ir;u=u._reactInternals;e:{if(P(u)!==u||u.tag!==1)throw Error(o(170));var c=u;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Ai(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(o(171))}if(u.tag===1){var m=u.type;if(Ai(m))return e4(u,m,c)}return c}function P5(u){var c=u._reactInternals;if(c===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=ie(c),u===null?null:u.stateNode}function L5(u,c){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<c?m:c}}function T1(u,c){L5(u,c),(u=u.alternate)&&L5(u,c)}function pw(u){return u=ie(u),u===null?null:u.stateNode}function mw(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var c=di();ur(u,134217728,c),T1(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var c=di(),m=ao(u);ur(u,m,c),T1(u,m)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var c=u.stateNode;if(c.current.memoizedState.isDehydrated){var m=$u(c.pendingLanes);m!==0&&(E0(c,m|1),Ti(c,On()),!(_t&6)&&(yl(),Yr()))}break;case 13:var M=di();_5(function(){return ur(u,1,M)}),T1(u,1)}},t.batchedUpdates=function(u,c){var m=_t;_t|=1;try{return u(c)}finally{_t=m,_t===0&&(yl(),Pd&&Yr())}},t.createComponentSelector=function(u){return{$$typeof:ih,value:u}},t.createContainer=function(u,c,m,M,A,b,U){return B5(u,c,!1,null,m,M,A,b,U)},t.createHasPseudoClassSelector=function(u){return{$$typeof:rh,value:u}},t.createHydrationContainer=function(u,c,m,M,A,b,U,Q,ye){return u=B5(m,M,!0,u,A,b,U,Q,ye),u.context=R5(null),m=u.current,M=di(),A=ao(m),b=vs(M,A),b.callback=c??null,ro(m,b),u.current.lanes=A,ec(u,A,M),Ti(u,M),u},t.createPortal=function(u,c,m){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:M==null?null:""+M,children:u,containerInfo:c,implementation:m}},t.createRoleSelector=function(u){return{$$typeof:sh,value:u}},t.createTestNameSelector=function(u){return{$$typeof:oh,value:u}},t.createTextSelector=function(u){return{$$typeof:ah,value:u}},t.deferredUpdates=function(u){var c=Lt,m=xn.transition;try{return xn.transition=null,Lt=16,u()}finally{Lt=c,xn.transition=m}},t.discreteUpdates=function(u,c,m,M,A){var b=Lt,U=xn.transition;try{return xn.transition=null,Lt=1,u(c,m,M,A)}finally{Lt=b,xn.transition=U,_t===0&&yl()}},t.findAllNodes=h1,t.findBoundingRects=function(u,c){if(!tt)throw Error(o(363));c=h1(u,c),u=[];for(var m=0;m<c.length;m++)u.push(z(c[m]));for(c=u.length-1;0<c;c--){m=u[c];for(var M=m.x,A=M+m.width,b=m.y,U=b+m.height,Q=c-1;0<=Q;Q--)if(c!==Q){var ye=u[Q],De=ye.x,Ze=De+ye.width,ut=ye.y,it=ut+ye.height;if(M>=De&&b>=ut&&A<=Ze&&U<=it){u.splice(c,1);break}else if(M!==De||m.width!==ye.width||it<b||ut>U){if(!(b!==ut||m.height!==ye.height||Ze<M||De>A)){De>M&&(ye.width+=De-M,ye.x=M),Ze<A&&(ye.width=A-De),u.splice(c,1);break}}else{ut>b&&(ye.height+=ut-b,ye.y=b),it<U&&(ye.height=U-ut),u.splice(c,1);break}}}return u},t.findHostInstance=P5,t.findHostInstanceWithNoPortals=function(u){return u=G(u),u=u!==null?j(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return P5(u)},t.flushControlled=function(u){var c=_t;_t|=1;var m=xn.transition,M=Lt;try{xn.transition=null,Lt=1,u()}finally{Lt=M,xn.transition=m,_t=c,_t===0&&(yl(),Yr())}},t.flushPassiveEffects=ca,t.flushSync=_5,t.focusWithin=function(u,c){if(!tt)throw Error(o(363));for(u=c1(u),c=v5(u,c),c=Array.from(c),u=0;u<c.length;){var m=c[u++];if(!F(m)){if(m.tag===5&&$(m.stateNode))return!0;for(m=m.child;m!==null;)c.push(m),m=m.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Lt},t.getFindAllNodesFailureDescription=function(u,c){if(!tt)throw Error(o(363));var m=0,M=[];u=[c1(u),0];for(var A=0;A<u.length;){var b=u[A++],U=u[A++],Q=c[U];if((b.tag!==5||!F(b))&&(f1(b,Q)&&(M.push(d1(Q)),U++,U>m&&(m=U)),U<c.length))for(b=b.child;b!==null;)u.push(b,U),b=b.sibling}if(m<c.length){for(u=[];m<c.length;m++)u.push(d1(c[m]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return le(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:pw,findFiberByHostInstance:u.findFiberByHostInstance||mw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)u=!0;else{try{Rd=c.inject(u),Kr=c}catch{}u=!!c.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,c,m,M){if(!tt)throw Error(o(363));u=h1(u,c);var A=me(u,m,M).disconnect;return{disconnect:function(){A()}}},t.registerMutableSourceForHydration=function(u,c){var m=c._getVersion;m=m(c._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[c,m]:u.mutableSourceEagerHydrationData.push(c,m)},t.runWithPriority=function(u,c){var m=Lt;try{return Lt=u,c()}finally{Lt=m}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,c,m,M){var A=c.current,b=di(),U=ao(A);return m=R5(m),c.context===null?c.context=m:c.pendingContext=m,c=vs(b,U),c.payload={element:u},M=M===void 0?null:M,M!==null&&(c.callback=M),ro(A,c),u=ur(A,U,b),u!==null&&Fd(u,A,U),U},t};(function(n){n.exports=eF})(YD);const tF=u7(D3);var Em={},nF={get exports(){return Em},set exports(n){Em=n}},mM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,V){var W=L.length;L.push(V);e:for(;0<W;){var X=W-1>>>1,H=L[X];if(0<r(H,V))L[X]=V,L[W]=H,W=X;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var V=L[0],W=L.pop();if(W!==V){L[0]=W;e:for(var X=0,H=L.length,q=H>>>1;X<q;){var ne=2*(X+1)-1,ge=L[ne],N=ne+1,Ee=L[N];if(0>r(ge,W))N<H&&0>r(Ee,ge)?(L[X]=Ee,L[N]=W,X=N):(L[X]=ge,L[ne]=W,X=ne);else if(N<H&&0>r(Ee,W))L[X]=Ee,L[N]=W,X=N;else break e}}return V}function r(L,V){var W=L.sortIndex-V.sortIndex;return W!==0?W:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],f=[],d=1,p=null,h=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var V=t(f);V!==null;){if(V.callback===null)i(f);else if(V.startTime<=L)i(f),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(f)}}function w(L){if(y=!1,S(L),!v)if(t(l)!==null)v=!0,le(T);else{var V=t(f);V!==null&&ce(w,V.startTime-L)}}function T(L,V){v=!1,y&&(y=!1,_(E),E=-1),g=!0;var W=h;try{for(S(V),p=t(l);p!==null&&(!(p.expirationTime>V)||L&&!G());){var X=p.callback;if(typeof X=="function"){p.callback=null,h=p.priorityLevel;var H=X(p.expirationTime<=V);V=n.unstable_now(),typeof H=="function"?p.callback=H:p===t(l)&&i(l),S(V)}else i(l);p=t(l)}if(p!==null)var q=!0;else{var ne=t(f);ne!==null&&ce(w,ne.startTime-V),q=!1}return q}finally{p=null,h=W,g=!1}}var B=!1,R=null,E=-1,P=5,I=-1;function G(){return!(n.unstable_now()-I<P)}function ie(){if(R!==null){var L=n.unstable_now();I=L;var V=!0;try{V=R(!0,L)}finally{V?K():(B=!1,R=null)}}else B=!1}var K;if(typeof C=="function")K=function(){C(ie)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,te=j.port2;j.port1.onmessage=ie,K=function(){te.postMessage(null)}}else K=function(){x(ie,0)};function le(L){R=L,B||(B=!0,K())}function ce(L,V){E=x(function(){L(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,le(T))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var W=h;h=V;try{return L()}finally{h=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=h;h=L;try{return V()}finally{h=W}},n.unstable_scheduleCallback=function(L,V,W){var X=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,L={id:d++,callback:V,priorityLevel:L,startTime:W,expirationTime:H,sortIndex:-1},W>X?(L.sortIndex=W,e(f,L),t(l)===null&&L===t(f)&&(y?(_(E),E=-1):y=!0,ce(w,W-X))):(L.sortIndex=H,e(l,L),v||g||(v=!0,le(T))),L},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(L){var V=h;return function(){var W=h;h=V;try{return L.apply(this,arguments)}finally{h=W}}}})(mM);(function(n){n.exports=mM})(nF);function gM(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}const Ds=[];function vM(n,e,t=!1,i={}){for(const s of Ds)if(gM(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,promise:n(...e).then(s=>r.response=s).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{const s=Ds.indexOf(r);s!==-1&&Ds.splice(s,1)},i.lifespan)}).catch(s=>r.error=s)};if(Ds.push(r),!t)throw r.promise}const iF=(n,e,t)=>vM(n,e,!1,t),rF=(n,e,t)=>void vM(n,e,!0,t),sF=n=>{if(n===void 0||n.length===0)Ds.splice(0,Ds.length);else{const e=Ds.find(t=>gM(n,t.keys,t.equal));if(e){const t=Ds.indexOf(e);t!==-1&&Ds.splice(t,1)}}};var fy,dy;const yM=n=>n&&n.isOrthographicCamera,oF=n=>n&&n.hasOwnProperty("current"),Cd=typeof window<"u"&&((fy=window.document)!=null&&fy.createElement||((dy=window.navigator)==null?void 0:dy.product)==="ReactNative")?Z.useLayoutEffect:Z.useEffect;function xM(n){const e=Z.useRef(n);return Cd(()=>void(e.current=n),[n]),e}function aF({set:n}){return Cd(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class _M extends Z.Component{constructor(){super(...arguments);b1(this,"state",{error:!1})}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}}b1(_M,"getDerivedStateFromError",()=>({error:!0}));const CM="__default",lF=n=>n&&!!n.memoized&&!!n.changes;function MM(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const Oc=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},an={obj:n=>n===Object(n)&&!an.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(an.str(n)||an.num(n))return n===e;const s=an.obj(n);if(s&&i==="reference")return n===e;const o=an.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in r?e:n)if(n[a]!==e[a])return!1;if(an.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function uF(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function cF(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Ul(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function F3(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const hy=/-\d+$/;function kg(n,e,t){if(an.str(t)){if(hy.test(t)){const s=t.replace(hy,""),{target:o,key:a}=F3(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=F3(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function py(n,e,t){var i,r;if(an.str(t)){const{target:s,key:o}=F3(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function SM(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},f=!1){var d;const p=(d=n==null?void 0:n.__r3f)!=null?d:{},h=Object.entries(r),g=[];if(f){const y=Object.keys(l);for(let x=0;x<y.length;x++)r.hasOwnProperty(y[x])||h.unshift([y[x],CM+"remove"])}h.forEach(([y,x])=>{var _;if((_=n.__r3f)!=null&&_.primitive&&y==="object"||an.equ(x,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return g.push([y,x,!0,[]]);let C=[];y.includes("-")&&(C=y.split("-")),g.push([y,x,!1,C]);for(const S in r){const w=r[S];S.startsWith(`${y}-`)&&g.push([S,w,!1,S.split("-")])}});const v={...r};return p.memoizedProps&&p.memoizedProps.args&&(v.args=p.memoizedProps.args),p.memoizedProps&&p.memoizedProps.attach&&(v.attach=p.memoizedProps.attach),{memoized:v,changes:g}}function Ng(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:f}=lF(e)?e:SM(n,e),d=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let h=0;h<f.length;h++){let[g,v,y,x]=f[h],_=n,C=_[g];if(x.length&&(C=x.reduce((S,w)=>S[w],n),!(C&&C.set))){const[S,...w]=x.reverse();_=w.reverse().reduce((T,B)=>T[B],n),g=S}if(v===CM+"remove")if(_.constructor){var p;const S=new _.constructor(...(p=_.__r3f.memoizedProps.args)!=null?p:[]);v=S[g],S.dispose&&S.dispose()}else v=0;if(y)v?s.handlers[g]=v:delete s.handlers[g],s.eventCount=Object.keys(s.handlers).length;else if(C&&C.set&&(C.copy||C instanceof za)){if(Array.isArray(v))C.fromArray?C.fromArray(v):C.set(...v);else if(C.copy&&v&&v.constructor&&C.constructor.name===v.constructor.name)C.copy(v);else if(v!==void 0){const S=C instanceof Oe;!S&&C.setScalar?C.setScalar(v):C instanceof za&&v instanceof za?C.mask=v.mask:C.set(v),!("ColorManagement"in wm)&&!a.linear&&S&&C.convertSRGBToLinear()}}else _[g]=v,!a.linear&&_[g]instanceof Yt&&(_[g].encoding=qe);zl(n)}if(s.parent&&a.internal&&n.raycast&&d!==s.eventCount){const h=a.internal.interaction.indexOf(n);h>-1&&a.internal.interaction.splice(h,1),s.eventCount&&a.internal.interaction.push(n)}return f.length&&(r=n.__r3f)!=null&&r.parent&&k3(n),n}function zl(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function k3(n){n.onUpdate==null||n.onUpdate(n)}function wM(n,e){n.manual||(yM(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function fF(n,e,t){const i=t.pop(),r=t.reduce((s,o)=>s[o],n);return r[i]=e}function Cp(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function dF(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Bo.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Bo.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Bo.ContinuousEventPriority;default:return Bo.DefaultEventPriority}}function AM(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function hF(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{AM(t.capturedMap,e,i,r)})}function pF(n){function e(l){const{internal:f}=n.getState(),d=l.offsetX-f.initialClick[0],p=l.offsetY-f.initialClick[1];return Math.round(Math.sqrt(d*d+p*p))}function t(l){return l.filter(f=>["Move","Over","Enter","Out","Leave"].some(d=>{var p;return(p=f.__r3f)==null?void 0:p.handlers["onPointer"+d]}))}function i(l,f){const d=n.getState(),p=new Set,h=[],g=f?f(d.internal.interaction):d.internal.interaction;for(let _=0;_<g.length;_++){const C=Oc(g[_]);C&&(C.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(_){const C=Oc(_);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var S;C.events.compute==null||C.events.compute(l,C,(S=C.previousRoot)==null?void 0:S.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(_,!0):[]}let y=g.flatMap(v).sort((_,C)=>{const S=Oc(_.object),w=Oc(C.object);return!S||!w?_.distance-C.distance:w.events.priority-S.events.priority||_.distance-C.distance}).filter(_=>{const C=Cp(_);return p.has(C)?!1:(p.add(C),!0)});d.events.filter&&(y=d.events.filter(y,d));for(const _ of y){let C=_.object;for(;C;){var x;(x=C.__r3f)!=null&&x.eventCount&&h.push({..._,eventObject:C}),C=C.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let _ of d.internal.capturedMap.get(l.pointerId).values())p.has(Cp(_.intersection))||h.push(_.intersection);return h}function r(l,f,d,p){const h=n.getState();if(l.length){const g={stopped:!1};for(const v of l){const y=Oc(v.object)||h,{raycaster:x,pointer:_,camera:C,internal:S}=y,w=new k(_.x,_.y,0).unproject(C),T=I=>{var G,ie;return(G=(ie=S.capturedMap.get(I))==null?void 0:ie.has(v.eventObject))!=null?G:!1},B=I=>{const G={intersection:v,target:f.target};S.capturedMap.has(I)?S.capturedMap.get(I).set(v.eventObject,G):S.capturedMap.set(I,new Map([[v.eventObject,G]])),f.target.setPointerCapture(I)},R=I=>{const G=S.capturedMap.get(I);G&&AM(S.capturedMap,v.eventObject,G,I)};let E={};for(let I in f){let G=f[I];typeof G!="function"&&(E[I]=G)}let P={...v,...E,pointer:_,intersections:l,stopped:g.stopped,delta:d,unprojectedPoint:w,ray:x.ray,camera:C,stopPropagation(){const I="pointerId"in f&&S.capturedMap.get(f.pointerId);if((!I||I.has(v.eventObject))&&(P.stopped=g.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(G=>G.eventObject===v.eventObject))){const G=l.slice(0,l.indexOf(v));s([...G,v])}},target:{hasPointerCapture:T,setPointerCapture:B,releasePointerCapture:R},currentTarget:{hasPointerCapture:T,setPointerCapture:B,releasePointerCapture:R},nativeEvent:f};if(p(P),g.stopped===!0)break}}return l}function s(l){const{internal:f}=n.getState();for(const d of f.hovered.values())if(!l.length||!l.find(p=>p.object===d.object&&p.index===d.index&&p.instanceId===d.instanceId)){const h=d.eventObject.__r3f,g=h==null?void 0:h.handlers;if(f.hovered.delete(Cp(d)),h!=null&&h.eventCount){const v={...d,intersections:l};g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}}function o(l,f){for(let d=0;d<f.length;d++){const p=f[d].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return f=>{const{internal:d}=n.getState();"pointerId"in f&&d.capturedMap.has(f.pointerId)&&(d.capturedMap.delete(f.pointerId),s([]))}}return function(d){const{onPointerMissed:p,internal:h}=n.getState();h.lastEvent.current=d;const g=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(d,g?t:void 0),_=v?e(d):0;l==="onPointerDown"&&(h.initialClick=[d.offsetX,d.offsetY],h.initialHits=x.map(S=>S.eventObject)),v&&!x.length&&_<=2&&(o(d,h.interaction),p&&p(d)),g&&s(x);function C(S){const w=S.eventObject,T=w.__r3f,B=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(g){if(B.onPointerOver||B.onPointerEnter||B.onPointerOut||B.onPointerLeave){const R=Cp(S),E=h.hovered.get(R);E?E.stopped&&S.stopPropagation():(h.hovered.set(R,S),B.onPointerOver==null||B.onPointerOver(S),B.onPointerEnter==null||B.onPointerEnter(S))}B.onPointerMove==null||B.onPointerMove(S)}else{const R=B[l];R?(!v||h.initialHits.includes(w))&&(o(d,h.interaction.filter(E=>!h.initialHits.includes(E))),R(S)):v&&h.initialHits.includes(w)&&o(d,h.interaction.filter(E=>!h.initialHits.includes(E)))}}r(x,d,_,C)}}return{handlePointer:a}}let N3={},EM=n=>void(N3={...N3,...n});function mF(n,e){function t(d,{args:p=[],attach:h,...g},v){let y=`${d[0].toUpperCase()}${d.slice(1)}`,x;if(d==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=g.object;x=Ul(_,{type:d,root:v,attach:h,primitive:!0})}else{const _=N3[y];if(!_)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(p))throw new Error("R3F: The args prop must be an array!");x=Ul(new _(...p),{type:d,root:v,attach:h,memoizedProps:{args:p}})}return x.__r3f.attach===void 0&&(x instanceof ft?x.__r3f.attach="geometry":x instanceof vn&&(x.__r3f.attach="material")),y!=="inject"&&Ng(x,g),x}function i(d,p){let h=!1;if(p){var g,v;(g=p.__r3f)!=null&&g.attach?kg(d,p,p.__r3f.attach):p.isObject3D&&d.isObject3D&&(d.add(p),h=!0),h||(v=d.__r3f)==null||v.objects.push(p),p.__r3f||Ul(p,{}),p.__r3f.parent=d,k3(p),zl(p)}}function r(d,p,h){let g=!1;if(p){var v,y;if((v=p.__r3f)!=null&&v.attach)kg(d,p,p.__r3f.attach);else if(p.isObject3D&&d.isObject3D){p.parent=d,p.dispatchEvent({type:"added"});const x=d.children.filter(C=>C!==p),_=x.indexOf(h);d.children=[...x.slice(0,_),p,...x.slice(_)],g=!0}g||(y=d.__r3f)==null||y.objects.push(p),p.__r3f||Ul(p,{}),p.__r3f.parent=d,k3(p),zl(p)}}function s(d,p,h=!1){d&&[...d].forEach(g=>o(p,g,h))}function o(d,p,h){if(p){var g,v,y;if(p.__r3f&&(p.__r3f.parent=null),(g=d.__r3f)!=null&&g.objects&&(d.__r3f.objects=d.__r3f.objects.filter(w=>w!==p)),(v=p.__r3f)!=null&&v.attach)py(d,p,p.__r3f.attach);else if(p.isObject3D&&d.isObject3D){var x;d.remove(p),(x=p.__r3f)!=null&&x.root&&hF(p.__r3f.root,p)}const C=(y=p.__r3f)==null?void 0:y.primitive,S=h===void 0?p.dispose!==null&&!C:h;if(!C){var _;s((_=p.__r3f)==null?void 0:_.objects,p,S),s(p.children,p,S)}p.__r3f&&(delete p.__r3f.root,delete p.__r3f.objects,delete p.__r3f.handlers,delete p.__r3f.memoizedProps,C||delete p.__r3f),S&&p.dispose&&p.type!=="Scene"&&Em.unstable_scheduleCallback(Em.unstable_IdlePriority,()=>{try{p.dispose()}catch{}}),zl(d)}}function a(d,p,h,g){var v;const y=(v=d.__r3f)==null?void 0:v.parent;if(!y)return;const x=t(p,h,d.__r3f.root);if(d.children){for(const _ of d.children)_.__r3f&&i(x,_);d.children=d.children.filter(_=>!_.__r3f)}d.__r3f.objects.forEach(_=>i(x,_)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(y,d),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(y,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[g,g.alternate].forEach(_=>{_!==null&&(_.stateNode=x,_.ref&&(typeof _.ref=="function"?_.ref(x):_.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:tF({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,p)=>{if(!p)return;const h=d.getState().scene;h.__r3f&&(h.__r3f.root=d,i(h,p))},removeChildFromContainer:(d,p)=>{p&&o(d.getState().scene,p)},insertInContainerBefore:(d,p,h)=>{if(!p||!h)return;const g=d.getState().scene;g.__r3f&&r(g,p,h)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var p;const h=(p=d==null?void 0:d.__r3f)!=null?p:{};return Boolean(h.handlers)},prepareUpdate(d,p,h,g){if(d.__r3f.primitive&&g.object&&g.object!==d)return[!0];{const{args:v=[],children:y,...x}=g,{args:_=[],children:C,...S}=h;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((T,B)=>T!==_[B]))return[!0];const w=SM(d,x,S,!0);return w.changes.length?[!1,w]:null}},commitUpdate(d,[p,h],g,v,y,x){p?a(d,g,y,x):Ng(d,h)},commitMount(d,p,h,g){var v;const y=(v=d.__r3f)!=null?v:{};d.raycast&&y.handlers&&y.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Ul(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var p;const{attach:h,parent:g}=(p=d.__r3f)!=null?p:{};h&&g&&py(g,d,h),d.isObject3D&&(d.visible=!1),zl(d)},unhideInstance(d,p){var h;const{attach:g,parent:v}=(h=d.__r3f)!=null?h:{};g&&v&&kg(v,d,g),(d.isObject3D&&p.visible==null||p.visible)&&(d.visible=!0),zl(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Bo.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&an.fun(performance.now)?performance.now:an.fun(Date.now)?Date.now:()=>0,scheduleTimeout:an.fun(setTimeout)?setTimeout:void 0,cancelTimeout:an.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Ng}}const gF=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],TM=n=>!!(n!=null&&n.render),P8=Z.createContext(null),vF=(n,e)=>{const t=pM((a,l)=>{const f=new k,d=new k,p=new k;function h(_=l().camera,C=d,S=l().size){const{width:w,height:T,top:B,left:R}=S,E=w/T;C instanceof k?p.copy(C):p.set(...C);const P=_.getWorldPosition(f).distanceTo(p);if(yM(_))return{width:w/_.zoom,height:T/_.zoom,top:B,left:R,factor:1,distance:P,aspect:E};{const I=_.fov*Math.PI/180,G=2*Math.tan(I/2)*P,ie=G*(w/T);return{width:ie,height:G,top:B,left:R,factor:w/ie,distance:P,aspect:E}}}let g;const v=_=>a(C=>({performance:{...C.performance,current:_}})),y=new ve;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(_=1)=>n(l(),_),advance:(_,C)=>e(_,C,l()),legacy:!1,linear:!1,flat:!1,scene:Ul(new Au),controls:null,clock:new T8,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();g&&clearTimeout(g),_.performance.current!==_.performance.min&&v(_.performance.min),g=setTimeout(()=>v(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:_=>a(C=>({...C,events:{...C.events,..._}})),setSize:(_,C,S,w,T)=>{const B=l().camera,R={width:_,height:C,top:w||0,left:T||0,updateStyle:S};a(E=>({size:R,viewport:{...E.viewport,...h(B,d,R)}}))},setDpr:_=>a(C=>{const S=MM(_);return{viewport:{...C.viewport,dpr:S,initialDpr:C.viewport.initialDpr||S}}}),setFrameloop:(_="always")=>{const C=l().clock;C.stop(),C.elapsedTime=0,_!=="never"&&(C.start(),C.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,C,S)=>{const w=l().internal;return w.priority=w.priority+(C>0?1:0),w.subscribers.push({ref:_,priority:C,store:S}),w.subscribers=w.subscribers.sort((T,B)=>T.priority-B.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(C>0?1:0),T.subscribers=T.subscribers.filter(B=>B.ref!==_))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:f,gl:d,set:p}=t.getState();(l!==r||f.dpr!==s)&&(r=l,s=f.dpr,wM(a,l),d.setPixelRatio(f.dpr),d.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,p(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Mp,yF=new Set,xF=new Set,_F=new Set;function Og(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Uc(n,e){switch(n){case"before":return Og(yF,e);case"after":return Og(xF,e);case"tail":return Og(_F,e)}}let Ug,zg;function Gg(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Ug=e.internal.subscribers,Mp=0;Mp<Ug.length;Mp++)zg=Ug[Mp],zg.ref.current(zg.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function CF(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,Uc("before",l);for(const d of n.values()){var f;r=d.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((f=r.gl.xr)!=null&&f.isPresenting)&&(t+=Gg(l,r))}if(Uc("after",l),t===0)return Uc("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,f=1){var d;if(!l)return n.forEach(p=>o(p.store.getState()),f);(d=l.gl.xr)!=null&&d.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+f),e||(e=!0,requestAnimationFrame(s)))}function a(l,f=!0,d,p){if(f&&Uc("before",l),d)Gg(l,d,p);else for(const h of n.values())Gg(l,h.store.getState());f&&Uc("after",l)}return{loop:s,invalidate:o,advance:a}}function L8(){const n=Z.useContext(P8);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function cs(n=t=>t,e){return L8()(n,e)}function Zu(n,e=0){const t=L8(),i=t.getState().internal.subscribe,r=xM(n);return Cd(()=>i(r,e,t),[e,i,t]),null}function bM(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,uF(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Yu(n,e,t,i){const r=Array.isArray(e)?e:[e],s=iF(bM(t,i),[n,...r],{equal:an.equ});return Array.isArray(e)?s:s[0]}Yu.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return rF(bM(t),[n,...i])};Yu.clear=function(n,e){const t=Array.isArray(e)?e:[e];return sF([n,...t])};const Ru=new Map,{invalidate:my,advance:gy}=CF(Ru),{reconciler:Xf,applyProps:Sp}=mF(Ru,dF),zc={objects:"shallow",strict:!1},MF=(n,e)=>{const t=typeof n=="function"?n(e):n;return TM(t)?t:new r8({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function SF(n){return n instanceof HTMLCanvasElement}function wF(n,e){if(e)return e;if(SF(n)&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}return{width:0,height:0,top:0,left:0}}function AF(n){const e=Ru.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||vF(my,gy),o=t||Xf.createContainer(s,Bo.ConcurrentRoot,null,!1,null,"",r,null);e||Ru.set(n,{fiber:o,store:s});let a,l=!1;return{configure(f={}){let{gl:d,size:p,events:h,onCreated:g,shadows:v=!1,linear:y=!1,flat:x=!1,legacy:_=!1,orthographic:C=!1,frameloop:S="always",dpr:w=[1,2],performance:T,raycaster:B,camera:R,onPointerMissed:E}=f,P=s.getState(),I=P.gl;P.gl||P.set({gl:I=MF(d,n)});let G=P.raycaster;G||P.set({raycaster:G=new R8});const{params:ie,...K}=B||{};if(an.equ(K,G,zc)||Sp(G,{...K}),an.equ(ie,G.params,zc)||Sp(G,{params:{...G.params,...ie}}),!P.camera){const L=R instanceof Uu,V=L?R:C?new Gu(0,0,0,0,.1,1e3):new Sn(75,0,.1,1e3);L||(V.position.z=5,R&&Sp(V,R),R!=null&&R.rotation||V.lookAt(0,0,0)),P.set({camera:V})}if(!P.xr){const L=(X,H)=>{const q=s.getState();q.frameloop!=="never"&&gy(X,!0,q,H)},V=()=>{const X=s.getState();X.gl.xr.enabled=X.gl.xr.isPresenting,X.gl.xr.setAnimationLoop(X.gl.xr.isPresenting?L:null),X.gl.xr.isPresenting||my(X)},W={connect(){const X=s.getState().gl;X.xr.addEventListener("sessionstart",V),X.xr.addEventListener("sessionend",V)},disconnect(){const X=s.getState().gl;X.xr.removeEventListener("sessionstart",V),X.xr.removeEventListener("sessionend",V)}};I.xr&&W.connect(),P.set({xr:W})}if(I.shadowMap){const L=I.shadowMap.enabled,V=I.shadowMap.type;if(I.shadowMap.enabled=!!v,an.boo(v))I.shadowMap.type=ff;else if(an.str(v)){var j;const W={basic:__,percentage:Km,soft:ff,variance:Ba};I.shadowMap.type=(j=W[v])!=null?j:ff}else an.obj(v)&&Object.assign(I.shadowMap,v);(L!==I.shadowMap.enabled||V!==I.shadowMap.type)&&(I.shadowMap.needsUpdate=!0)}"ColorManagement"in wm&&fF(wm,_,["ColorManagement","legacyMode"]);const te=y?Zi:qe,le=x?zr:Jv;I.outputEncoding!==te&&(I.outputEncoding=te),I.toneMapping!==le&&(I.toneMapping=le),P.legacy!==_&&P.set(()=>({legacy:_})),P.linear!==y&&P.set(()=>({linear:y})),P.flat!==x&&P.set(()=>({flat:x})),d&&!an.fun(d)&&!TM(d)&&!an.equ(d,I,zc)&&Sp(I,d),h&&!P.events.handlers&&P.set({events:h(s)}),w&&P.viewport.dpr!==MM(w)&&P.setDpr(w);const ce=wF(n,p);return an.equ(ce,P.size,zc)||P.setSize(ce.width,ce.height,ce.updateStyle,ce.top,ce.left),P.frameloop!==S&&P.setFrameloop(S),P.onPointerMissed||P.set({onPointerMissed:E}),T&&!an.equ(T,P.performance,zc)&&P.set(L=>({performance:{...L.performance,...T}})),a=g,l=!0,this},render(f){return l||this.configure(),Xf.updateContainer(Z.createElement(EF,{store:s,children:f,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){BM(n)}}}function EF({store:n,children:e,onCreated:t,rootElement:i}){return Cd(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Z.createElement(P8.Provider,{value:n},e)}function BM(n,e){const t=Ru.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Xf.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),cF(r),Ru.delete(n),e&&e(n)}catch{}},500)})}}function TF(n,e,t){return Z.createElement(bF,{key:e.uuid,children:n,container:e,state:t})}function bF({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,o=L8(),[a]=Z.useState(()=>new R8),[l]=Z.useState(()=>new ve),f=Z.useCallback((p,h)=>{const g={...p};Object.keys(p).forEach(y=>{(gF.includes(y)||p[y]!==h[y])&&delete g[y]});let v;if(h&&r){const y=h.camera;v=p.viewport.getCurrentViewport(y,new k,r),y!==p.camera&&wM(y,r)}return{...g,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...p.events,...h==null?void 0:h.events,...i},size:{...p.size,...r},viewport:{...p.viewport,...v},...s}},[n]),[d]=Z.useState(()=>{const p=o.getState();return pM((g,v)=>({...p,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...p.events,...i},size:{...p.size,...r},...s,set:g,get:v,setEvents:y=>g(x=>({...x,events:{...x.events,...y}}))}))});return Z.useEffect(()=>{const p=o.subscribe(h=>d.setState(g=>f(h,g)));return()=>{p(),d.destroy()}},[]),Z.useEffect(()=>{d.setState(p=>f(o.getState(),p))},[f]),Z.createElement(Z.Fragment,null,Xf.createPortal(Z.createElement(P8.Provider,{value:d},e),d,null))}Xf.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Z.version});function Pu(){return Pu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pu.apply(this,arguments)}function O3(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,t||(a=n.apply(s,r),s=r=null))}var f=function(){s=this,r=arguments,o=Date.now();var d=t&&!i;return i||(i=setTimeout(l,e)),d&&(a=n.apply(s,r),s=r=null),a};return f.clear=function(){i&&(clearTimeout(i),i=null)},f.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},f}O3.debounce=O3;var vy=O3;function BF(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=Z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),f=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,p=Z.useRef(!1);Z.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[h,g,v]=Z.useMemo(()=>{const C=()=>{if(!l.current.element)return;const{left:S,top:w,width:T,height:B,bottom:R,right:E,x:P,y:I}=l.current.element.getBoundingClientRect(),G={left:S,top:w,width:T,height:B,bottom:R,right:E,x:P,y:I};l.current.element instanceof HTMLElement&&r&&(G.height=l.current.element.offsetHeight,G.width=l.current.element.offsetWidth),Object.freeze(G),p.current&&!IF(l.current.lastBounds,G)&&a(l.current.lastBounds=G)};return[C,d?vy(C,d):C,f?vy(C,f):C]},[a,r,f,d]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(C=>C.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(C=>C.addEventListener("scroll",v,{capture:!0,passive:!0})))}const _=C=>{!C||C===l.current.element||(y(),l.current.element=C,l.current.scrollContainers=RM(C),x())};return PF(v,Boolean(t)),RF(g),Z.useEffect(()=>{y(),x()},[t,v,g]),Z.useEffect(()=>y,[]),[_,o,h]}function RF(n){Z.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function PF(n,e){Z.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function RM(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...RM(n.parentElement)]}const LF=["x","y","top","bottom","left","right","width","height"],IF=(n,e)=>LF.every(t=>n[t]===e[t]);var DF=Object.defineProperty,FF=Object.defineProperties,kF=Object.getOwnPropertyDescriptors,yy=Object.getOwnPropertySymbols,NF=Object.prototype.hasOwnProperty,OF=Object.prototype.propertyIsEnumerable,xy=(n,e,t)=>e in n?DF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_y=(n,e)=>{for(var t in e||(e={}))NF.call(e,t)&&xy(n,t,e[t]);if(yy)for(var t of yy(e))OF.call(e,t)&&xy(n,t,e[t]);return n},UF=(n,e)=>FF(n,kF(e));function PM(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=PM(i,e,t);if(r)return r;i=e?null:i.sibling}}function LM(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const I8=LM(Z.createContext(null));class IM extends Z.Component{render(){return Z.createElement(I8.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:zF,ReactCurrentDispatcher:GF}=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function HF(){const n=Z.useContext(I8);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Z.useId();return Z.useMemo(()=>{var i;return(i=zF.current)!=null?i:PM(n,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function VF(){var n,e;const t=HF(),[i]=Z.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==I8&&!i.has(s)&&i.set(s,(e=GF.current)==null?void 0:e.readContext(LM(s))),r=r.return}return Z.useMemo(()=>Array.from(i.keys()).reduce((s,o)=>a=>Z.createElement(s,null,Z.createElement(o.Provider,UF(_y({},a),{value:i.get(o)}))),s=>Z.createElement(IM,_y({},s))),[i])}const Hg={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function WF(n){const{handlePointer:e}=pF(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Hg).reduce((t,i)=>({...t,[i]:e(i)}),{}),connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,f]=Hg[o];t.addEventListener(l,a,{passive:f})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Hg[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const JF=Z.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=WF,eventSource:a,eventPrefix:l,shadows:f,linear:d,flat:p,legacy:h,orthographic:g,frameloop:v,dpr:y,performance:x,raycaster:_,camera:C,onPointerMissed:S,onCreated:w,...T},B){Z.useMemo(()=>EM(wm),[]);const R=VF(),[E,P]=BF({scroll:!0,debounce:{scroll:50,resize:0},...i}),I=Z.useRef(null),G=Z.useRef(null),[ie,K]=Z.useState(null);Z.useImperativeHandle(B,()=>I.current);const j=xM(S),[te,le]=Z.useState(!1),[ce,L]=Z.useState(!1);if(te)throw te;if(ce)throw ce;const V=Z.useRef(null);P.width>0&&P.height>0&&ie&&(V.current||(V.current=AF(ie)),V.current.configure({gl:s,events:o,shadows:f,linear:d,flat:p,legacy:h,orthographic:g,frameloop:v,dpr:y,performance:x,raycaster:_,camera:C,size:P,onPointerMissed:(...X)=>j.current==null?void 0:j.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(a?oF(a)?a.current:a:G.current),l&&X.setEvents({compute:(H,q)=>{const ne=H[l+"X"],ge=H[l+"Y"];q.pointer.set(ne/q.size.width*2-1,-(ge/q.size.height)*2+1),q.raycaster.setFromCamera(q.pointer,q.camera)}}),w==null||w(X)}}),V.current.render(Z.createElement(R,null,Z.createElement(_M,{set:L},Z.createElement(Z.Suspense,{fallback:Z.createElement(aF,{set:le})},e))))),Cd(()=>{K(I.current)},[]),Z.useEffect(()=>{if(ie)return()=>BM(ie)},[ie]);const W=a?"none":"auto";return Z.createElement("div",Pu({ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W,...r}},T),Z.createElement("div",{ref:E,style:{width:"100%",height:"100%"}},Z.createElement("canvas",{ref:I,style:{display:"block"}},t)))}),D8=Z.forwardRef(function(e,t){return Z.createElement(IM,null,Z.createElement(JF,Pu({},e,{ref:t})))});function XF(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}let Gc;function jF(){if(Gc!==void 0)return Gc;try{var n;let e;const t=document.createElement("canvas");return Gc=!!(window.WebGL2RenderingContext&&(e=t.getContext("webgl2"))),e&&((n=e.getExtension("WEBGL_lose_context"))===null||n===void 0||n.loseContext()),Gc}catch{return Gc=!1}}const KF=n=>n&&n.isCubeTexture;class ZF extends Bn{constructor(e,t){var i,r;const s=KF(e),a=((i=s?(r=e.image[0])===null||r===void 0?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),f=Math.pow(2,l),d=3*Math.max(f,16*7),p=4*f,h=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/d}`,`#define CUBEUV_TEXEL_HEIGHT ${1/p}`,`#define CUBEUV_MAX_MIP ${l}.0`],g=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=h.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,y={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},x=new Wu(1,16),_=new yn({uniforms:y,fragmentShader:v,vertexShader:g,side:rs});super(x,_)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class F8 extends Ci{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new ek(t)}),this.register(function(t){return new ak(t)}),this.register(function(t){return new lk(t)}),this.register(function(t){return new nk(t)}),this.register(function(t){return new ik(t)}),this.register(function(t){return new rk(t)}),this.register(function(t){return new sk(t)}),this.register(function(t){return new $F(t)}),this.register(function(t){return new ok(t)}),this.register(function(t){return new tk(t)}),this.register(function(t){return new QF(t)}),this.register(function(t){return new uk(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=ls.extractUrlBase(e),this.manager.itemStart(e);const a=function(f){r?r(f):console.error(f),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Yi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(f){try{s.parse(f,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=e;else if(ls.decodeText(new Uint8Array(e,0,4))===DM){try{o[Mt.KHR_BINARY_GLTF]=new ck(e)}catch(p){r&&r(p);return}s=o[Mt.KHR_BINARY_GLTF].content}else s=ls.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const f=new Sk(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});f.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const p=this.pluginCallbacks[d](f);a[p.name]=p,o[p.name]=!0}if(l.extensionsUsed)for(let d=0;d<l.extensionsUsed.length;++d){const p=l.extensionsUsed[d],h=l.extensionsRequired||[];switch(p){case Mt.KHR_MATERIALS_UNLIT:o[p]=new qF;break;case Mt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[p]=new hk;break;case Mt.KHR_DRACO_MESH_COMPRESSION:o[p]=new fk(l,this.dracoLoader);break;case Mt.KHR_TEXTURE_TRANSFORM:o[p]=new dk;break;case Mt.KHR_MESH_QUANTIZATION:o[p]=new pk;break;default:h.indexOf(p)>=0&&a[p]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+p+'".')}}f.setExtensions(o),f.setPlugins(a),f.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function YF(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Mt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class QF{constructor(e){this.parser=e,this.name=Mt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let f;const d=new Oe(16777215);l.color!==void 0&&d.fromArray(l.color);const p=l.range!==void 0?l.range:0;switch(l.type){case"directional":f=new A8(d),f.target.position.set(0,0,-1),f.add(f.target);break;case"point":f=new w8(d),f.distance=p;break;case"spot":f=new S8(d),f.distance=p,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,f.angle=l.spot.outerConeAngle,f.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,f.target.position.set(0,0,-1),f.add(f.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return f.position.set(0,0,0),f.decay=2,l.intensity!==void 0&&(f.intensity=l.intensity),f.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(f),t.cache.add(i,r),r}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class qF{constructor(){this.name=Mt.KHR_MATERIALS_UNLIT}getMaterialType(){return Ji}extendParams(e,t,i){const r=[];e.color=new Oe(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,qe))}return Promise.all(r)}}class $F{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class ek{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ve(a,a)}return Promise.all(s)}}class tk{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class nk{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Oe(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,qe)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class ik{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class rk{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Oe(a[0],a[1],a[2]),Promise.all(s)}}class sk{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class ok{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Oe(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,qe)),Promise.all(s)}}class ak{constructor(e){this.parser=e,this.name=Mt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class lk{constructor(e){this.parser=e,this.name=Mt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const f=i.options.manager.getHandler(a.uri);f!==null&&(l=f)}return this.detectSupport().then(function(f){if(f)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class uk{constructor(e){this.name=Mt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,f=r.byteLength||0,d=r.count,p=r.byteStride,h=new Uint8Array(a,l,f);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,p,h,r.mode,r.filter).then(function(g){return g.buffer}):o.ready.then(function(){const g=new ArrayBuffer(d*p);return o.decodeGltfBuffer(new Uint8Array(g),d,p,h,r.mode,r.filter),g})})}else return null}}const DM="glTF",Hc=12,Cy={JSON:1313821514,BIN:5130562};class ck{constructor(e){this.name=Mt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Hc);if(this.header={magic:ls.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==DM)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Hc,r=new DataView(e,Hc);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===Cy.JSON){const l=new Uint8Array(e,Hc+s,o);this.content=ls.decodeText(l)}else if(a===Cy.BIN){const l=Hc+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class fk{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Mt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},f={};for(const d in o){const p=z3[d]||d.toLowerCase();a[p]=o[d]}for(const d in e.attributes){const p=z3[d]||d.toLowerCase();if(o[d]!==void 0){const h=i.accessors[e.attributes[d]],g=jf[h.componentType];f[p]=g.name,l[p]=h.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(p){r.decodeDracoFile(d,function(h){for(const g in h.attributes){const v=h.attributes[g],y=l[g];y!==void 0&&(v.normalized=y)}p(h)},a,f)})})}}class dk{constructor(){this.name=Mt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class U3 extends ju{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),i=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Oe().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const f in a)l.uniforms[f]=a[f];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class hk{constructor(){this.name=Mt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return U3}extendParams(e,t,i){const r=t.extensions[this.name];e.color=new Oe(1,1,1),e.opacity=1;const s=[];if(Array.isArray(r.diffuseFactor)){const o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(r.diffuseTexture!==void 0&&s.push(i.assignTexture(e,"map",r.diffuseTexture,qe)),e.emissive=new Oe(0,0,0),e.glossiness=r.glossinessFactor!==void 0?r.glossinessFactor:1,e.specular=new Oe(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),r.specularGlossinessTexture!==void 0){const o=r.specularGlossinessTexture;s.push(i.assignTexture(e,"glossinessMap",o)),s.push(i.assignTexture(e,"specularMap",o,qe))}return Promise.all(s)}createMaterial(e){const t=new U3(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=qs,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class pk{constructor(){this.name=Mt.KHR_MESH_QUANTIZATION}}class FM extends Ku{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,f=a*3,d=r-t,p=(i-t)/d,h=p*p,g=h*p,v=e*f,y=v-f,x=-2*g+3*h,_=g-h,C=1-x,S=_-h+p;for(let w=0;w!==a;w++){const T=o[y+w+a],B=o[y+w+l]*d,R=o[v+w+a],E=o[v+w]*d;s[w]=C*T+S*B+x*R+_*E}return s}}const mk=new yi;class gk extends FM{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return mk.fromArray(s).normalize().toArray(s),s}}const bs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},jf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},My={9728:Wt,9729:Gt,9984:kf,9985:Ym,9986:cu,9987:Vr},Sy={33071:Zn,33648:Cu,10497:Wo},wy={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},z3={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},yo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},vk={CUBICSPLINE:void 0,LINEAR:ja,STEP:Mu},Vg={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function yk(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new ju({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:us})),n.DefaultMaterial}function Vc(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Sa(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function xk(n,e,t){let i=!1,r=!1,s=!1;for(let f=0,d=e.length;f<d;f++){const p=e[f];if(p.POSITION!==void 0&&(i=!0),p.NORMAL!==void 0&&(r=!0),p.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let f=0,d=e.length;f<d;f++){const p=e[f];if(i){const h=p.POSITION!==void 0?t.getDependency("accessor",p.POSITION):n.attributes.position;o.push(h)}if(r){const h=p.NORMAL!==void 0?t.getDependency("accessor",p.NORMAL):n.attributes.normal;a.push(h)}if(s){const h=p.COLOR_0!==void 0?t.getDependency("accessor",p.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(f){const d=f[0],p=f[1],h=f[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=p),s&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}function _k(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ck(n){const e=n.extensions&&n.extensions[Mt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+Ay(e.attributes):t=n.indices+":"+Ay(n.attributes)+":"+n.mode,t}function Ay(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function G3(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Mk(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class Sk{constructor(e={},t={}){var i,r;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new YF,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((i=navigator.userAgent)===null||i===void 0?void 0:i.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(r=navigator.userAgent)===null||r===void 0?void 0:r.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new nM(this.options.manager):this.textureLoader=new uM(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Yi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Vc(s,a,r),Sa(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[f,d]of o.children.entries())s(d,a.children[f])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Mt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(ls.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0)return Promise.resolve(null);const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=wy[r.type],f=jf[r.componentType],d=f.BYTES_PER_ELEMENT,p=d*l,h=r.byteOffset||0,g=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let y,x;if(g&&g!==p){const _=Math.floor(h/g),C="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+_+":"+r.count;let S=t.cache.get(C);S||(y=new f(a,_*g,r.count*g/d),S=new ld(y,g/d),t.cache.add(C,S)),x=new Xo(S,l,h%g/d,v)}else a===null?y=new f(r.count*l):y=new f(a,h,r.count*l),x=new Tt(y,l,v);if(r.sparse!==void 0){const _=wy.SCALAR,C=jf[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,T=new C(o[1],S,r.sparse.count*_),B=new f(o[2],w,r.sparse.count*l);a!==null&&(x=new Tt(x.array.slice(),x.itemSize,x.normalized));for(let R=0,E=T.length;R<E;R++){const P=T[R];if(x.setX(P,B[R*l]),l>=2&&x.setY(P,B[R*l+1]),l>=3&&x.setZ(P,B[R*l+2]),l>=4&&x.setW(P,B[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const f=this.loadImageSource(t,i).then(function(d){d.flipY=!1,o.name&&(d.name=o.name);const h=(s.samplers||{})[o.sampler]||{};return d.magFilter=My[h.magFilter]||Gt,d.minFilter=My[h.minFilter]||Vr,d.wrapS=Sy[h.wrapS]||Wo,d.wrapT=Sy[h.wrapT]||Wo,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=f,f}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(p=>p.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",f=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(p){f=!0;const h=new Blob([p],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(p){return new Promise(function(h,g){let v=h;t.isImageBitmapLoader===!0&&(v=function(y){const x=new Yt(y);x.needsUpdate=!0,h(x)}),t.load(ls.resolveURL(p,s.path),v,void 0,g)})}).then(function(p){return f===!0&&a.revokeObjectURL(l),p.userData.mimeType=o.mimeType||Mk(o.uri),p}).catch(function(p){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),p});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(i.texCoord!==void 0&&i.texCoord!=0&&!(t==="aoMap"&&i.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+t+" not yet supported."),s.extensions[Mt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Mt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Mt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new r0,vn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new ui,vn.prototype.copy.call(l,i),l.color.copy(i.color),this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}i.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=i}getMaterialType(){return ju}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},f=[];if(l[Mt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const p=r[Mt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=p.getMaterialType(),f.push(p.extendParams(a,s,t))}else if(l[Mt.KHR_MATERIALS_UNLIT]){const p=r[Mt.KHR_MATERIALS_UNLIT];o=p.getMaterialType(),f.push(p.extendParams(a,s,t))}else{const p=s.pbrMetallicRoughness||{};if(a.color=new Oe(1,1,1),a.opacity=1,Array.isArray(p.baseColorFactor)){const h=p.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}p.baseColorTexture!==void 0&&f.push(t.assignTexture(a,"map",p.baseColorTexture,qe)),a.metalness=p.metallicFactor!==void 0?p.metallicFactor:1,a.roughness=p.roughnessFactor!==void 0?p.roughnessFactor:1,p.metallicRoughnessTexture!==void 0&&(f.push(t.assignTexture(a,"metalnessMap",p.metallicRoughnessTexture)),f.push(t.assignTexture(a,"roughnessMap",p.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),f.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=rs);const d=s.alphaMode||Vg.OPAQUE;if(d===Vg.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===Vg.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ji&&(f.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ve(1,1),s.normalTexture.scale!==void 0)){const p=s.normalTexture.scale;a.normalScale.set(p,p)}return s.occlusionTexture!==void 0&&o!==Ji&&(f.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ji&&(a.emissive=new Oe().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ji&&f.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,qe)),Promise.all(f).then(function(){let p;return o===U3?p=r[Mt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):p=new o(a),s.name&&(p.name=s.name),Sa(p,s),t.associations.set(p,{materials:e}),s.extensions&&Vc(r,p,s),p})}createUniqueName(e){const t=Bt.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Mt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return Ey(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const f=e[a],d=Ck(f),p=r[d];if(p)o.push(p.promise);else{let h;f.extensions&&f.extensions[Mt.KHR_DRACO_MESH_COMPRESSION]?h=s(f):h=Ey(new ft,f,t),r[d]={primitive:f,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,f=o.length;l<f;l++){const d=o[l].material===void 0?yk(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const f=l.slice(0,l.length-1),d=l[l.length-1],p=[];for(let g=0,v=d.length;g<v;g++){const y=d[g],x=o[g];let _;const C=f[g];if(x.mode===bs.TRIANGLES||x.mode===bs.TRIANGLE_STRIP||x.mode===bs.TRIANGLE_FAN||x.mode===void 0)_=s.isSkinnedMesh===!0?new o8(y,C):new Bn(y,C),_.isSkinnedMesh===!0&&!_.geometry.attributes.skinWeight.normalized&&_.normalizeSkinWeights(),x.mode===bs.TRIANGLE_STRIP?_.geometry=Ty(_.geometry,cC):x.mode===bs.TRIANGLE_FAN&&(_.geometry=Ty(_.geometry,Kv));else if(x.mode===bs.LINES)_=new Wr(y,C);else if(x.mode===bs.LINE_STRIP)_=new Zs(y,C);else if(x.mode===bs.LINE_LOOP)_=new a8(y,C);else if(x.mode===bs.POINTS)_=new l8(y,C);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(_.geometry.morphAttributes).length>0&&_k(_,s),_.name=t.createUniqueName(s.name||"mesh_"+e),Sa(_,s),x.extensions&&Vc(r,_,x),t.assignFinalMaterial(_),p.push(_)}for(let g=0,v=p.length;g<v;g++)t.associations.set(p[g],{meshes:e,primitives:g});if(p.length===1)return p[0];const h=new Us;t.associations.set(h,{meshes:e});for(let g=0,v=p.length;g<v;g++)h.add(p[g]);return h})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Sn(Gr.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Gu(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Sa(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(i):this.getDependency("accessor",t.inverseBindMatrices).then(function(r){return i.inverseBindMatrices=r,i})}loadAnimation(e){const i=this.json.animations[e],r=[],s=[],o=[],a=[],l=[];for(let f=0,d=i.channels.length;f<d;f++){const p=i.channels[f],h=i.samplers[p.sampler],g=p.target,v=g.node,y=i.parameters!==void 0?i.parameters[h.input]:h.input,x=i.parameters!==void 0?i.parameters[h.output]:h.output;r.push(this.getDependency("node",v)),s.push(this.getDependency("accessor",y)),o.push(this.getDependency("accessor",x)),a.push(h),l.push(g)}return Promise.all([Promise.all(r),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(f){const d=f[0],p=f[1],h=f[2],g=f[3],v=f[4],y=[];for(let _=0,C=d.length;_<C;_++){const S=d[_],w=p[_],T=h[_],B=g[_],R=v[_];if(S===void 0)continue;S.updateMatrix();let E;switch(yo[R.path]){case yo.weights:E=Tu;break;case yo.rotation:E=jo;break;case yo.position:case yo.scale:default:E=bu;break}const P=S.name?S.name:S.uuid,I=B.interpolation!==void 0?vk[B.interpolation]:ja,G=[];yo[R.path]===yo.weights?S.traverse(function(K){K.morphTargetInfluences&&G.push(K.name?K.name:K.uuid)}):G.push(P);let ie=T.array;if(T.normalized){const K=G3(ie.constructor),j=new Float32Array(ie.length);for(let te=0,le=ie.length;te<le;te++)j[te]=ie[te]*K;ie=j}for(let K=0,j=G.length;K<j;K++){const te=new E(G[K]+"."+yo[R.path],w.array,ie,I);B.interpolation==="CUBICSPLINE"&&(te.createInterpolant=function(ce){const L=this instanceof jo?gk:FM;return new L(this.times,this.values,this.getValueSize()/3,ce)},te.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(te)}}const x=i.name?i.name:"animation_"+e;return new Bu(x,void 0,y)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,f=r.weights.length;l<f;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this.extensions,r=this,s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"";return function(){const a=[],l=r._invokeOne(function(f){return f.createNodeMesh&&f.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(f){return r._getNodeRef(r.cameraCache,s.camera,f)})),r._invokeAll(function(f){return f.createNodeAttachment&&f.createNodeAttachment(e)}).forEach(function(f){a.push(f)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new i0:a.length>1?l=new Us:a.length===1?l=a[0]:l=new Pt,l!==a[0])for(let f=0,d=a.length;f<d;f++)l.add(a[f]);if(s.name&&(l.userData.name=s.name,l.name=o),Sa(l,s),s.extensions&&Vc(i,l,s),s.matrix!==void 0){const f=new at;f.fromArray(s.matrix),l.applyMatrix4(f)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return r.associations.has(l)||r.associations.set(l,{}),r.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,i=this.extensions,r=this.json.scenes[e],s=this,o=new Us;r.name&&(o.name=s.createUniqueName(r.name)),Sa(o,r),r.extensions&&Vc(i,o,r);const a=r.nodes||[],l=[];for(let f=0,d=a.length;f<d;f++)l.push(kM(a[f],o,t,s));return Promise.all(l).then(function(){const f=d=>{const p=new Map;for(const[h,g]of s.associations)(h instanceof vn||h instanceof Yt)&&p.set(h,g);return d.traverse(h=>{const g=s.associations.get(h);g!=null&&p.set(h,g)}),p};return s.associations=f(o),o})}}function kM(n,e,t,i){const r=t.nodes[n];return i.getDependency("node",n).then(function(s){if(r.skin===void 0)return s;let o;return i.getDependency("skin",r.skin).then(function(a){o=a;const l=[];for(let f=0,d=o.joints.length;f<d;f++)l.push(i.getDependency("node",o.joints[f]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const f=[],d=[];for(let p=0,h=a.length;p<h;p++){const g=a[p];if(g){f.push(g);const v=new at;o.inverseBindMatrices!==void 0&&v.fromArray(o.inverseBindMatrices.array,p*16),d.push(v)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[p])}l.bind(new ud(f,d),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(r.children){const a=r.children;for(let l=0,f=a.length;l<f;l++){const d=a[l];o.push(kM(d,s,t,i))}}return Promise.all(o)})}function wk(n,e,t){const i=e.attributes,r=new qo;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,f=a.max;if(l!==void 0&&f!==void 0){if(r.set(new k(l[0],l[1],l[2]),new k(f[0],f[1],f[2])),a.normalized){const d=G3(jf[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new k,l=new k;for(let f=0,d=s.length;f<d;f++){const p=s[f];if(p.POSITION!==void 0){const h=t.json.accessors[p.POSITION],g=h.min,v=h.max;if(g!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(g[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(g[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(g[2]),Math.abs(v[2]))),h.normalized){const y=G3(jf[h.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new $o;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function Ey(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=z3[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Sa(n,e),wk(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?xk(n,e.targets,t):n})}function Ty(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===Kv)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s}class Ak extends tM{constructor(e){super(e),this.type=xr}parse(e){const a=function(S,w){switch(S){case 1:console.error("THREE.RGBELoader Read Error: "+(w||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(w||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(w||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(w||""))}return-1},p=`
`,h=function(S,w,T){w=w||1024;let R=S.pos,E=-1,P=0,I="",G=String.fromCharCode.apply(null,new Uint16Array(S.subarray(R,R+128)));for(;0>(E=G.indexOf(p))&&P<w&&R<S.byteLength;)I+=G,P+=G.length,R+=128,G+=String.fromCharCode.apply(null,new Uint16Array(S.subarray(R,R+128)));return-1<E?(T!==!1&&(S.pos+=P+E+1),I+G.slice(0,E)):!1},g=function(S){const w=/^#\?(\S+)/,T=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,B=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,R=/^\s*FORMAT=(\S+)\s*$/,E=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,P={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let I,G;if(S.pos>=S.byteLength||!(I=h(S)))return a(1,"no header found");if(!(G=I.match(w)))return a(3,"bad initial token");for(P.valid|=1,P.programtype=G[1],P.string+=I+`
`;I=h(S),I!==!1;){if(P.string+=I+`
`,I.charAt(0)==="#"){P.comments+=I+`
`;continue}if((G=I.match(T))&&(P.gamma=parseFloat(G[1])),(G=I.match(B))&&(P.exposure=parseFloat(G[1])),(G=I.match(R))&&(P.valid|=2,P.format=G[1]),(G=I.match(E))&&(P.valid|=4,P.height=parseInt(G[1],10),P.width=parseInt(G[2],10)),P.valid&2&&P.valid&4)break}return P.valid&2?P.valid&4?P:a(3,"missing image size specifier"):a(3,"missing format specifier")},v=function(S,w,T){const B=w;if(B<8||B>32767||S[0]!==2||S[1]!==2||S[2]&128)return new Uint8Array(S);if(B!==(S[2]<<8|S[3]))return a(3,"wrong scanline width");const R=new Uint8Array(4*w*T);if(!R.length)return a(4,"unable to allocate buffer space");let E=0,P=0;const I=4*B,G=new Uint8Array(4),ie=new Uint8Array(I);let K=T;for(;K>0&&P<S.byteLength;){if(P+4>S.byteLength)return a(1);if(G[0]=S[P++],G[1]=S[P++],G[2]=S[P++],G[3]=S[P++],G[0]!=2||G[1]!=2||(G[2]<<8|G[3])!=B)return a(3,"bad rgbe scanline format");let j=0,te;for(;j<I&&P<S.byteLength;){te=S[P++];const ce=te>128;if(ce&&(te-=128),te===0||j+te>I)return a(3,"bad scanline data");if(ce){const L=S[P++];for(let V=0;V<te;V++)ie[j++]=L}else ie.set(S.subarray(P,P+te),j),j+=te,P+=te}const le=B;for(let ce=0;ce<le;ce++){let L=0;R[E]=ie[ce+L],L+=B,R[E+1]=ie[ce+L],L+=B,R[E+2]=ie[ce+L],L+=B,R[E+3]=ie[ce+L],E+=4}K--}return R},y=function(S,w,T,B){const R=S[w+3],E=Math.pow(2,R-128)/255;T[B+0]=S[w+0]*E,T[B+1]=S[w+1]*E,T[B+2]=S[w+2]*E,T[B+3]=1},x=function(S,w,T,B){const R=S[w+3],E=Math.pow(2,R-128)/255;T[B+0]=$c.toHalfFloat(Math.min(S[w+0]*E,65504)),T[B+1]=$c.toHalfFloat(Math.min(S[w+1]*E,65504)),T[B+2]=$c.toHalfFloat(Math.min(S[w+2]*E,65504)),T[B+3]=$c.toHalfFloat(1)},_=new Uint8Array(e);_.pos=0;const C=g(_);if(C!==-1){const S=C.width,w=C.height,T=v(_.subarray(_.pos),S,w);if(T!==-1){let B,R,E;switch(this.type){case Wi:E=T.length/4;const P=new Float32Array(E*4);for(let G=0;G<E;G++)y(T,G*4,P,G*4);B=P,R=Wi;break;case xr:E=T.length/4;const I=new Uint16Array(E*4);for(let G=0;G<E;G++)x(T,G*4,I,G*4);B=I,R=xr;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:S,height:w,data:B,header:C.string,gamma:C.gamma,exposure:C.exposure,type:R}}}return null}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(o,a){switch(o.type){case Wi:case xr:o.encoding=Zi,o.minFilter=Gt,o.magFilter=Gt,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,i,r)}}const Wg=new WeakMap;class Ek extends Ci{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Yi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const f=t.attributeTypes[l];f.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=f.name)}const i=JSON.stringify(t);if(Wg.has(e)){const l=Wg.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((f,d)=>{r._callbacks[s]={resolve:f,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Wg.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new ft;e.index&&t.setIndex(new Tt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Tt(o,a))}return t}_loadLibrary(e,t){const i=new Yi(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=Tk.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Tk(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(p){d({draco:p})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,f=a.taskConfig;e.then(d=>{const p=d.draco,h=new p.Decoder,g=new p.DecoderBuffer;g.Init(new Int8Array(l),l.byteLength);try{const v=t(p,h,g,f),y=v.attributes.map(x=>x.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{p.destroy(g),p.destroy(h)}});break}};function t(o,a,l,f){const d=f.attributeIDs,p=f.attributeTypes;let h,g;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)h=new o.Mesh,g=a.DecodeBufferToMesh(l,h);else if(v===o.POINT_CLOUD)h=new o.PointCloud,g=a.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!g.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+g.error_msg());const y={index:null,attributes:[]};for(const x in d){const _=self[p[x]];let C,S;if(f.useUniqueIDs)S=d[x],C=a.GetAttributeByUniqueId(h,S);else{if(S=a.GetAttributeId(h,o[d[x]]),S===-1)continue;C=a.GetAttribute(h,S)}y.attributes.push(r(o,a,h,x,_,C))}return v===o.TRIANGULAR_MESH&&(y.index=i(o,a,h)),o.destroy(h),y}function i(o,a,l){const d=l.num_faces()*3,p=d*4,h=o._malloc(p);a.GetTrianglesUInt32Array(l,p,h);const g=new Uint32Array(o.HEAPF32.buffer,h,d).slice();return o._free(h),{array:g,itemSize:1}}function r(o,a,l,f,d,p){const h=p.num_components(),v=l.num_points()*h,y=v*d.BYTES_PER_ELEMENT,x=s(o,d),_=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,p,x,y,_);const C=new d(o.HEAPF32.buffer,_,v).slice();return o._free(_),{name:f,array:C,itemSize:h}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let wp;const Jg=()=>{if(wp)return wp;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(p=>{s=p.instance,s.exports.__wasm_call_ctors()});function a(p){const h=new Uint8Array(p.length);for(let v=0;v<p.length;++v){const y=p.charCodeAt(v);h[v]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let g=0;for(let v=0;v<p.length;++v)h[g++]=h[v]<60?i[h[v]]:(h[v]-60)*64+h[++v];return h.buffer.slice(0,g)}function l(p,h,g,v,y,x){const _=s.exports.sbrk,C=g+3&-4,S=_(C*v),w=_(y.length),T=new Uint8Array(s.exports.memory.buffer);T.set(y,w);const B=p(S,g,v,w,y.length);if(B===0&&x&&x(S,C,v),h.set(T.subarray(S,S+g*v)),_(S-_(0)),B!==0)throw new Error(`Malformed buffer data: ${B}`)}const f={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return wp={ready:o,supported:!0,decodeVertexBuffer(p,h,g,v,y){l(s.exports.meshopt_decodeVertexBuffer,p,h,g,v,s.exports[f[y]])},decodeIndexBuffer(p,h,g,v){l(s.exports.meshopt_decodeIndexBuffer,p,h,g,v)},decodeIndexSequence(p,h,g,v){l(s.exports.meshopt_decodeIndexSequence,p,h,g,v)},decodeGltfBuffer(p,h,g,v,y,x){l(s.exports[d[y]],p,h,g,v,s.exports[f[x]])}},wp};let Ap=null;function NM(n,e,t){return i=>{t&&t(i),n&&(Ap||(Ap=new Ek),Ap.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),i.setDRACOLoader(Ap)),e&&i.setMeshoptDecoder(typeof Jg=="function"?Jg():Jg)}}function Md(n,e=!0,t=!0,i){return Yu(F8,n,NM(e,t,i))}Md.preload=(n,e=!0,t=!0,i)=>Yu.preload(F8,n,NM(e,t,i));Md.clear=n=>Yu.clear(F8,n);const Xg={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},bk="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/",Bk=n=>n.current&&n.current.isScene,Rk=n=>Bk(n)?n.current:n;function k8(n,e,t,i,r=0){const s=Rk(e||t),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return n!=="only"&&(s.environment=i),n&&(s.background=i),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=r),()=>{n!=="only"&&(s.environment=a),n&&(s.background=o),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function N8({scene:n,background:e=!1,blur:t,map:i}){const r=cs(s=>s.scene);return Z.useLayoutEffect(()=>{if(i)return k8(e,n,r,i,t)},[r,n,i,e,t]),null}function OM({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:i=void 0,extensions:r}){if(t){if(!(t in Xg))throw new Error("Preset must be one of: "+Object.keys(Xg).join(", "));n=Xg[t],e=bk}const s=Array.isArray(n),a=Yu(s?eM:Ak,s?[n]:n,f=>{f.setPath(e),r&&r(f)}),l=s?a[0]:a;return l.mapping=s?Ks:_u,l.encoding=i??s?qe:Zi,l}function UM({background:n=!1,scene:e,blur:t,...i}){const r=OM(i),s=cs(o=>o.scene);return Z.useLayoutEffect(()=>k8(n,e,s,r,t),[r,n,e,s,t]),null}function Pk({children:n,near:e=1,far:t=1e3,resolution:i=256,frames:r=1,map:s,background:o=!1,blur:a,scene:l,files:f,path:d,preset:p=void 0,extensions:h}){const g=cs(S=>S.gl),v=cs(S=>S.scene),y=Z.useRef(null),[x]=Z.useState(()=>new Au),_=Z.useMemo(()=>{const S=new $v(i);return S.texture.type=xr,S},[i]);Z.useLayoutEffect(()=>(r===1&&y.current.update(g,x),k8(o,l,v,_.texture,a)),[n,x,_.texture,l,v,o,r,g]);let C=1;return Zu(()=>{(r===1/0||C<r)&&(y.current.update(g,x),C++)}),Z.createElement(Z.Fragment,null,TF(Z.createElement(Z.Fragment,null,n,Z.createElement("cubeCamera",{ref:y,args:[e,t,_]}),f||p?Z.createElement(UM,{background:!0,files:f,preset:p,path:d,extensions:h}):s?Z.createElement(N8,{background:!0,map:s,extensions:h}):null),x))}function Lk(n){var e,t,i,r;const s=OM(n),o=n.map||s;Z.useMemo(()=>EM({GroundProjectedEnvImpl:ZF}),[]);const a=Z.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,f=(t=n.ground)==null?void 0:t.radius,d=(i=(r=n.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return Z.createElement(Z.Fragment,null,Z.createElement(N8,Pu({},n,{map:o})),Z.createElement("groundProjectedEnvImpl",{args:a,scale:d,height:l,radius:f}))}function O8(n){return n.ground?Z.createElement(Lk,n):n.map?Z.createElement(N8,n):n.children?Z.createElement(Pk,n):Z.createElement(UM,n)}const Ik=Z.forwardRef(({children:n,distances:e,...t},i)=>{const r=Z.useRef(null);return Z.useLayoutEffect(()=>{const{current:s}=r;s.levels.length=0,s.children.forEach((o,a)=>s.levels.push({object:o,distance:e[a]}))}),Zu(s=>{var o;return(o=r.current)==null?void 0:o.update(s.camera)}),Z.createElement("lOD",Pu({ref:XF([r,i])},t),n)});function Dk({index:n,z:e,speed:t}){const i=Z.useRef(),{viewport:r,camera:s}=cs(),{width:o,height:a}=r.getCurrentViewport(s,[0,0,-e]),{nodes:l,materials:f}=Md("/banan/banana-v1-transformed.glb"),[d]=Z.useState({y:Gr.randFloatSpread(a*2),x:Gr.randFloatSpread(2),spin:Gr.randFloat(8,12),rX:Math.random()*Math.PI,rZ:Math.random()*Math.PI});return Zu((p,h)=>{h<.1&&i.current.position.set(n===0?0:d.x*o,d.y+=h*t,-e),i.current.rotation.set(d.rX+=h/d.spin,Math.sin(n*1e3+p.clock.elapsedTime/10)*Math.PI,d.rZ+=h/d.spin),d.y>a*(n===0?4:1)&&(d.y=-(a*(n===0?4:1)))}),gr(Ik,{ref:i,distances:[0,65,80],children:[fe("mesh",{geometry:l.banana_high.geometry,material:f.skin,"material-emissive":"#ff9f00"}),fe("mesh",{geometry:l.banana_mid.geometry,material:f.skin,"material-emissive":"#ff9f00"}),fe("mesh",{geometry:l.banana_low.geometry,material:f.skin,"material-emissive":"#ff9f00"})]})}/**
 * postprocessing v6.29.3 build Sun Jan 01 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rschen
 * @license Zlib
 */var Fk=`#include <packing>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
uniform lowp sampler2D luminanceBuffer0;uniform lowp sampler2D luminanceBuffer1;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float l0=unpackRGBAToFloat(texture2D(luminanceBuffer0,vUv));
#if __VERSION__ < 300
float l1=texture2DLodEXT(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;
#else
float l1=textureLod(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;
#endif
l0=max(minLuminance,l0);l1=max(minLuminance,l1);float adaptedLum=l0+(l1-l0)*(1.0-exp(-deltaTime*tau));gl_FragColor=(adaptedLum==1.0)?vec4(1.0):packFloatToRGBA(adaptedLum);}`,Qu="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",kk=class extends yn{constructor(){super({name:"AdaptiveLuminanceMaterial",defines:{THREE_REVISION:Qo.replace(/\D+/g,""),MIP_LEVEL_1X1:"0.0"},uniforms:{luminanceBuffer0:new Ie(null),luminanceBuffer1:new Ie(null),minLuminance:new Ie(.01),deltaTime:new Ie(0),tau:new Ie(1)},extensions:{shaderTextureLOD:!0},blending:Rn,depthWrite:!1,depthTest:!1,fragmentShader:Fk,vertexShader:Qu}),this.toneMapped=!1}set luminanceBuffer0(n){this.uniforms.luminanceBuffer0.value=n}setLuminanceBuffer0(n){this.uniforms.luminanceBuffer0.value=n}set luminanceBuffer1(n){this.uniforms.luminanceBuffer1.value=n}setLuminanceBuffer1(n){this.uniforms.luminanceBuffer1.value=n}set mipLevel1x1(n){this.defines.MIP_LEVEL_1X1=n.toFixed(1),this.needsUpdate=!0}setMipLevel1x1(n){this.mipLevel1x1=n}set deltaTime(n){this.uniforms.deltaTime.value=n}setDeltaTime(n){this.uniforms.deltaTime.value=n}get minLuminance(){return this.uniforms.minLuminance.value}set minLuminance(n){this.uniforms.minLuminance.value=n}getMinLuminance(){return this.uniforms.minLuminance.value}setMinLuminance(n){this.uniforms.minLuminance.value=n}get adaptationRate(){return this.uniforms.tau.value}set adaptationRate(n){this.uniforms.tau.value=n}getAdaptationRate(){return this.uniforms.tau.value}setAdaptationRate(n){this.uniforms.tau.value=n}},Nk=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if PASS == 1
uniform vec4 kernel64[32];
#else
uniform vec4 kernel16[8];
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;
#else
float CoC=texture2D(cocBuffer,vUv).g*scale;
#endif
if(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(CoC,CoCNearFar.g*scale);
#else
vec2 step=texelSize*CoC;
#endif
#if PASS == 1
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;
#else
vec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;
#endif
}}`,Ep=class extends yn{constructor(n=!1,e=!1){super({name:"BokehMaterial",defines:{PASS:n?"2":"1"},uniforms:{inputBuffer:new Ie(null),cocBuffer:new Ie(null),texelSize:new Ie(new ve),kernel64:new Ie(null),kernel16:new Ie(null),scale:new Ie(1)},blending:Rn,depthWrite:!1,depthTest:!1,fragmentShader:Nk,vertexShader:Qu}),this.toneMapped=!1,e&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}set cocBuffer(n){this.uniforms.cocBuffer.value=n}setCoCBuffer(n){this.uniforms.cocBuffer.value=n}get scale(){return this.uniforms.scale.value}set scale(n){this.uniforms.scale.value=n}getScale(n){return this.scale}setScale(n){this.scale=n}generateKernel(){const n=2.39996323,e=new Float64Array(128),t=new Float64Array(32);let i=0,r=0;for(let s=0,o=Math.sqrt(80);s<80;++s){const a=s*n,l=Math.sqrt(s)/o,f=l*Math.cos(a),d=l*Math.sin(a);s%5===0?(t[r++]=f,t[r++]=d):(e[i++]=f,e[i++]=d)}this.uniforms.kernel64.value=e,this.uniforms.kernel16.value=t}setTexelSize(n,e){this.uniforms.texelSize.value.set(n,e)}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}};function by(n,e,t){return n*(e-t)-e}function H3(n,e,t){return Math.min(Math.max((n+e)/(e-t),0),1)}var Ok=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,Uk=class extends yn{constructor(n){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Ie(null),focusDistance:new Ie(0),focusRange:new Ie(0),cameraNear:new Ie(.3),cameraFar:new Ie(1e3)},blending:Rn,depthWrite:!1,depthTest:!1,fragmentShader:Ok,vertexShader:Qu}),this.toneMapped=!1,this.uniforms.focalLength=this.uniforms.focusRange,this.copyCameraSettings(n)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(n){this.uniforms.depthBuffer.value=n}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setDepthBuffer(n,e=fs){this.depthBuffer=n,this.depthPacking=e}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(n){this.uniforms.focusDistance.value=n}get worldFocusDistance(){return-by(this.focusDistance,this.near,this.far)}set worldFocusDistance(n){this.focusDistance=H3(-n,this.near,this.far)}getFocusDistance(n){this.uniforms.focusDistance.value=n}setFocusDistance(n){this.uniforms.focusDistance.value=n}get focalLength(){return this.focusRange}set focalLength(n){this.focusRange=n}get focusRange(){return this.uniforms.focusRange.value}set focusRange(n){this.uniforms.focusRange.value=n}get worldFocusRange(){return-by(this.focusRange,this.near,this.far)}set worldFocusRange(n){this.focusRange=H3(-n,this.near,this.far)}getFocalLength(n){return this.focusRange}setFocalLength(n){this.focusRange=n}adoptCameraSettings(n){this.copyCameraSettings(n)}copyCameraSettings(n){n&&(this.uniforms.cameraNear.value=n.near,this.uniforms.cameraFar.value=n.far,n instanceof Sn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},rt={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},zM={RED:0,GREEN:1,BLUE:2,ALPHA:3},Hs={NONE:0,DEPTH:1,CONVOLUTION:2},Ft={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},nl={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},GM={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2},Bs={REINHARD:0,REINHARD2:1,REINHARD2_ADAPTIVE:2,OPTIMIZED_CINEON:3,ACES_FILMIC:4},Tp={DEFAULT:0,ESKIL:1},zk=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
}`,Gk="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",Hk=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],HM=class extends yn{constructor(n=new kt){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Ie(null),texelSize:new Ie(new kt),scale:new Ie(1),kernel:new Ie(0)},blending:Rn,depthWrite:!1,depthTest:!1,fragmentShader:zk,vertexShader:Gk}),this.toneMapped=!1,this.setTexelSize(n.x,n.y),this.kernelSize=nl.MEDIUM}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.inputBuffer=n}get kernelSequence(){return Hk[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(n){this.uniforms.scale.value=n}getScale(){return this.uniforms.scale.value}setScale(n){this.uniforms.scale.value=n}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(n){this.uniforms.kernel.value=n}setKernel(n){this.kernel=n}setTexelSize(n,e){this.uniforms.texelSize.value.set(n,e,n*.5,e*.5)}setSize(n,e){const t=1/n,i=1/e;this.uniforms.texelSize.value.set(t,i,t*.5,i*.5)}},Vk=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
#include <dithering_fragment>
}`,VM=class extends yn{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Ie(null),opacity:new Ie(1)},blending:Rn,depthWrite:!1,depthTest:!1,fragmentShader:Vk,vertexShader:Qu}),this.toneMapped=!1}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}getOpacity(n){return this.uniforms.opacity.value}setOpacity(n){this.uniforms.opacity.value=n}},Wk=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[]=float[4](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[]=float[4](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[]=vec3[4](texture2D(normalBuffer,vUv0).rgb,texture2D(normalBuffer,vUv1).rgb,texture2D(normalBuffer,vUv2).rgb,texture2D(normalBuffer,vUv3).rgb);
#else
vec3 n[]=vec3[4](vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));
#endif
gl_FragColor=vec4(n[index],d[index]);}`,Jk="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",Xk=class extends yn{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Ie(null),normalBuffer:new Ie(null),texelSize:new Ie(new ve)},blending:Rn,depthWrite:!1,depthTest:!1,fragmentShader:Wk,vertexShader:Jk}),this.toneMapped=!1}set depthBuffer(n){this.uniforms.depthBuffer.value=n}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setDepthBuffer(n,e=fs){this.depthBuffer=n,this.depthPacking=e}set normalBuffer(n){this.uniforms.normalBuffer.value=n,n!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(n){this.normalBuffer=n}setTexelSize(n,e){this.uniforms.texelSize.value.set(n,e)}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},jk=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <encodings_fragment>
}`,Kk="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",Zk=class extends yn{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Ie(null),texelSize:new Ie(new ve)},blending:Rn,depthWrite:!1,depthTest:!1,fragmentShader:jk,vertexShader:Kk}),this.toneMapped=!1}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},Yk=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,Qk="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",qk=class extends yn{constructor(n,e,t,i,r=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Qo.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Ie(null),depthBuffer:new Ie(null),resolution:new Ie(new ve),texelSize:new Ie(new ve),cameraNear:new Ie(.3),cameraFar:new Ie(1e3),aspect:new Ie(1),time:new Ie(0)},blending:Rn,depthWrite:!1,depthTest:!1,dithering:r}),this.toneMapped=!1,n&&this.setShaderParts(n),e&&this.setDefines(e),t&&this.setUniforms(t),this.copyCameraSettings(i)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(n){this.uniforms.depthBuffer.value=n}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setDepthBuffer(n,e=fs){this.depthBuffer=n,this.depthPacking=e}setShaderData(n){this.setShaderParts(n.shaderParts),this.setDefines(n.defines),this.setUniforms(n.uniforms),this.setExtensions(n.extensions)}setShaderParts(n){var e,t,i,r,s;return this.fragmentShader=Yk.replace(Ft.FRAGMENT_HEAD,(e=n.get(Ft.FRAGMENT_HEAD))!=null?e:"").replace(Ft.FRAGMENT_MAIN_UV,(t=n.get(Ft.FRAGMENT_MAIN_UV))!=null?t:"").replace(Ft.FRAGMENT_MAIN_IMAGE,(i=n.get(Ft.FRAGMENT_MAIN_IMAGE))!=null?i:""),this.vertexShader=Qk.replace(Ft.VERTEX_HEAD,(r=n.get(Ft.VERTEX_HEAD))!=null?r:"").replace(Ft.VERTEX_MAIN_SUPPORT,(s=n.get(Ft.VERTEX_MAIN_SUPPORT))!=null?s:""),this.needsUpdate=!0,this}setDefines(n){for(const e of n.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(n){for(const e of n.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(n){this.extensions={};for(const e of n)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(n){this.encodeOutput!==n&&(n?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(n){return this.encodeOutput}setOutputEncodingEnabled(n){this.encodeOutput=n}get time(){return this.uniforms.time.value}set time(n){this.uniforms.time.value=n}setDeltaTime(n){this.uniforms.time.value+=n}adoptCameraSettings(n){this.copyCameraSettings(n)}copyCameraSettings(n){n&&(this.uniforms.cameraNear.value=n.near,this.uniforms.cameraFar.value=n.far,n instanceof Sn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(n,e){const t=this.uniforms;t.resolution.value.set(n,e),t.texelSize.value.set(1/n,1/e),t.aspect.value=n/e}static get Section(){return Ft}},$k=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,eN=class extends yn{constructor(n=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Qo.replace(/\D+/g,"")},uniforms:{inputBuffer:new Ie(null),threshold:new Ie(0),smoothing:new Ie(1),range:new Ie(null)},blending:Rn,depthWrite:!1,depthTest:!1,fragmentShader:$k,vertexShader:Qu}),this.toneMapped=!1,this.colorOutput=n,this.luminanceRange=e}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}get threshold(){return this.uniforms.threshold.value}set threshold(n){this.smoothing>0||n>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=n}getThreshold(){return this.threshold}setThreshold(n){this.threshold=n}get smoothing(){return this.uniforms.smoothing.value}set smoothing(n){this.threshold>0||n>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=n}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(n){this.smoothing=n}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(n){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(n){n?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(n){return this.colorOutput}setColorOutputEnabled(n){this.colorOutput=n}get useRange(){return this.luminanceRange!==null}set useRange(n){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(n){n!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=n,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(n){this.luminanceRange=n}},tN=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,nN=class extends yn{constructor(n=null){super({name:"MaskMaterial",uniforms:{maskTexture:new Ie(n),inputBuffer:new Ie(null),strength:new Ie(1)},blending:Rn,depthWrite:!1,depthTest:!1,fragmentShader:tN,vertexShader:Qu}),this.toneMapped=!1,this.setColorChannel(zM.RED),this.setMaskFunction(GM.DISCARD)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}set maskTexture(n){this.uniforms.maskTexture.value=n,delete this.defines.MASK_PRECISION_HIGH,n.type!==Wn&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(n){this.maskTexture=n}set colorChannel(n){this.defines.COLOR_CHANNEL=n.toFixed(0),this.needsUpdate=!0}setColorChannel(n){this.colorChannel=n}set maskFunction(n){this.defines.MASK_FUNCTION=n.toFixed(0),this.needsUpdate=!0}setMaskFunction(n){this.maskFunction=n}get inverted(){return this.defines.INVERTED!==void 0}set inverted(n){this.inverted&&!n?delete this.defines.INVERTED:n&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(n){this.inverted=n}get strength(){return this.uniforms.strength.value}set strength(n){this.uniforms.strength.value=n}getStrength(){return this.strength}setStrength(n){this.strength=n}},iN=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform vec4 maskParams;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;float linearGradientMask(const in float x){return smoothstep(maskParams.x,maskParams.y,x)-smoothstep(maskParams.w,maskParams.z,x);}void main(){vec2 dUv=vOffset*(1.0-linearGradientMask(vUv2.y));vec4 sum=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y-dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y-dUv.y));gl_FragColor=sum*0.25;
#include <encodings_fragment>
}`,rN="uniform vec4 texelSize;uniform float kernel;uniform float scale;uniform float aspect;uniform vec2 rotation;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;void main(){vec2 uv=position.xy*0.5+0.5;vUv=uv;vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));vOffset=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;gl_Position=vec4(position.xy,1.0,1.0);}",sN=class extends HM{constructor({kernelSize:n=nl.MEDIUM,offset:e=0,rotation:t=0,focusArea:i=.4,feather:r=.3}={}){super(),this.fragmentShader=iN,this.vertexShader=rN,this.kernelSize=n,this.uniforms.aspect=new Ie(1),this.uniforms.rotation=new Ie(new ve),this.uniforms.maskParams=new Ie(new kt),this._offset=e,this._focusArea=i,this._feather=r,this.rotation=t,this.updateParams()}updateParams(){const n=this.uniforms.maskParams.value,e=Math.max(this.focusArea,0),t=Math.max(e-this.feather,0);n.set(this.offset-e,this.offset-t,this.offset+e,this.offset+t)}get rotation(){return Math.acos(this.uniforms.rotation.value.x)}set rotation(n){this.uniforms.rotation.value.set(Math.cos(n),Math.sin(n))}get offset(){return this._offset}set offset(n){this._offset=n,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(n){this._focusArea=n,this.updateParams()}get feather(){return this._feather}set feather(n){this._feather=n,this.updateParams()}setSize(n,e){super.setSize(n,e),this.uniforms.aspect.value=n/e}},oN=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <encodings_fragment>
}`,aN="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",lN=class extends yn{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Ie(null),supportBuffer:new Ie(null),texelSize:new Ie(new ve),radius:new Ie(.85)},blending:Rn,depthWrite:!1,depthTest:!1,fragmentShader:oN,vertexShader:aN}),this.toneMapped=!1}set inputBuffer(n){this.uniforms.inputBuffer.value=n}set supportBuffer(n){this.uniforms.supportBuffer.value=n}get radius(){return this.uniforms.radius.value}set radius(n){this.uniforms.radius.value=n}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},uN=new Uu,xo=null;function cN(){if(xo===null){const n=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);xo=new ft,xo.setAttribute!==void 0?(xo.setAttribute("position",new Tt(n,3)),xo.setAttribute("uv",new Tt(e,2))):(xo.addAttribute("position",new Tt(n,3)),xo.addAttribute("uv",new Tt(e,2)))}return xo}var Mi=class{constructor(n="Pass",e=new Au,t=uN){this.name=n,this.renderer=null,this.scene=e,this.camera=t,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(n){if(this.rtt===n){const e=this.fullscreenMaterial;e!==null&&(e.needsUpdate=!0),this.rtt=!n}}set mainScene(n){}set mainCamera(n){}setRenderer(n){this.renderer=n}isEnabled(){return this.enabled}setEnabled(n){this.enabled=n}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(n){let e=this.screen;e!==null?e.material=n:(e=new Bn(cN(),n),e.frustumCulled=!1,this.scene===null&&(this.scene=new Au),this.scene.add(e),this.screen=e)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(n){this.fullscreenMaterial=n}getDepthTexture(){return null}setDepthTexture(n,e=fs){}render(n,e,t,i,r){throw new Error("Render method not implemented!")}setSize(n,e){}initialize(n,e,t){}dispose(){for(const n of Object.keys(this)){const e=this[n];(e instanceof jt||e instanceof vn||e instanceof Yt||e instanceof Mi)&&this[n].dispose()}}},WM=class extends Mi{constructor(n,e=!0){super("CopyPass"),this.fullscreenMaterial=new VM,this.needsSwap=!1,this.renderTarget=n,n===void 0&&(this.renderTarget=new jt(1,1,{minFilter:Gt,magFilter:Gt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(n){this.autoResize=n}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(n){this.autoResize=n}render(n,e,t,i,r){this.fullscreenMaterial.inputBuffer=e.texture,n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){this.autoResize&&this.renderTarget.setSize(n,e)}initialize(n,e,t){t!==void 0&&(this.renderTarget.texture.type=t,t!==Wn?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":n.outputEncoding===qe&&(this.renderTarget.texture.encoding=qe))}},fN=class extends Mi{constructor(n,{minLuminance:e=.01,adaptationRate:t=1}={}){super("AdaptiveLuminancePass"),this.fullscreenMaterial=new kk,this.needsSwap=!1,this.renderTargetPrevious=new jt(1,1,{minFilter:Wt,magFilter:Wt,depthBuffer:!1}),this.renderTargetPrevious.texture.name="Luminance.Previous";const i=this.fullscreenMaterial;i.luminanceBuffer0=this.renderTargetPrevious.texture,i.luminanceBuffer1=n,i.minLuminance=e,i.adaptationRate=t,this.renderTargetAdapted=this.renderTargetPrevious.clone(),this.renderTargetAdapted.texture.name="Luminance.Adapted",this.copyPass=new WM(this.renderTargetPrevious,!1)}get texture(){return this.renderTargetAdapted.texture}getTexture(){return this.renderTargetAdapted.texture}set mipLevel1x1(n){this.fullscreenMaterial.mipLevel1x1=n}get adaptationRate(){return this.fullscreenMaterial.adaptationRate}set adaptationRate(n){this.fullscreenMaterial.adaptationRate=n}render(n,e,t,i,r){this.fullscreenMaterial.deltaTime=i,n.setRenderTarget(this.renderToScreen?null:this.renderTargetAdapted),n.render(this.scene,this.camera),this.copyPass.render(n,this.renderTargetAdapted)}},dN=class extends Mi{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(n,e,t,i,r){const s=n.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},By=new Oe,JM=class extends Mi{constructor(n=!0,e=!0,t=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=n,this.depth=e,this.stencil=t,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(n,e,t){this.color=n,this.depth=e,this.stencil=t}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(n){this.overrideClearColor=n}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(n){this.overrideClearAlpha=n}render(n,e,t,i,r){const s=this.overrideClearColor,o=this.overrideClearAlpha,a=n.getClearAlpha(),l=s!==null,f=o>=0;l?(n.getClearColor(By),n.setClearColor(s,f?o:a)):f&&n.setClearAlpha(o),n.setRenderTarget(this.renderToScreen?null:e),n.clear(this.color,this.depth,this.stencil),l?n.setClearColor(By,a):f&&n.setClearAlpha(a)}},_o=-1,rn=class extends Sr{constructor(n,e=_o,t=_o,i=1){super(),this.resizable=n,this.baseSize=new ve(1,1),this.preferredSize=new ve(e,t),this.target=this.preferredSize,this.s=i,this.effectiveSize=new ve,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const n=this.baseSize,e=this.preferredSize,t=this.effectiveSize,i=this.scale;e.width!==_o?t.width=e.width:e.height!==_o?t.width=Math.round(e.height*(n.width/Math.max(n.height,1))):t.width=Math.round(n.width*i),e.height!==_o?t.height=e.height:e.width!==_o?t.height=Math.round(e.width/Math.max(n.width/Math.max(n.height,1),1)):t.height=Math.round(n.height*i)}get width(){return this.effectiveSize.width}set width(n){this.preferredWidth=n}get height(){return this.effectiveSize.height}set height(n){this.preferredHeight=n}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(n){this.s!==n&&(this.s=n,this.preferredSize.setScalar(_o),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(n){this.scale=n}get baseWidth(){return this.baseSize.width}set baseWidth(n){this.baseSize.width!==n&&(this.baseSize.width=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(n){this.baseWidth=n}get baseHeight(){return this.baseSize.height}set baseHeight(n){this.baseSize.height!==n&&(this.baseSize.height=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(n){this.baseHeight=n}setBaseSize(n,e){(this.baseSize.width!==n||this.baseSize.height!==e)&&(this.baseSize.set(n,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(n){this.preferredSize.width!==n&&(this.preferredSize.width=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(n){this.preferredWidth=n}get preferredHeight(){return this.preferredSize.height}set preferredHeight(n){this.preferredSize.height!==n&&(this.preferredSize.height=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(n){this.preferredHeight=n}setPreferredSize(n,e){(this.preferredSize.width!==n||this.preferredSize.height!==e)&&(this.preferredSize.set(n,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(n){this.s=n.scale,this.baseSize.set(n.baseWidth,n.baseHeight),this.preferredSize.set(n.preferredWidth,n.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return _o}},jg=!1,Ry=class{constructor(n=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(n),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case rs:t=this.materialsFlatShadedDoubleSide;break;case Yn:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded;break}else switch(e.material.side){case rs:t=this.materialsDoubleSide;break;case Yn:t=this.materialsBackSide;break;default:t=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}setMaterial(n){if(this.disposeMaterials(),this.material=n,n!==null){const e=this.materials=[n.clone(),n.clone(),n.clone()];for(const t of e)t.uniforms=Object.assign({},n.uniforms),t.side=us;e[2].skinning=!0,this.materialsBackSide=e.map(t=>{const i=t.clone();return i.uniforms=Object.assign({},n.uniforms),i.side=Yn,i}),this.materialsDoubleSide=e.map(t=>{const i=t.clone();return i.uniforms=Object.assign({},n.uniforms),i.side=rs,i}),this.materialsFlatShaded=e.map(t=>{const i=t.clone();return i.uniforms=Object.assign({},n.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=e.map(t=>{const i=t.clone();return i.uniforms=Object.assign({},n.uniforms),i.flatShading=!0,i.side=Yn,i}),this.materialsFlatShadedDoubleSide=e.map(t=>{const i=t.clone();return i.uniforms=Object.assign({},n.uniforms),i.flatShading=!0,i.side=rs,i})}}render(n,e,t){const i=n.shadowMap.enabled;if(n.shadowMap.enabled=!1,jg){const r=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),n.render(e,t);for(const s of r)s[0].material=s[1];this.meshCount!==r.size&&r.clear()}else{const r=e.overrideMaterial;e.overrideMaterial=this.material,n.render(e,t),e.overrideMaterial=r}n.shadowMap.enabled=i}disposeMaterials(){if(this.material!==null){const n=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of n)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return jg}static set workaroundEnabled(n){jg=n}},XM=class extends Mi{constructor(n,e,t=null){super("RenderPass",n,e),this.needsSwap=!1,this.clearPass=new JM,this.overrideMaterialManager=t===null?null:new Ry(t),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(n){this.scene=n}set mainCamera(n){this.camera=n}get renderToScreen(){return super.renderToScreen}set renderToScreen(n){super.renderToScreen=n,this.clearPass.renderToScreen=n}get overrideMaterial(){const n=this.overrideMaterialManager;return n!==null?n.material:null}set overrideMaterial(n){const e=this.overrideMaterialManager;n!==null?e!==null?e.setMaterial(n):this.overrideMaterialManager=new Ry(n):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(n){this.overrideMaterial=n}get clear(){return this.clearPass.enabled}set clear(n){this.clearPass.enabled=n}getSelection(){return this.selection}setSelection(n){this.selection=n}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(n){this.ignoreBackground=n}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(n){this.skipShadowMapUpdate=n}getClearPass(){return this.clearPass}render(n,e,t,i,r){const s=this.scene,o=this.camera,a=this.selection,l=o.layers.mask,f=s.background,d=n.shadowMap.autoUpdate,p=this.renderToScreen?null:e;a!==null&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(n.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(n,e),n.setRenderTarget(p),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(n,s,o):n.render(s,o),o.layers.mask=l,s.background=f,n.shadowMap.autoUpdate=d}},hN=class extends Mi{constructor({normalBuffer:n=null,resolutionScale:e=.5,width:t=rn.AUTO_SIZE,height:i=rn.AUTO_SIZE,resolutionX:r=t,resolutionY:s=i}={}){super("DepthDownsamplingPass");const o=new Xk;o.normalBuffer=n,this.fullscreenMaterial=o,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new jt(1,1,{minFilter:Wt,magFilter:Wt,depthBuffer:!1,type:Wi}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const a=this.resolution=new rn(this,r,s,e);a.addEventListener("change",l=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(n,e=fs){this.fullscreenMaterial.depthBuffer=n,this.fullscreenMaterial.depthPacking=e}render(n,e,t,i,r){n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height),this.fullscreenMaterial.setSize(n,e)}initialize(n,e,t){const i=n.getContext();if(!(i.getExtension("EXT_color_buffer_float")||i.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}};function Py(n,e,t){for(const i of e){const r="$1"+n+i.charAt(0).toUpperCase()+i.slice(1),s=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(const o of t.entries())o[1]!==null&&t.set(o[0],o[1].replace(s,r))}}function pN(n,e,t){var i,r,s,o,a;let l=e.getFragmentShader(),f=e.getVertexShader();const d=l!==void 0&&/mainImage/.test(l),p=l!==void 0&&/mainUv/.test(l);if(t.attributes|=e.getAttributes(),l===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(p&&t.attributes&Hs.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!d&&!p)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const h=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,g=t.shaderParts;let v=(i=g.get(Ft.FRAGMENT_HEAD))!=null?i:"",y=(r=g.get(Ft.FRAGMENT_MAIN_UV))!=null?r:"",x=(s=g.get(Ft.FRAGMENT_MAIN_IMAGE))!=null?s:"",_=(o=g.get(Ft.VERTEX_HEAD))!=null?o:"",C=(a=g.get(Ft.VERTEX_MAIN_SUPPORT))!=null?a:"";const S=new Set,w=new Set;if(p&&(y+=`	${n}MainUv(UV);
`,t.uvTransformation=!0),f!==null&&/mainSupport/.test(f)){const R=/mainSupport *\([\w\s]*?uv\s*?\)/.test(f);C+=`	${n}MainSupport(`,C+=R?`vUv);
`:`);
`;for(const E of f.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const P of E[1].split(/\s*,\s*/))t.varyings.add(P),S.add(P),w.add(P);for(const E of f.matchAll(h))w.add(E[1])}for(const R of l.matchAll(h))w.add(R[1]);for(const R of e.defines.keys())w.add(R.replace(/\([\w\s,]*\)/g,""));for(const R of e.uniforms.keys())w.add(R);w.delete("while"),w.delete("for"),w.delete("if"),e.uniforms.forEach((R,E)=>t.uniforms.set(n+E.charAt(0).toUpperCase()+E.slice(1),R)),e.defines.forEach((R,E)=>t.defines.set(n+E.charAt(0).toUpperCase()+E.slice(1),R));const T=new Map([["fragment",l],["vertex",f]]);Py(n,w,t.defines),Py(n,w,T),l=T.get("fragment"),f=T.get("vertex");const B=e.blendMode;if(t.blendModes.set(B.blendFunction,B),d){e.inputColorSpace!==null&&e.inputColorSpace!==t.colorSpace&&(x+=e.inputColorSpace===qe?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==null?t.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(t.colorSpace=e.inputColorSpace);const R=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;x+=`${n}MainImage(color0, UV, `,t.attributes&Hs.DEPTH&&R.test(l)&&(x+="depth, ",t.readDepth=!0),x+=`color1);
	`;const E=n+"BlendOpacity";t.uniforms.set(E,B.opacity),x+=`color0 = blend${B.blendFunction}(color0, color1, ${E});

	`,v+=`uniform float ${E};

`}if(v+=l+`
`,f!==null&&(_+=f+`
`),g.set(Ft.FRAGMENT_HEAD,v),g.set(Ft.FRAGMENT_MAIN_UV,y),g.set(Ft.FRAGMENT_MAIN_IMAGE,x),g.set(Ft.VERTEX_HEAD,_),g.set(Ft.VERTEX_MAIN_SUPPORT,C),e.extensions!==null)for(const R of e.extensions)t.extensions.add(R)}}var mN=class extends Mi{constructor(n,...e){super("EffectPass"),this.fullscreenMaterial=new qk(null,null,null,n),this.listener=t=>this.handleEvent(t),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(n){for(const e of this.effects)e.mainScene=n}set mainCamera(n){this.fullscreenMaterial.copyCameraSettings(n);for(const e of this.effects)e.mainCamera=n}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(n){this.fullscreenMaterial.encodeOutput=n}get dithering(){return this.fullscreenMaterial.dithering}set dithering(n){const e=this.fullscreenMaterial;e.dithering=n,e.needsUpdate=!0}setEffects(n){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=n.sort((e,t)=>t.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const n=new SN;let e=0;for(const o of this.effects)if(o.blendMode.blendFunction===rt.DST)n.attributes|=o.getAttributes()&Hs.DEPTH;else{if(n.attributes&o.getAttributes()&Hs.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);pN("e"+e++,o,n)}let t=n.shaderParts.get(Ft.FRAGMENT_HEAD),i=n.shaderParts.get(Ft.FRAGMENT_MAIN_IMAGE),r=n.shaderParts.get(Ft.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const o of n.blendModes.values())t+=o.getShaderCode().replace(s,`blend${o.blendFunction}`)+`
`;n.attributes&Hs.DEPTH?(n.readDepth&&(i=`float depth = readDepth(UV);

	`+i),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,n.colorSpace===qe&&(i+=`color0 = sRGBToLinear(color0);
	`),n.uvTransformation?(r=`vec2 transformedUv = vUv;
`+r,n.defines.set("UV","transformedUv")):n.defines.set("UV","vUv"),n.shaderParts.set(Ft.FRAGMENT_HEAD,t),n.shaderParts.set(Ft.FRAGMENT_MAIN_IMAGE,i),n.shaderParts.set(Ft.FRAGMENT_MAIN_UV,r),n.shaderParts.forEach((o,a,l)=>l.set(a,o==null?void 0:o.trim().replace(/^#/,`
#`))),this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(n)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(n,e=fs){this.fullscreenMaterial.depthBuffer=n,this.fullscreenMaterial.depthPacking=e;for(const t of this.effects)t.setDepthTexture(n,e)}render(n,e,t,i,r){for(const s of this.effects)s.update(n,e,i);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=i*this.timeScale,n.setRenderTarget(this.renderToScreen?null:t),n.render(this.scene,this.camera)}}setSize(n,e){this.fullscreenMaterial.setSize(n,e);for(const t of this.effects)t.setSize(n,e)}initialize(n,e,t){this.renderer=n;for(const i of this.effects)i.initialize(n,e,t);this.updateMaterial(),t!==void 0&&t!==Wn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const n of this.effects)n.removeEventListener("change",this.listener),n.dispose()}handleEvent(n){switch(n.type){case"change":this.recompile();break}}},U8=class extends Mi{constructor({kernelSize:n=nl.MEDIUM,resolutionScale:e=.5,width:t=rn.AUTO_SIZE,height:i=rn.AUTO_SIZE,resolutionX:r=t,resolutionY:s=i}={}){super("KawaseBlurPass"),this.renderTargetA=new jt(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new rn(this,r,s,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new HM,this._blurMaterial.kernelSize=n,this.copyMaterial=new VM}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(n){this._blurMaterial=n}get dithering(){return this.copyMaterial.dithering}set dithering(n){this.copyMaterial.dithering=n}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(n){this.blurMaterial.kernelSize=n}get width(){return this.resolution.width}set width(n){this.resolution.preferredWidth=n}get height(){return this.resolution.height}set height(n){this.resolution.preferredHeight=n}get scale(){return this.blurMaterial.scale}set scale(n){this.blurMaterial.scale=n}getScale(){return this.blurMaterial.scale}setScale(n){this.blurMaterial.scale=n}getKernelSize(){return this.kernelSize}setKernelSize(n){this.kernelSize=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}render(n,e,t,i,r){const s=this.scene,o=this.camera,a=this.renderTargetA,l=this.renderTargetB,f=this.blurMaterial,d=f.kernelSequence;let p=e;this.fullscreenMaterial=f;for(let h=0,g=d.length;h<g;++h){const v=h&1?l:a;f.kernel=d[h],f.inputBuffer=p.texture,n.setRenderTarget(v),n.render(s,o),p=v}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=p.texture,n.setRenderTarget(this.renderToScreen?null:t),n.render(s,o)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e);const i=t.width,r=t.height;this.renderTargetA.setSize(i,r),this.renderTargetB.setSize(i,r),this.blurMaterial.setSize(n,e)}initialize(n,e,t){t!==void 0&&(this.renderTargetA.texture.type=t,this.renderTargetB.texture.type=t,t!==Wn?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):n.outputEncoding===qe&&(this.renderTargetA.texture.encoding=qe,this.renderTargetB.texture.encoding=qe))}static get AUTO_SIZE(){return rn.AUTO_SIZE}},jM=class extends Mi{constructor({renderTarget:n,luminanceRange:e,colorOutput:t,resolutionScale:i=1,width:r=rn.AUTO_SIZE,height:s=rn.AUTO_SIZE,resolutionX:o=r,resolutionY:a=s}={}){super("LuminancePass"),this.fullscreenMaterial=new eN(t,e),this.needsSwap=!1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new jt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new rn(this,o,a,i);l.addEventListener("change",f=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(n,e,t,i,r){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height)}initialize(n,e,t){t!==void 0&&t!==Wn&&(this.renderTarget.texture.type=t,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},gN=class extends Mi{constructor(n,e){super("MaskPass",n,e),this.needsSwap=!1,this.clearPass=new JM(!1,!1,!0),this.inverse=!1}set mainScene(n){this.scene=n}set mainCamera(n){this.camera=n}get inverted(){return this.inverse}set inverted(n){this.inverse=n}get clear(){return this.clearPass.enabled}set clear(n){this.clearPass.enabled=n}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(n){this.inverted=n}render(n,e,t,i,r){const s=n.getContext(),o=n.state.buffers,a=this.scene,l=this.camera,f=this.clearPass,d=this.inverted?0:1,p=1-d;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.stencil.setFunc(s.ALWAYS,d,4294967295),o.stencil.setClear(p),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?f.render(n,null):(f.render(n,e),f.render(n,t))),this.renderToScreen?(n.setRenderTarget(null),n.render(a,l)):(n.setRenderTarget(e),n.render(a,l),n.setRenderTarget(t),n.render(a,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(s.EQUAL,1,4294967295),o.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.stencil.setLocked(!0)}},vN=class extends Mi{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new jt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new Zk,this.upsamplingMaterial=new lN,this.resolution=new ve}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(n){if(this.levels!==n){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let t=0;t<n;++t){const i=e.clone();i.texture.name="Downsampling.Mipmap"+t,this.downsamplingMipmaps.push(i)}this.upsamplingMipmaps.push(e);for(let t=1,i=n-1;t<i;++t){const r=e.clone();r.texture.name="Upsampling.Mipmap"+t,this.upsamplingMipmaps.push(r)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(n){this.upsamplingMaterial.radius=n}render(n,e,t,i,r){const{scene:s,camera:o}=this,{downsamplingMaterial:a,upsamplingMaterial:l}=this,{downsamplingMipmaps:f,upsamplingMipmaps:d}=this;let p=e;this.fullscreenMaterial=a;for(let h=0,g=f.length;h<g;++h){const v=f[h];a.setSize(p.width,p.height),a.inputBuffer=p.texture,n.setRenderTarget(v),n.render(s,o),p=v}this.fullscreenMaterial=l;for(let h=d.length-1;h>=0;--h){const g=d[h];l.setSize(p.width,p.height),l.inputBuffer=p.texture,l.supportBuffer=f[h].texture,n.setRenderTarget(g),n.render(s,o),p=g}}setSize(n,e){const t=this.resolution;t.set(n,e);let i=t.width,r=t.height;for(let s=0,o=this.downsamplingMipmaps.length;s<o;++s)i=Math.round(i*.5),r=Math.round(r*.5),this.downsamplingMipmaps[s].setSize(i,r),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(i,r)}initialize(n,e,t){if(t!==void 0){const i=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const r of i)r.texture.type=t;if(t!==Wn)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(n.outputEncoding===qe)for(const r of i)r.texture.encoding=qe}}dispose(){super.dispose();for(const n of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))n.dispose()}},yN=class extends Mi{constructor(n,e,{renderTarget:t,resolutionScale:i=1,width:r=rn.AUTO_SIZE,height:s=rn.AUTO_SIZE,resolutionX:o=r,resolutionY:a=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new XM(n,e,new g8);const l=this.renderPass;l.ignoreBackground=!0,l.skipShadowMapUpdate=!0;const f=l.getClearPass();f.overrideClearColor=new Oe(7829503),f.overrideClearAlpha=1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new jt(1,1,{minFilter:Wt,magFilter:Wt}),this.renderTarget.texture.name="NormalPass.Target");const d=this.resolution=new rn(this,o,a,i);d.addEventListener("change",p=>this.setSize(d.baseWidth,d.baseHeight))}set mainScene(n){this.renderPass.mainScene=n}set mainCamera(n){this.renderPass.mainCamera=n}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}render(n,e,t,i,r){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(n,s,s)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height)}},Ol=class extends Mi{constructor(n,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=n,this.input=e}setInput(n){this.input=n}render(n,e,t,i,r){const s=this.fullscreenMaterial.uniforms;e!==null&&s!==void 0&&s[this.input]!==void 0&&(s[this.input].value=e.texture),n.setRenderTarget(this.renderToScreen?null:t),n.render(this.scene,this.camera)}initialize(n,e,t){t!==void 0&&t!==Wn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},xN=class extends U8{constructor({offset:n=0,rotation:e=0,focusArea:t=.4,feather:i=.3,kernelSize:r=nl.MEDIUM,resolutionScale:s=.5,resolutionX:o=rn.AUTO_SIZE,resolutionY:a=rn.AUTO_SIZE}={}){super({kernelSize:r,resolutionScale:s,resolutionX:o,resolutionY:a}),this.blurMaterial=new sN({kernelSize:r,offset:n,rotation:e,focusArea:t,feather:i})}},Kg=1/1e3,_N=1e3,CN=class{constructor(){this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(n){typeof document<"u"&&document.hidden!==void 0&&(n?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=n)}get delta(){return this._delta*Kg}get fixedDelta(){return this._fixedDelta*Kg}set fixedDelta(n){this._fixedDelta=n*_N}get elapsed(){return this._elapsed*Kg}update(n){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=n!==void 0?n:performance.now(),this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()}handleEvent(n){document.hidden||(this.currentTime=performance.now())}dispose(){this.autoReset=!1}},MN=class{constructor(e=null,{depthBuffer:t=!0,stencilBuffer:i=!1,multisampling:r=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(t,i,s,r),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new WM,this.depthTexture=null,this.passes=[],this.timer=new CN,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const t=this.inputBuffer,i=this.multisampling;i>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):i!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const t=e.getSize(new ve),i=e.getContext().getContextAttributes().alpha,r=this.inputBuffer.texture.type;r===Wn&&e.outputEncoding===qe&&(this.inputBuffer.texture.encoding=qe,this.outputBuffer.texture.encoding=qe,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(t.width,t.height);for(const s of this.passes)s.initialize(e,i,r)}}replaceRenderer(e,t=!0){const i=this.renderer,r=i.domElement.parentNode;return this.setRenderer(e),t&&r!==null&&(r.removeChild(i.domElement),r.appendChild(e.domElement)),i}createDepthTexture(){const e=this.depthTexture=new i8;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=Jo,e.type=Oo):e.type=Ns,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,i,r){const s=this.renderer,o=s===null?new ve:s.getDrawingBufferSize(new ve),a={minFilter:Gt,magFilter:Gt,stencilBuffer:t,depthBuffer:e,type:i};let l;return r>0?(l=Number(Qo.replace(/\D+/g,""))<138?new hM(o.width,o.height,a):new jt(o.width,o.height,a),l.ignoreDepthForMultisampleCopy=!1,l.samples=r):l=new jt(o.width,o.height,a),i===Wn&&s!==null&&s.outputEncoding===qe&&(l.texture.encoding=qe),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(e){for(const t of this.passes)t.mainScene=e}setMainCamera(e){for(const t of this.passes)t.mainCamera=e}addPass(e,t){const i=this.passes,r=this.renderer,s=r.getDrawingBufferSize(new ve),o=r.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(r),e.setSize(s.width,s.height),e.initialize(r,o,a),this.autoRenderToScreen&&(i.length>0&&(i[i.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?i.splice(t,0,e):i.push(e),this.autoRenderToScreen&&(i[i.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(e of i)e.setDepthTexture(l)}else e.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,i=t.indexOf(e);if(i!==-1&&t.splice(i,1).length>0){if(this.depthTexture!==null){const o=(l,f)=>l||f.needsDepthTexture;t.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&i===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const t=this.renderer,i=this.copyPass;let r=this.inputBuffer,s=this.outputBuffer,o=!1,a,l,f;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const d of this.passes)d.enabled&&(d.render(t,r,s,e,o),d.needsSwap&&(o&&(i.renderToScreen=d.renderToScreen,a=t.getContext(),l=t.state.buffers.stencil,l.setFunc(a.NOTEQUAL,1,4294967295),i.render(t,r,s,e,o),l.setFunc(a.EQUAL,1,4294967295)),f=r,r=s,s=f),d instanceof gN?o=!0:d instanceof dN&&(o=!1))}setSize(e,t,i){const r=this.renderer,s=r.getSize(new ve);(e===void 0||t===void 0)&&(e=s.width,t=s.height),(s.width!==e||s.height!==t)&&r.setSize(e,t,i);const o=r.getDrawingBufferSize(new ve);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},SN=class{constructor(){this.shaderParts=new Map([[Ft.FRAGMENT_HEAD,null],[Ft.FRAGMENT_MAIN_UV,null],[Ft.FRAGMENT_MAIN_IMAGE,null],[Ft.VERTEX_HEAD,null],[Ft.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Hs.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=Zi}},wN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",AN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",EN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",TN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",bN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",BN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",RN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",PN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",LN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",IN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",DN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",FN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",kN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",NN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",ON="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",UN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",zN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",GN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",HN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",VN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",WN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",JN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",XN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",jN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",KN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",ZN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",YN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",QN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",qN="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",$N="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",eO="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",tO="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",nO=new Map([[rt.ADD,wN],[rt.ALPHA,AN],[rt.AVERAGE,EN],[rt.COLOR,TN],[rt.COLOR_BURN,bN],[rt.COLOR_DODGE,BN],[rt.DARKEN,RN],[rt.DIFFERENCE,PN],[rt.DIVIDE,LN],[rt.DST,null],[rt.EXCLUSION,IN],[rt.HARD_LIGHT,DN],[rt.HARD_MIX,FN],[rt.HUE,kN],[rt.INVERT,NN],[rt.INVERT_RGB,ON],[rt.LIGHTEN,UN],[rt.LINEAR_BURN,zN],[rt.LINEAR_DODGE,GN],[rt.LINEAR_LIGHT,HN],[rt.LUMINOSITY,VN],[rt.MULTIPLY,WN],[rt.NEGATION,JN],[rt.NORMAL,XN],[rt.OVERLAY,jN],[rt.PIN_LIGHT,KN],[rt.REFLECT,ZN],[rt.SATURATION,YN],[rt.SCREEN,QN],[rt.SOFT_LIGHT,qN],[rt.SRC,$N],[rt.SUBTRACT,eO],[rt.VIVID_LIGHT,tO]]),iO=class extends Sr{constructor(n,e=1){super(),this._blendFunction=n,this.opacity=new Ie(e)}getOpacity(){return this.opacity.value}setOpacity(n){this.opacity.value=n}get blendFunction(){return this._blendFunction}set blendFunction(n){this._blendFunction=n,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(n){this.blendFunction=n}getShaderCode(){return nO.get(this.blendFunction)}},Di=class extends Sr{constructor(n,e,{attributes:t=Hs.NONE,blendFunction:i=rt.NORMAL,defines:r=new Map,uniforms:s=new Map,extensions:o=null,vertexShader:a=null}={}){super(),this.name=n,this.renderer=null,this.attributes=t,this.fragmentShader=e,this.vertexShader=a,this.defines=r,this.uniforms=s,this.extensions=o,this.blendMode=new iO(i),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=Zi,this._outputColorSpace=null}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(n){this._inputColorSpace=n,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(n){this._outputColorSpace=n,this.setChanged()}set mainScene(n){}set mainCamera(n){}getName(){return this.name}setRenderer(n){this.renderer=n}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(n){this.attributes=n,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(n){this.fragmentShader=n,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(n){this.vertexShader=n,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(n,e=fs){}update(n,e,t){}setSize(n,e){}initialize(n,e,t){}dispose(){for(const n of Object.keys(this)){const e=this[n];(e instanceof jt||e instanceof vn||e instanceof Yt||e instanceof Mi)&&this[n].dispose()}}},rO=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,sO=class extends Di{constructor({blendFunction:n=rt.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:t=.025,mipmapBlur:i=!1,intensity:r=1,radius:s=.85,levels:o=8,kernelSize:a=nl.LARGE,resolutionScale:l=.5,width:f=rn.AUTO_SIZE,height:d=rn.AUTO_SIZE,resolutionX:p=f,resolutionY:h=d}={}){super("BloomEffect",rO,{blendFunction:n,uniforms:new Map([["map",new Ie(null)],["intensity",new Ie(r)]])}),this.renderTarget=new jt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new U8({kernelSize:a}),this.luminancePass=new jM({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=t,this.mipmapBlurPass=new vN,this.mipmapBlurPass.enabled=i,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=i?this.mipmapBlurPass.texture:this.renderTarget.texture;const g=this.resolution=new rn(this,p,h,l);g.addEventListener("change",v=>this.setSize(g.baseWidth,g.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(n){this.resolution.preferredWidth=n}get height(){return this.resolution.height}set height(n){this.resolution.preferredHeight=n}get dithering(){return this.blurPass.dithering}set dithering(n){this.blurPass.dithering=n}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(n){this.blurPass.kernelSize=n}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(n){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(n){this.uniforms.get("intensity").value=n}getIntensity(){return this.intensity}setIntensity(n){this.intensity=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}update(n,e,t){const i=this.renderTarget,r=this.luminancePass;r.enabled?(r.render(n,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(n,r.renderTarget):this.blurPass.render(n,r.renderTarget,i)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(n,e):this.blurPass.render(n,e,i)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height),this.blurPass.resolution.copy(t),this.luminancePass.setSize(n,e),this.mipmapBlurPass.setSize(n,e)}initialize(n,e,t){this.blurPass.initialize(n,e,t),this.luminancePass.initialize(n,e,t),this.mipmapBlurPass.initialize(n,e,t),t!==void 0&&(this.renderTarget.texture.type=t,n.outputEncoding===qe&&(this.renderTarget.texture.encoding=qe))}},oO="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(color+vec3(0.5),inputColor.a);}",aO=class extends Di{constructor({blendFunction:n=rt.SRC,brightness:e=0,contrast:t=0}={}){super("BrightnessContrastEffect",oO,{blendFunction:n,uniforms:new Map([["brightness",new Ie(e)],["contrast",new Ie(t)]])}),this.inputColorSpace=qe}get brightness(){return this.uniforms.get("brightness").value}set brightness(n){this.uniforms.get("brightness").value=n}getBrightness(n){return this.brightness}setBrightness(n){this.brightness=n}get contrast(){return this.uniforms.get("contrast").value}set contrast(n){this.uniforms.get("contrast").value=n}getContrast(n){return this.contrast}setContrast(n){this.contrast=n}},lO="uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}",uO=class extends Di{constructor({blendFunction:n,bits:e=16}={}){super("ColorDepthEffect",lO,{blendFunction:n,uniforms:new Map([["factor",new Ie(1)]])}),this.bits=0,this.bitDepth=e}get bitDepth(){return this.bits}set bitDepth(n){this.bits=n,this.uniforms.get("factor").value=Math.pow(2,n/3)}getBitDepth(){return this.bitDepth}setBitDepth(n){this.bitDepth=n}},cO=`void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){
#ifdef INVERTED
vec3 color=vec3(1.0-depth);
#else
vec3 color=vec3(depth);
#endif
outputColor=vec4(color,inputColor.a);}`,fO=class extends Di{constructor({blendFunction:n=rt.SRC,inverted:e=!1}={}){super("DepthEffect",cO,{blendFunction:n,attributes:Hs.DEPTH}),this.inverted=e}get inverted(){return this.defines.has("INVERTED")}set inverted(n){this.inverted!==n&&(n?this.defines.set("INVERTED","1"):this.defines.delete("INVERTED"),this.setChanged())}isInverted(){return this.inverted}setInverted(n){this.inverted=n}},dO=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float cocNear=texture2D(nearCoCBuffer,uv).r;cocNear=min(cocNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,cocNear);outputColor=result;}`,hO=class extends Di{constructor(n,{blendFunction:e,worldFocusDistance:t,worldFocusRange:i,focusDistance:r=0,focalLength:s=.1,focusRange:o=s,bokehScale:a=1,resolutionScale:l=1,width:f=rn.AUTO_SIZE,height:d=rn.AUTO_SIZE,resolutionX:p=f,resolutionY:h=d}={}){super("DepthOfFieldEffect",dO,{blendFunction:e,attributes:Hs.DEPTH,uniforms:new Map([["nearColorBuffer",new Ie(null)],["farColorBuffer",new Ie(null)],["nearCoCBuffer",new Ie(null)],["scale",new Ie(1)]])}),this.camera=n,this.renderTarget=new jt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new Ol(new Uk(n));const g=this.cocMaterial;g.focusDistance=r,g.focusRange=o,t!==void 0&&(g.worldFocusDistance=t),i!==void 0&&(g.worldFocusRange=i),this.blurPass=new U8({resolutionScale:l,resolutionX:p,resolutionY:h,kernelSize:nl.MEDIUM}),this.maskPass=new Ol(new nN(this.renderTargetCoC.texture));const v=this.maskPass.fullscreenMaterial;v.maskFunction=GM.MULTIPLY,v.colorChannel=zM.GREEN,this.bokehNearBasePass=new Ol(new Ep(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new Ol(new Ep(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new Ol(new Ep(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new Ol(new Ep(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null;const y=this.resolution=new rn(this,p,h,l);y.addEventListener("change",x=>this.setSize(y.baseWidth,y.baseHeight)),this.bokehScale=a}set mainCamera(n){this.camera=n,this.cocMaterial.copyCameraSettings(n)}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}getResolution(){return this.resolution}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(n){this.bokehNearBasePass.fullscreenMaterial.scale=n,this.bokehNearFillPass.fullscreenMaterial.scale=n,this.bokehFarBasePass.fullscreenMaterial.scale=n,this.bokehFarFillPass.fullscreenMaterial.scale=n,this.maskPass.fullscreenMaterial.strength=n,this.uniforms.get("scale").value=n}getBokehScale(){return this.bokehScale}setBokehScale(n){this.bokehScale=n}getTarget(){return this.target}setTarget(n){this.target=n}calculateFocusDistance(n){const e=this.camera,t=e.position.distanceTo(n);return H3(-t,e.near,e.far)}setDepthTexture(n,e=fs){this.circleOfConfusionMaterial.depthBuffer=n,this.circleOfConfusionMaterial.depthPacking=e}update(n,e,t){const i=this.renderTarget,r=this.renderTargetCoC,s=this.renderTargetCoCBlurred,o=this.renderTargetMasked;if(this.target!==null){const a=this.calculateFocusDistance(this.target);this.cocMaterial.focusDistance=a}this.cocPass.render(n,null,r),this.blurPass.render(n,r,s),this.maskPass.render(n,e,o),this.bokehFarBasePass.render(n,o,i),this.bokehFarFillPass.render(n,i,this.renderTargetFar),this.bokehNearBasePass.render(n,e,i),this.bokehNearFillPass.render(n,i,this.renderTargetNear)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e);const i=t.width,r=t.height;this.cocPass.setSize(n,e),this.blurPass.setSize(n,e),this.maskPass.setSize(n,e),this.renderTargetCoC.setSize(n,e),this.renderTargetMasked.setSize(n,e),this.renderTarget.setSize(i,r),this.renderTargetNear.setSize(i,r),this.renderTargetFar.setSize(i,r),this.renderTargetCoCBlurred.setSize(i,r),this.bokehNearBasePass.fullscreenMaterial.setSize(n,e),this.bokehNearFillPass.fullscreenMaterial.setSize(n,e),this.bokehFarBasePass.fullscreenMaterial.setSize(n,e),this.bokehFarFillPass.fullscreenMaterial.setSize(n,e)}initialize(n,e,t){this.cocPass.initialize(n,e,t),this.maskPass.initialize(n,e,t),this.bokehNearBasePass.initialize(n,e,t),this.bokehNearFillPass.initialize(n,e,t),this.bokehFarBasePass.initialize(n,e,t),this.bokehFarFillPass.initialize(n,e,t),this.blurPass.initialize(n,e,Wn),t!==void 0&&(this.renderTarget.texture.type=t,this.renderTargetNear.texture.type=t,this.renderTargetFar.texture.type=t,this.renderTargetMasked.texture.type=t,n.outputEncoding===qe&&(this.renderTarget.texture.encoding=qe,this.renderTargetNear.texture.encoding=qe,this.renderTargetFar.texture.encoding=qe,this.renderTargetMasked.texture.encoding=qe))}},pO="uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}",mO=class extends Di{constructor({blendFunction:n,angle:e=Math.PI*.5,scale:t=1}={}){super("DotScreenEffect",pO,{blendFunction:n,uniforms:new Map([["angle",new Ie(new ve)],["scale",new Ie(t)]])}),this.angle=e}get angle(){return Math.acos(this.uniforms.get("angle").value.y)}set angle(n){this.uniforms.get("angle").value.set(Math.sin(n),Math.cos(n))}getAngle(){return this.angle}setAngle(n){this.angle=n}get scale(){return this.uniforms.get("scale").value}set scale(n){this.uniforms.get("scale").value=n}};new k;new at;var gO="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",vO=class extends Di{constructor({blendFunction:n=rt.SRC,hue:e=0,saturation:t=0}={}){super("HueSaturationEffect",gO,{blendFunction:n,uniforms:new Map([["hue",new Ie(new k)],["saturation",new Ie(t)]])}),this.hue=e}get saturation(){return this.uniforms.get("saturation").value}set saturation(n){this.uniforms.get("saturation").value=n}getSaturation(){return this.saturation}setSaturation(n){this.saturation=n}get hue(){const n=this.uniforms.get("hue").value;return Math.acos((n.x*3-1)/2)}set hue(n){const e=Math.sin(n),t=Math.cos(n);this.uniforms.get("hue").value.set((2*t+1)/3,(-Math.sqrt(3)*e-t+1)/3,(Math.sqrt(3)*e-t+1)/3)}getHue(){return this.hue}setHue(n){this.hue=n}};new Oe;var yO=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,xO=class extends Di{constructor({blendFunction:n=rt.SCREEN,premultiply:e=!1}={}){super("NoiseEffect",yO,{blendFunction:n}),this.premultiply=e}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(n){this.premultiply!==n&&(n?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(n){this.premultiply=n}},_O=`uniform float count;
#ifdef SCROLL
uniform float scrollSpeed;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float y=uv.y;
#ifdef SCROLL
y+=time*scrollSpeed;
#endif
vec2 sl=vec2(sin(y*count),cos(y*count));outputColor=vec4(sl.xyx,inputColor.a);}`,CO=class extends Di{constructor({blendFunction:n=rt.OVERLAY,density:e=1.25,scrollSpeed:t=0}={}){super("ScanlineEffect",_O,{blendFunction:n,uniforms:new Map([["count",new Ie(0)],["scrollSpeed",new Ie(0)]])}),this.resolution=new ve,this.d=e,this.scrollSpeed=t}get density(){return this.d}set density(n){this.d=n,this.setSize(this.resolution.width,this.resolution.height)}getDensity(){return this.density}setDensity(n){this.density=n}get scrollSpeed(){return this.uniforms.get("scrollSpeed").value}set scrollSpeed(n){this.uniforms.get("scrollSpeed").value=n,n===0?this.defines.delete("SCROLL")&&this.setChanged():this.defines.has("SCROLL")||(this.defines.set("SCROLL","1"),this.setChanged())}setSize(n,e){this.resolution.set(n,e),this.uniforms.get("count").value=Math.round(e*this.density)}},MO="uniform bool active;uniform vec2 center;uniform float waveSize;uniform float radius;uniform float maxRadius;uniform float amplitude;varying float vSize;void mainUv(inout vec2 uv){if(active){vec2 aspectCorrection=vec2(aspect,1.0);vec2 difference=uv*aspectCorrection-center*aspectCorrection;float distance=sqrt(dot(difference,difference))*vSize;if(distance>radius){if(distance<radius+waveSize){float angle=(distance-radius)*PI2/waveSize;float cosSin=(1.0-cos(angle))*0.5;float extent=maxRadius+waveSize;float decay=max(extent-distance*distance,0.0)/extent;uv-=((cosSin*amplitude*difference)/distance)*decay;}}}}",SO="uniform float size;uniform float cameraDistance;varying float vSize;void mainSupport(){vSize=(0.1*cameraDistance)/size;}",wO=Math.PI*.5,Wc=new k,Ly=new k,AO=class extends Di{constructor(n,e=new k,{speed:t=2,maxRadius:i=1,waveSize:r=.2,amplitude:s=.05}={}){super("ShockWaveEffect",MO,{vertexShader:SO,uniforms:new Map([["active",new Ie(!1)],["center",new Ie(new ve(.5,.5))],["cameraDistance",new Ie(1)],["size",new Ie(1)],["radius",new Ie(-r)],["maxRadius",new Ie(i)],["waveSize",new Ie(r)],["amplitude",new Ie(s)]])}),this.position=e,this.speed=t,this.camera=n,this.screenPosition=this.uniforms.get("center").value,this.time=0,this.active=!1}set mainCamera(n){this.camera=n}get amplitude(){return this.uniforms.get("amplitude").value}set amplitude(n){this.uniforms.get("amplitude").value=n}get waveSize(){return this.uniforms.get("waveSize").value}set waveSize(n){this.uniforms.get("waveSize").value=n}get maxRadius(){return this.uniforms.get("maxRadius").value}set maxRadius(n){this.uniforms.get("maxRadius").value=n}get epicenter(){return this.position}set epicenter(n){this.position=n}getPosition(){return this.position}setPosition(n){this.position=n}getSpeed(){return this.speed}setSpeed(n){this.speed=n}explode(){this.time=0,this.active=!0,this.uniforms.get("active").value=!0}update(n,e,t){const i=this.position,r=this.camera,s=this.uniforms,o=s.get("active");if(this.active){const a=s.get("waveSize").value;r.getWorldDirection(Wc),Ly.copy(r.position).sub(i),o.value=Wc.angleTo(Ly)>wO,o.value&&(s.get("cameraDistance").value=r.position.distanceTo(i),Wc.copy(i).project(r),this.screenPosition.set((Wc.x+1)*.5,(Wc.y+1)*.5)),this.time+=t*this.speed;const l=this.time-a;s.get("radius").value=l,l>=(s.get("maxRadius").value+a)*2&&(this.active=!1,o.value=!1)}}},EO="uniform vec3 weightsR;uniform vec3 weightsG;uniform vec3 weightsB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,weightsR),dot(inputColor.rgb,weightsG),dot(inputColor.rgb,weightsB));outputColor=vec4(color,inputColor.a);}",TO=class extends Di{constructor({blendFunction:n,intensity:e=1}={}){super("SepiaEffect",EO,{blendFunction:n,uniforms:new Map([["weightsR",new Ie(new k(.393,.769,.189))],["weightsG",new Ie(new k(.349,.686,.168))],["weightsB",new Ie(new k(.272,.534,.131))]])})}get intensity(){return this.blendMode.opacity.value}set intensity(n){this.blendMode.opacity.value=n}getIntensity(){return this.intensity}setIntensity(n){this.intensity=n}get weightsR(){return this.uniforms.get("weightsR").value}get weightsG(){return this.uniforms.get("weightsG").value}get weightsB(){return this.uniforms.get("weightsB").value}},bO=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform vec2 maskParams;varying vec2 vUv2;float linearGradientMask(const in float x){return step(maskParams.x,x)-step(maskParams.y,x);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float mask=linearGradientMask(vUv2.y);vec4 texel=texture2D(map,uv);outputColor=mix(texel,inputColor,mask);}`,BO="uniform vec2 rotation;varying vec2 vUv2;void mainSupport(const in vec2 uv){vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));}",RO=class extends Di{constructor({blendFunction:n,offset:e=0,rotation:t=0,focusArea:i=.4,feather:r=.3,kernelSize:s=nl.MEDIUM,resolutionScale:o=.5,resolutionX:a=rn.AUTO_SIZE,resolutionY:l=rn.AUTO_SIZE}={}){super("TiltShiftEffect",bO,{vertexShader:BO,blendFunction:n,uniforms:new Map([["rotation",new Ie(new ve)],["maskParams",new Ie(new ve)],["map",new Ie(null)]])}),this._offset=e,this._focusArea=i,this._feather=r,this.renderTarget=new jt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="TiltShift.Target",this.uniforms.get("map").value=this.renderTarget.texture,this.blurPass=new xN({kernelSize:s,resolutionScale:o,resolutionX:a,resolutionY:l,offset:e,rotation:t,focusArea:i,feather:r});const f=this.resolution=new rn(this,a,l,o);f.addEventListener("change",d=>this.setSize(f.baseWidth,f.baseHeight)),this.rotation=t,this.updateParams()}updateParams(){const n=this.uniforms.get("maskParams").value,e=Math.max(this.focusArea-this.feather,0);n.set(this.offset-e,this.offset+e)}get rotation(){return Math.acos(this.uniforms.get("rotation").value.x)}set rotation(n){this.uniforms.get("rotation").value.set(Math.cos(n),Math.sin(n)),this.blurPass.blurMaterial.rotation=n}get offset(){return this._offset}set offset(n){this._offset=n,this.blurPass.blurMaterial.offset=n,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(n){this._focusArea=n,this.blurPass.blurMaterial.focusArea=n,this.updateParams()}get feather(){return this._feather}set feather(n){this._feather=n,this.blurPass.blurMaterial.feather=n,this.updateParams()}get bias(){return 0}set bias(n){}update(n,e,t){this.blurPass.render(n,e,this.renderTarget)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height),this.blurPass.resolution.copy(t)}initialize(n,e,t){this.blurPass.initialize(n,e,t),t!==void 0&&(this.renderTarget.texture.type=t,n.outputEncoding===qe&&(this.renderTarget.texture.encoding=qe))}},PO=`#include <tonemapping_pars_fragment>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
uniform lowp sampler2D luminanceBuffer;uniform float whitePoint;uniform float middleGrey;
#if TONE_MAPPING_MODE != 2
uniform float averageLuminance;
#endif
vec3 Reinhard2ToneMapping(vec3 color){color*=toneMappingExposure;float l=luminance(color);
#if TONE_MAPPING_MODE == 2
float lumAvg=unpackRGBAToFloat(texture2D(luminanceBuffer,vec2(0.5)));
#else
float lumAvg=averageLuminance;
#endif
float lumScaled=(l*middleGrey)/max(lumAvg,1e-6);float lumCompressed=lumScaled*(1.0+lumScaled/(whitePoint*whitePoint));lumCompressed/=(1.0+lumScaled);return clamp(lumCompressed*color,0.0,1.0);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){
#if TONE_MAPPING_MODE == 1 || TONE_MAPPING_MODE == 2
outputColor=vec4(Reinhard2ToneMapping(inputColor.rgb),inputColor.a);
#else
outputColor=vec4(toneMapping(inputColor.rgb),inputColor.a);
#endif
}`,LO=class extends Di{constructor({blendFunction:n=rt.SRC,adaptive:e=!0,mode:t=e?Bs.REINHARD2_ADAPTIVE:Bs.REINHARD2,resolution:i=256,maxLuminance:r=16,whitePoint:s=r,middleGrey:o=.6,minLuminance:a=.01,averageLuminance:l=1,adaptationRate:f=1}={}){super("ToneMappingEffect",PO,{blendFunction:n,uniforms:new Map([["luminanceBuffer",new Ie(null)],["maxLuminance",new Ie(r)],["whitePoint",new Ie(s)],["middleGrey",new Ie(o)],["averageLuminance",new Ie(l)]])}),this.renderTargetLuminance=new jt(1,1,{minFilter:Vr,depthBuffer:!1}),this.renderTargetLuminance.texture.generateMipmaps=!0,this.renderTargetLuminance.texture.name="Luminance",this.luminancePass=new jM({renderTarget:this.renderTargetLuminance}),this.adaptiveLuminancePass=new fN(this.luminancePass.texture,{minLuminance:a,adaptationRate:f}),this.uniforms.get("luminanceBuffer").value=this.adaptiveLuminancePass.texture,this.resolution=i,this.mode=t}get mode(){return Number(this.defines.get("TONE_MAPPING_MODE"))}set mode(n){if(this.mode!==n){switch(this.defines.clear(),this.defines.set("TONE_MAPPING_MODE",n.toFixed(0)),n){case Bs.REINHARD:this.defines.set("toneMapping(texel)","ReinhardToneMapping(texel)");break;case Bs.OPTIMIZED_CINEON:this.defines.set("toneMapping(texel)","OptimizedCineonToneMapping(texel)");break;case Bs.ACES_FILMIC:this.defines.set("toneMapping(texel)","ACESFilmicToneMapping(texel)");break;default:this.defines.set("toneMapping(texel)","texel");break}this.adaptiveLuminancePass.enabled=n===Bs.REINHARD2_ADAPTIVE,this.setChanged()}}getMode(){return this.mode}setMode(n){this.mode=n}get whitePoint(){return this.uniforms.get("whitePoint").value}set whitePoint(n){this.uniforms.get("whitePoint").value=n}get middleGrey(){return this.uniforms.get("middleGrey").value}set middleGrey(n){this.uniforms.get("middleGrey").value=n}get averageLuminance(){return this.uniforms.get("averageLuminance").value}set averageLuminance(n){this.uniforms.get("averageLuminance").value=n}get adaptiveLuminanceMaterial(){return this.adaptiveLuminancePass.fullscreenMaterial}getAdaptiveLuminanceMaterial(){return this.adaptiveLuminanceMaterial}get resolution(){return this.luminancePass.resolution.width}set resolution(n){const e=Math.max(0,Math.ceil(Math.log2(n))),t=Math.pow(2,e);this.luminancePass.resolution.setPreferredSize(t,t),this.adaptiveLuminanceMaterial.mipLevel1x1=e}getResolution(){return this.resolution}setResolution(n){this.resolution=n}get adaptive(){return this.mode===Bs.REINHARD2_ADAPTIVE}set adaptive(n){this.mode=n?Bs.REINHARD2_ADAPTIVE:Bs.REINHARD2}get adaptationRate(){return this.adaptiveLuminanceMaterial.adaptationRate}set adaptationRate(n){this.adaptiveLuminanceMaterial.adaptationRate=n}get distinction(){return console.warn(this.name,"distinction was removed."),1}set distinction(n){console.warn(this.name,"distinction was removed.")}update(n,e,t){this.adaptiveLuminancePass.enabled&&(this.luminancePass.render(n,e),this.adaptiveLuminancePass.render(n,null,null,t))}initialize(n,e,t){this.adaptiveLuminancePass.initialize(n,e,t)}},IO=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,DO=class extends Di{constructor({blendFunction:n,technique:e=Tp.DEFAULT,eskil:t=!1,offset:i=.5,darkness:r=.5}={}){super("VignetteEffect",IO,{blendFunction:n,defines:new Map([["VIGNETTE_TECHNIQUE",e.toFixed(0)]]),uniforms:new Map([["offset",new Ie(i)],["darkness",new Ie(r)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(n){this.technique!==n&&(this.defines.set("VIGNETTE_TECHNIQUE",n.toFixed(0)),this.setChanged())}get eskil(){return this.technique===Tp.ESKIL}set eskil(n){this.technique=n?Tp.ESKIL:Tp.DEFAULT}getTechnique(){return this.technique}setTechnique(n){this.technique=n}get offset(){return this.uniforms.get("offset").value}set offset(n){this.uniforms.get("offset").value=n}getOffset(){return this.offset}setOffset(n){this.offset=n}get darkness(){return this.uniforms.get("darkness").value}set darkness(n){this.uniforms.get("darkness").value=n}getDarkness(){return this.darkness}setDarkness(n){this.darkness=n}};const $i=function(n,e){return e===void 0&&(e=rt.NORMAL),Z.forwardRef(function(i,r){let{blendFunction:s,opacity:o,...a}=i;const l=cs(d=>d.invalidate),f=Z.useMemo(()=>new n(a),[a]);return Z.useLayoutEffect(()=>{f.blendMode.blendFunction=!s&&s!==0?e:s,o!==void 0&&(f.blendMode.opacity.value=o),l()},[s,f.blendMode,o]),Nr.createElement("primitive",{ref:r,object:f,dispose:null})})};$i(sO,rt.ADD);$i(aO);$i(uO);$i(fO);const KM=Z.createContext(null),z8=Nr.memo(Z.forwardRef((n,e)=>{let{children:t,camera:i,scene:r,resolutionScale:s,enabled:o=!0,renderPriority:a=1,autoClear:l=!0,depthBuffer:f,disableNormalPass:d,stencilBuffer:p,multisampling:h=8,frameBufferType:g=xr}=n;const{gl:v,scene:y,camera:x,size:_}=cs();r=r||y,i=i||x;const[C,S,w]=Z.useMemo(()=>{const R=jF(),E=new MN(v,{depthBuffer:f,stencilBuffer:p,multisampling:h>0&&R?h:0,frameBufferType:g});E.addPass(new XM(r,i));let P=null,I=null;return d||(I=new yN(r,i),I.enabled=!1,E.addPass(I),s!==void 0&&R&&(P=new hN({normalBuffer:I.texture,resolutionScale:s}),P.enabled=!1,E.addPass(P))),[E,I,P]},[i,v,f,p,h,g,r,d,s]);Z.useEffect(()=>C==null?void 0:C.setSize(_.width,_.height),[C,_]),Zu((R,E)=>{o&&(v.autoClear=l,C.render(E))},o?a:0);const T=Z.useRef(null);Z.useLayoutEffect(()=>{let R;return T.current&&T.current.__r3f&&C&&(R=new mN(i,...T.current.__r3f.objects),R.renderToScreen=!0,C.addPass(R),S&&(S.enabled=!0),w&&(w.enabled=!0)),()=>{R&&(C==null||C.removePass(R)),S&&(S.enabled=!1),w&&(w.enabled=!1)}},[C,t,i,S,w]);const B=Z.useMemo(()=>({composer:C,normalPass:S,downSamplingPass:w,resolutionScale:s,camera:i,scene:r}),[C,S,w,s,i,r]);return Z.useImperativeHandle(e,()=>C,[C]),Nr.createElement(KM.Provider,{value:B},Nr.createElement("group",{ref:T},t))})),G8=Z.forwardRef(function(e,t){let{target:i,depthTexture:r,...s}=e;const o=cs(f=>f.invalidate),{camera:a}=Z.useContext(KM),l=Z.useMemo(()=>new hO(a,s),[a,s]);return Z.useLayoutEffect(()=>{if(i){const f=i instanceof k?new k().set(i.x,i.y,i.z):new k().set(i[0],i[1],i[2]);l.target=f}r&&l.setDepthTexture(r.texture,r.packing),o()},[i,r,l]),Nr.createElement("primitive",{ref:t,object:l,dispose:null})});$i(mO);$i(vO);$i(xO,rt.COLOR_DODGE);$i(CO,rt.OVERLAY);$i(TO);$i(LO);$i(DO);$i(AO);$i(RO,rt.ADD);function FO({speed:n=1,count:e=80,depth:t=120,easing:i=r=>Math.sqrt(1-Math.pow(r-1,2))}){return fe($f,{children:gr(D8,{gl:{antialias:!1},dpr:[1,1.5],camera:{position:[0,0,10],fov:20,near:.01,far:t+15},children:[fe("color",{attach:"background",args:["#ffbf40"]}),fe("spotLight",{position:[10,20,10],penumbra:1,intensity:3,color:"orange"}),Array.from({length:e},(r,s)=>fe(Dk,{index:s,z:Math.round(i(s/e)*t),speed:n},s)),fe(O8,{preset:"sunset"}),fe(z8,{multisampling:0,children:fe(G8,{target:[0,0,t/2],focalLength:.5,bokehScale:11,height:700})})]})})}var Kf={},kO={get exports(){return Kf},set exports(n){Kf=n}},Vt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=typeof Symbol=="function"&&Symbol.for,H8=Jn?Symbol.for("react.element"):60103,V8=Jn?Symbol.for("react.portal"):60106,c0=Jn?Symbol.for("react.fragment"):60107,f0=Jn?Symbol.for("react.strict_mode"):60108,d0=Jn?Symbol.for("react.profiler"):60114,h0=Jn?Symbol.for("react.provider"):60109,p0=Jn?Symbol.for("react.context"):60110,W8=Jn?Symbol.for("react.async_mode"):60111,m0=Jn?Symbol.for("react.concurrent_mode"):60111,g0=Jn?Symbol.for("react.forward_ref"):60112,v0=Jn?Symbol.for("react.suspense"):60113,NO=Jn?Symbol.for("react.suspense_list"):60120,y0=Jn?Symbol.for("react.memo"):60115,x0=Jn?Symbol.for("react.lazy"):60116,OO=Jn?Symbol.for("react.block"):60121,UO=Jn?Symbol.for("react.fundamental"):60117,zO=Jn?Symbol.for("react.responder"):60118,GO=Jn?Symbol.for("react.scope"):60119;function er(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case H8:switch(n=n.type,n){case W8:case m0:case c0:case d0:case f0:case v0:return n;default:switch(n=n&&n.$$typeof,n){case p0:case g0:case x0:case y0:case h0:return n;default:return e}}case V8:return e}}}function ZM(n){return er(n)===m0}Vt.AsyncMode=W8;Vt.ConcurrentMode=m0;Vt.ContextConsumer=p0;Vt.ContextProvider=h0;Vt.Element=H8;Vt.ForwardRef=g0;Vt.Fragment=c0;Vt.Lazy=x0;Vt.Memo=y0;Vt.Portal=V8;Vt.Profiler=d0;Vt.StrictMode=f0;Vt.Suspense=v0;Vt.isAsyncMode=function(n){return ZM(n)||er(n)===W8};Vt.isConcurrentMode=ZM;Vt.isContextConsumer=function(n){return er(n)===p0};Vt.isContextProvider=function(n){return er(n)===h0};Vt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===H8};Vt.isForwardRef=function(n){return er(n)===g0};Vt.isFragment=function(n){return er(n)===c0};Vt.isLazy=function(n){return er(n)===x0};Vt.isMemo=function(n){return er(n)===y0};Vt.isPortal=function(n){return er(n)===V8};Vt.isProfiler=function(n){return er(n)===d0};Vt.isStrictMode=function(n){return er(n)===f0};Vt.isSuspense=function(n){return er(n)===v0};Vt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===c0||n===m0||n===d0||n===f0||n===v0||n===NO||typeof n=="object"&&n!==null&&(n.$$typeof===x0||n.$$typeof===y0||n.$$typeof===h0||n.$$typeof===p0||n.$$typeof===g0||n.$$typeof===UO||n.$$typeof===zO||n.$$typeof===GO||n.$$typeof===OO)};Vt.typeOf=er;(function(n){n.exports=Vt})(kO);function HO(n){function e(H,q,ne,ge,N){for(var Ee=0,he=0,ze=0,we=0,ke,se,de=0,Te=0,be,Re=be=ke=0,Ne=0,Ve=0,Ye=0,tt=0,Ct=ne.length,z=Ct-1,D,F="",J="",$="",me="",_e;Ne<Ct;){if(se=ne.charCodeAt(Ne),Ne===z&&he+we+ze+Ee!==0&&(he!==0&&(se=he===47?10:47),we=ze=Ee=0,Ct++,z++),he+we+ze+Ee===0){if(Ne===z&&(0<Ve&&(F=F.replace(h,"")),0<F.trim().length)){switch(se){case 32:case 9:case 59:case 13:case 10:break;default:F+=ne.charAt(Ne)}se=59}switch(se){case 123:for(F=F.trim(),ke=F.charCodeAt(0),be=1,tt=++Ne;Ne<Ct;){switch(se=ne.charCodeAt(Ne)){case 123:be++;break;case 125:be--;break;case 47:switch(se=ne.charCodeAt(Ne+1)){case 42:case 47:e:{for(Re=Ne+1;Re<z;++Re)switch(ne.charCodeAt(Re)){case 47:if(se===42&&ne.charCodeAt(Re-1)===42&&Ne+2!==Re){Ne=Re+1;break e}break;case 10:if(se===47){Ne=Re+1;break e}}Ne=Re}}break;case 91:se++;case 40:se++;case 34:case 39:for(;Ne++<z&&ne.charCodeAt(Ne)!==se;);}if(be===0)break;Ne++}switch(be=ne.substring(tt,Ne),ke===0&&(ke=(F=F.replace(p,"").trim()).charCodeAt(0)),ke){case 64:switch(0<Ve&&(F=F.replace(h,"")),se=F.charCodeAt(1),se){case 100:case 109:case 115:case 45:Ve=q;break;default:Ve=le}if(be=e(q,Ve,be,se,N+1),tt=be.length,0<L&&(Ve=t(le,F,Ye),_e=a(3,be,Ve,q,K,ie,tt,se,N,ge),F=Ve.join(""),_e!==void 0&&(tt=(be=_e.trim()).length)===0&&(se=0,be="")),0<tt)switch(se){case 115:F=F.replace(B,o);case 100:case 109:case 45:be=F+"{"+be+"}";break;case 107:F=F.replace(C,"$1 $2"),be=F+"{"+be+"}",be=te===1||te===2&&s("@"+be,3)?"@-webkit-"+be+"@"+be:"@"+be;break;default:be=F+be,ge===112&&(be=(J+=be,""))}else be="";break;default:be=e(q,t(q,F,Ye),be,ge,N+1)}$+=be,be=Ye=Ve=Re=ke=0,F="",se=ne.charCodeAt(++Ne);break;case 125:case 59:if(F=(0<Ve?F.replace(h,""):F).trim(),1<(tt=F.length))switch(Re===0&&(ke=F.charCodeAt(0),ke===45||96<ke&&123>ke)&&(tt=(F=F.replace(" ",":")).length),0<L&&(_e=a(1,F,q,H,K,ie,J.length,ge,N,ge))!==void 0&&(tt=(F=_e.trim()).length)===0&&(F="\0\0"),ke=F.charCodeAt(0),se=F.charCodeAt(1),ke){case 0:break;case 64:if(se===105||se===99){me+=F+ne.charAt(Ne);break}default:F.charCodeAt(tt-1)!==58&&(J+=r(F,ke,se,F.charCodeAt(2)))}Ye=Ve=Re=ke=0,F="",se=ne.charCodeAt(++Ne)}}switch(se){case 13:case 10:he===47?he=0:1+ke===0&&ge!==107&&0<F.length&&(Ve=1,F+="\0"),0<L*W&&a(0,F,q,H,K,ie,J.length,ge,N,ge),ie=1,K++;break;case 59:case 125:if(he+we+ze+Ee===0){ie++;break}default:switch(ie++,D=ne.charAt(Ne),se){case 9:case 32:if(we+Ee+he===0)switch(de){case 44:case 58:case 9:case 32:D="";break;default:se!==32&&(D=" ")}break;case 0:D="\\0";break;case 12:D="\\f";break;case 11:D="\\v";break;case 38:we+he+Ee===0&&(Ve=Ye=1,D="\f"+D);break;case 108:if(we+he+Ee+j===0&&0<Re)switch(Ne-Re){case 2:de===112&&ne.charCodeAt(Ne-3)===58&&(j=de);case 8:Te===111&&(j=Te)}break;case 58:we+he+Ee===0&&(Re=Ne);break;case 44:he+ze+we+Ee===0&&(Ve=1,D+="\r");break;case 34:case 39:he===0&&(we=we===se?0:we===0?se:we);break;case 91:we+he+ze===0&&Ee++;break;case 93:we+he+ze===0&&Ee--;break;case 41:we+he+Ee===0&&ze--;break;case 40:if(we+he+Ee===0){if(ke===0)switch(2*de+3*Te){case 533:break;default:ke=1}ze++}break;case 64:he+ze+we+Ee+Re+be===0&&(be=1);break;case 42:case 47:if(!(0<we+Ee+ze))switch(he){case 0:switch(2*se+3*ne.charCodeAt(Ne+1)){case 235:he=47;break;case 220:tt=Ne,he=42}break;case 42:se===47&&de===42&&tt+2!==Ne&&(ne.charCodeAt(tt+2)===33&&(J+=ne.substring(tt,Ne+1)),D="",he=0)}}he===0&&(F+=D)}Te=de,de=se,Ne++}if(tt=J.length,0<tt){if(Ve=q,0<L&&(_e=a(2,J,Ve,H,K,ie,tt,ge,N,ge),_e!==void 0&&(J=_e).length===0))return me+J+$;if(J=Ve.join(",")+"{"+J+"}",te*j!==0){switch(te!==2||s(J,2)||(j=0),j){case 111:J=J.replace(w,":-moz-$1")+J;break;case 112:J=J.replace(S,"::-webkit-input-$1")+J.replace(S,"::-moz-$1")+J.replace(S,":-ms-input-$1")+J}j=0}}return me+J+$}function t(H,q,ne){var ge=q.trim().split(x);q=ge;var N=ge.length,Ee=H.length;switch(Ee){case 0:case 1:var he=0;for(H=Ee===0?"":H[0]+" ";he<N;++he)q[he]=i(H,q[he],ne).trim();break;default:var ze=he=0;for(q=[];he<N;++he)for(var we=0;we<Ee;++we)q[ze++]=i(H[we]+" ",ge[he],ne).trim()}return q}function i(H,q,ne){var ge=q.charCodeAt(0);switch(33>ge&&(ge=(q=q.trim()).charCodeAt(0)),ge){case 38:return q.replace(_,"$1"+H.trim());case 58:return H.trim()+q.replace(_,"$1"+H.trim());default:if(0<1*ne&&0<q.indexOf("\f"))return q.replace(_,(H.charCodeAt(0)===58?"":"$1")+H.trim())}return H+q}function r(H,q,ne,ge){var N=H+";",Ee=2*q+3*ne+4*ge;if(Ee===944){H=N.indexOf(":",9)+1;var he=N.substring(H,N.length-1).trim();return he=N.substring(0,H).trim()+he+";",te===1||te===2&&s(he,1)?"-webkit-"+he+he:he}if(te===0||te===2&&!s(N,1))return N;switch(Ee){case 1015:return N.charCodeAt(10)===97?"-webkit-"+N+N:N;case 951:return N.charCodeAt(3)===116?"-webkit-"+N+N:N;case 963:return N.charCodeAt(5)===110?"-webkit-"+N+N:N;case 1009:if(N.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+N+N;case 978:return"-webkit-"+N+"-moz-"+N+N;case 1019:case 983:return"-webkit-"+N+"-moz-"+N+"-ms-"+N+N;case 883:if(N.charCodeAt(8)===45)return"-webkit-"+N+N;if(0<N.indexOf("image-set(",11))return N.replace(G,"$1-webkit-$2")+N;break;case 932:if(N.charCodeAt(4)===45)switch(N.charCodeAt(5)){case 103:return"-webkit-box-"+N.replace("-grow","")+"-webkit-"+N+"-ms-"+N.replace("grow","positive")+N;case 115:return"-webkit-"+N+"-ms-"+N.replace("shrink","negative")+N;case 98:return"-webkit-"+N+"-ms-"+N.replace("basis","preferred-size")+N}return"-webkit-"+N+"-ms-"+N+N;case 964:return"-webkit-"+N+"-ms-flex-"+N+N;case 1023:if(N.charCodeAt(8)!==99)break;return he=N.substring(N.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+he+"-webkit-"+N+"-ms-flex-pack"+he+N;case 1005:return v.test(N)?N.replace(g,":-webkit-")+N.replace(g,":-moz-")+N:N;case 1e3:switch(he=N.substring(13).trim(),q=he.indexOf("-")+1,he.charCodeAt(0)+he.charCodeAt(q)){case 226:he=N.replace(T,"tb");break;case 232:he=N.replace(T,"tb-rl");break;case 220:he=N.replace(T,"lr");break;default:return N}return"-webkit-"+N+"-ms-"+he+N;case 1017:if(N.indexOf("sticky",9)===-1)break;case 975:switch(q=(N=H).length-10,he=(N.charCodeAt(q)===33?N.substring(0,q):N).substring(H.indexOf(":",7)+1).trim(),Ee=he.charCodeAt(0)+(he.charCodeAt(7)|0)){case 203:if(111>he.charCodeAt(8))break;case 115:N=N.replace(he,"-webkit-"+he)+";"+N;break;case 207:case 102:N=N.replace(he,"-webkit-"+(102<Ee?"inline-":"")+"box")+";"+N.replace(he,"-webkit-"+he)+";"+N.replace(he,"-ms-"+he+"box")+";"+N}return N+";";case 938:if(N.charCodeAt(5)===45)switch(N.charCodeAt(6)){case 105:return he=N.replace("-items",""),"-webkit-"+N+"-webkit-box-"+he+"-ms-flex-"+he+N;case 115:return"-webkit-"+N+"-ms-flex-item-"+N.replace(E,"")+N;default:return"-webkit-"+N+"-ms-flex-line-pack"+N.replace("align-content","").replace(E,"")+N}break;case 973:case 989:if(N.charCodeAt(3)!==45||N.charCodeAt(4)===122)break;case 931:case 953:if(I.test(H)===!0)return(he=H.substring(H.indexOf(":")+1)).charCodeAt(0)===115?r(H.replace("stretch","fill-available"),q,ne,ge).replace(":fill-available",":stretch"):N.replace(he,"-webkit-"+he)+N.replace(he,"-moz-"+he.replace("fill-",""))+N;break;case 962:if(N="-webkit-"+N+(N.charCodeAt(5)===102?"-ms-"+N:"")+N,ne+ge===211&&N.charCodeAt(13)===105&&0<N.indexOf("transform",10))return N.substring(0,N.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+N}return N}function s(H,q){var ne=H.indexOf(q===1?":":"{"),ge=H.substring(0,q!==3?ne:10);return ne=H.substring(ne+1,H.length-1),V(q!==2?ge:ge.replace(P,"$1"),ne,q)}function o(H,q){var ne=r(q,q.charCodeAt(0),q.charCodeAt(1),q.charCodeAt(2));return ne!==q+";"?ne.replace(R," or ($1)").substring(4):"("+q+")"}function a(H,q,ne,ge,N,Ee,he,ze,we,ke){for(var se=0,de=q,Te;se<L;++se)switch(Te=ce[se].call(d,H,de,ne,ge,N,Ee,he,ze,we,ke)){case void 0:case!1:case!0:case null:break;default:de=Te}if(de!==q)return de}function l(H){switch(H){case void 0:case null:L=ce.length=0;break;default:if(typeof H=="function")ce[L++]=H;else if(typeof H=="object")for(var q=0,ne=H.length;q<ne;++q)l(H[q]);else W=!!H|0}return l}function f(H){return H=H.prefix,H!==void 0&&(V=null,H?typeof H!="function"?te=1:(te=2,V=H):te=0),f}function d(H,q){var ne=H;if(33>ne.charCodeAt(0)&&(ne=ne.trim()),X=ne,ne=[X],0<L){var ge=a(-1,q,ne,ne,K,ie,0,0,0,0);ge!==void 0&&typeof ge=="string"&&(q=ge)}var N=e(le,ne,q,0,0);return 0<L&&(ge=a(-2,N,ne,ne,K,ie,N.length,0,0,0),ge!==void 0&&(N=ge)),X="",j=0,ie=K=1,N}var p=/^\0+/g,h=/[\0\r\f]/g,g=/: */g,v=/zoo|gra/,y=/([,: ])(transform)/g,x=/,\r+?/g,_=/([\t\r\n ])*\f?&/g,C=/@(k\w+)\s*(\S*)\s*/,S=/::(place)/g,w=/:(read-only)/g,T=/[svh]\w+-[tblr]{2}/,B=/\(\s*(.*)\s*\)/g,R=/([\s\S]*?);/g,E=/-self|flex-/g,P=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,G=/([^-])(image-set\()/,ie=1,K=1,j=0,te=1,le=[],ce=[],L=0,V=null,W=0,X="";return d.use=l,d.set=f,n!==void 0&&f(n),d}var VO={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function WO(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var JO=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Iy=WO(function(n){return JO.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),J8=Kf,XO={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jO={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},KO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},YM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},X8={};X8[J8.ForwardRef]=KO;X8[J8.Memo]=YM;function Dy(n){return J8.isMemo(n)?YM:X8[n.$$typeof]||XO}var ZO=Object.defineProperty,YO=Object.getOwnPropertyNames,Fy=Object.getOwnPropertySymbols,QO=Object.getOwnPropertyDescriptor,qO=Object.getPrototypeOf,ky=Object.prototype;function QM(n,e,t){if(typeof e!="string"){if(ky){var i=qO(e);i&&i!==ky&&QM(n,i,t)}var r=YO(e);Fy&&(r=r.concat(Fy(e)));for(var s=Dy(n),o=Dy(e),a=0;a<r.length;++a){var l=r[a];if(!jO[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var f=QO(e,l);try{ZO(n,l,f)}catch{}}}}return n}var $O=QM;function zs(){return(zs=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}var Ny=function(n,e){for(var t=[n[0]],i=0,r=e.length;i<r;i+=1)t.push(e[i],n[i+1]);return t},V3=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!Kf.typeOf(n)},Tm=Object.freeze([]),zo=Object.freeze({});function Zf(n){return typeof n=="function"}function Oy(n){return n.displayName||n.name||"Component"}function j8(n){return n&&typeof n.styledComponentId=="string"}var Lu=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",K8=typeof window<"u"&&"HTMLElement"in window,eU=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1);function Sd(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var tU=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var i=0,r=0;r<t;r++)i+=this.groupSizes[r];return i},e.insertRules=function(t,i){if(t>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,o=s;t>=o;)(o<<=1)<0&&Sd(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),f=0,d=i.length;f<d;f++)this.tag.insertRule(l,i[f])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var i=this.groupSizes[t],r=this.indexOfGroup(t),s=r+i;this.groupSizes[t]=0;for(var o=r;o<s;o++)this.tag.deleteRule(r)}},e.getGroup=function(t){var i="";if(t>=this.length||this.groupSizes[t]===0)return i;for(var r=this.groupSizes[t],s=this.indexOfGroup(t),o=s+r,a=s;a<o;a++)i+=this.tag.getRule(a)+`/*!sc*/
`;return i},n}(),Yp=new Map,bm=new Map,mf=1,bp=function(n){if(Yp.has(n))return Yp.get(n);for(;bm.has(mf);)mf++;var e=mf++;return Yp.set(n,e),bm.set(e,n),e},nU=function(n){return bm.get(n)},iU=function(n,e){e>=mf&&(mf=e+1),Yp.set(n,e),bm.set(e,n)},rU="style["+Lu+'][data-styled-version="5.3.6"]',sU=new RegExp("^"+Lu+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),oU=function(n,e,t){for(var i,r=t.split(","),s=0,o=r.length;s<o;s++)(i=r[s])&&n.registerName(e,i)},aU=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),i=[],r=0,s=t.length;r<s;r++){var o=t[r].trim();if(o){var a=o.match(sU);if(a){var l=0|parseInt(a[1],10),f=a[2];l!==0&&(iU(f,l),oU(n,f,a[3]),n.getTag().insertRules(l,i)),i.length=0}else i.push(o)}}},lU=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},qM=function(n){var e=document.head,t=n||e,i=document.createElement("style"),r=function(a){for(var l=a.childNodes,f=l.length;f>=0;f--){var d=l[f];if(d&&d.nodeType===1&&d.hasAttribute(Lu))return d}}(t),s=r!==void 0?r.nextSibling:null;i.setAttribute(Lu,"active"),i.setAttribute("data-styled-version","5.3.6");var o=lU();return o&&i.setAttribute("nonce",o),t.insertBefore(i,s),i},uU=function(){function n(t){var i=this.element=qM(t);i.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===r)return l}Sd(17)}(i),this.length=0}var e=n.prototype;return e.insertRule=function(t,i){try{return this.sheet.insertRule(i,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var i=this.sheet.cssRules[t];return i!==void 0&&typeof i.cssText=="string"?i.cssText:""},n}(),cU=function(){function n(t){var i=this.element=qM(t);this.nodes=i.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,i){if(t<=this.length&&t>=0){var r=document.createTextNode(i),s=this.nodes[t];return this.element.insertBefore(r,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),fU=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,i){return t<=this.length&&(this.rules.splice(t,0,i),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),Uy=K8,dU={isServer:!K8,useCSSOMInjection:!eU},$M=function(){function n(t,i,r){t===void 0&&(t=zo),i===void 0&&(i={}),this.options=zs({},dU,{},t),this.gs=i,this.names=new Map(r),this.server=!!t.isServer,!this.server&&K8&&Uy&&(Uy=!1,function(s){for(var o=document.querySelectorAll(rU),a=0,l=o.length;a<l;a++){var f=o[a];f&&f.getAttribute(Lu)!=="active"&&(aU(s,f),f.parentNode&&f.parentNode.removeChild(f))}}(this))}n.registerId=function(t){return bp(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,i){return i===void 0&&(i=!0),new n(zs({},this.options,{},t),this.gs,i&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(r=(i=this.options).isServer,s=i.useCSSOMInjection,o=i.target,t=r?new fU(o):s?new uU(o):new cU(o),new tU(t)));var t,i,r,s,o},e.hasNameForId=function(t,i){return this.names.has(t)&&this.names.get(t).has(i)},e.registerName=function(t,i){if(bp(t),this.names.has(t))this.names.get(t).add(i);else{var r=new Set;r.add(i),this.names.set(t,r)}},e.insertRules=function(t,i,r){this.registerName(t,i),this.getTag().insertRules(bp(t),r)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(bp(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var i=t.getTag(),r=i.length,s="",o=0;o<r;o++){var a=nU(o);if(a!==void 0){var l=t.names.get(a),f=i.getGroup(o);if(l&&f&&l.size){var d=Lu+".g"+o+'[id="'+a+'"]',p="";l!==void 0&&l.forEach(function(h){h.length>0&&(p+=h+",")}),s+=""+f+d+'{content:"'+p+`"}/*!sc*/
`}}}return s}(this)},n}(),hU=/(a)(d)/gi,zy=function(n){return String.fromCharCode(n+(n>25?39:97))};function W3(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=zy(e%52)+t;return(zy(e%52)+t).replace(hU,"$1-$2")}var nu=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},eS=function(n){return nu(5381,n)};function pU(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Zf(t)&&!j8(t))return!1}return!0}var mU=eS("5.3.6"),gU=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&pU(e),this.componentId=t,this.baseHash=nu(mU,t),this.baseStyle=i,$M.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var r=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,i)),this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))s.push(this.staticRulesId);else{var o=Iu(this.rules,e,t,i).join(""),a=W3(nu(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var l=i(o,"."+a,void 0,r);t.insertRules(r,a,l)}s.push(a),this.staticRulesId=a}else{for(var f=this.rules.length,d=nu(this.baseHash,i.hash),p="",h=0;h<f;h++){var g=this.rules[h];if(typeof g=="string")p+=g;else if(g){var v=Iu(g,e,t,i),y=Array.isArray(v)?v.join(""):v;d=nu(d,y+h),p+=y}}if(p){var x=W3(d>>>0);if(!t.hasNameForId(r,x)){var _=i(p,"."+x,void 0,r);t.insertRules(r,x,_)}s.push(x)}}return s.join(" ")},n}(),vU=/^\s*\/\/.*$/gm,yU=[":","[",".","#"];function xU(n){var e,t,i,r,s=n===void 0?zo:n,o=s.options,a=o===void 0?zo:o,l=s.plugins,f=l===void 0?Tm:l,d=new HO(a),p=[],h=function(y){function x(_){if(_)try{y(_+"}")}catch{}}return function(_,C,S,w,T,B,R,E,P,I){switch(_){case 1:if(P===0&&C.charCodeAt(0)===64)return y(C+";"),"";break;case 2:if(E===0)return C+"/*|*/";break;case 3:switch(E){case 102:case 112:return y(S[0]+C),"";default:return C+(I===0?"/*|*/":"")}case-2:C.split("/*|*/}").forEach(x)}}}(function(y){p.push(y)}),g=function(y,x,_){return x===0&&yU.indexOf(_[t.length])!==-1||_.match(r)?y:"."+e};function v(y,x,_,C){C===void 0&&(C="&");var S=y.replace(vU,""),w=x&&_?_+" "+x+" { "+S+" }":S;return e=C,t=x,i=new RegExp("\\"+t+"\\b","g"),r=new RegExp("(\\"+t+"\\b){2,}"),d(_||!x?"":x,w)}return d.use([].concat(f,[function(y,x,_){y===2&&_.length&&_[0].lastIndexOf(t)>0&&(_[0]=_[0].replace(i,g))},h,function(y){if(y===-2){var x=p;return p=[],x}}])),v.hash=f.length?f.reduce(function(y,x){return x.name||Sd(15),nu(y,x.name)},5381).toString():"",v}var tS=Nr.createContext();tS.Consumer;var nS=Nr.createContext(),_U=(nS.Consumer,new $M),J3=xU();function CU(){return Z.useContext(tS)||_U}function MU(){return Z.useContext(nS)||J3}var iS=function(){function n(e,t){var i=this;this.inject=function(r,s){s===void 0&&(s=J3);var o=i.name+s.hash;r.hasNameForId(i.id,o)||r.insertRules(i.id,o,s(i.rules,o,"@keyframes"))},this.toString=function(){return Sd(12,String(i.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=J3),this.name+e.hash},n}(),SU=/([A-Z])/,wU=/([A-Z])/g,AU=/^ms-/,EU=function(n){return"-"+n.toLowerCase()};function Gy(n){return SU.test(n)?n.replace(wU,EU).replace(AU,"-ms-"):n}var Hy=function(n){return n==null||n===!1||n===""};function Iu(n,e,t,i){if(Array.isArray(n)){for(var r,s=[],o=0,a=n.length;o<a;o+=1)(r=Iu(n[o],e,t,i))!==""&&(Array.isArray(r)?s.push.apply(s,r):s.push(r));return s}if(Hy(n))return"";if(j8(n))return"."+n.styledComponentId;if(Zf(n)){if(typeof(f=n)!="function"||f.prototype&&f.prototype.isReactComponent||!e)return n;var l=n(e);return Iu(l,e,t,i)}var f;return n instanceof iS?t?(n.inject(t,i),n.getName(i)):n:V3(n)?function d(p,h){var g,v,y=[];for(var x in p)p.hasOwnProperty(x)&&!Hy(p[x])&&(Array.isArray(p[x])&&p[x].isCss||Zf(p[x])?y.push(Gy(x)+":",p[x],";"):V3(p[x])?y.push.apply(y,d(p[x],x)):y.push(Gy(x)+": "+(g=x,(v=p[x])==null||typeof v=="boolean"||v===""?"":typeof v!="number"||v===0||g in VO?String(v).trim():v+"px")+";"));return h?[h+" {"].concat(y,["}"]):y}(n):n.toString()}var Vy=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function rS(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Zf(n)||V3(n)?Vy(Iu(Ny(Tm,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:Vy(Iu(Ny(n,t)))}var TU=function(n,e,t){return t===void 0&&(t=zo),n.theme!==t.theme&&n.theme||e||t.theme},bU=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,BU=/(^-|-$)/g;function Zg(n){return n.replace(bU,"-").replace(BU,"")}var sS=function(n){return W3(eS(n)>>>0)};function Bp(n){return typeof n=="string"&&!0}var X3=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},RU=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function PU(n,e,t){var i=n[t];X3(e)&&X3(i)?oS(i,e):n[t]=e}function oS(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];for(var r=0,s=t;r<s.length;r++){var o=s[r];if(X3(o))for(var a in o)RU(a)&&PU(n,o[a],a)}return n}var aS=Nr.createContext();aS.Consumer;var Yg={};function lS(n,e,t){var i=j8(n),r=!Bp(n),s=e.attrs,o=s===void 0?Tm:s,a=e.componentId,l=a===void 0?function(C,S){var w=typeof C!="string"?"sc":Zg(C);Yg[w]=(Yg[w]||0)+1;var T=w+"-"+sS("5.3.6"+w+Yg[w]);return S?S+"-"+T:T}(e.displayName,e.parentComponentId):a,f=e.displayName,d=f===void 0?function(C){return Bp(C)?"styled."+C:"Styled("+Oy(C)+")"}(n):f,p=e.displayName&&e.componentId?Zg(e.displayName)+"-"+e.componentId:e.componentId||l,h=i&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,g=e.shouldForwardProp;i&&n.shouldForwardProp&&(g=e.shouldForwardProp?function(C,S,w){return n.shouldForwardProp(C,S,w)&&e.shouldForwardProp(C,S,w)}:n.shouldForwardProp);var v,y=new gU(t,p,i?n.componentStyle:void 0),x=y.isStatic&&o.length===0,_=function(C,S){return function(w,T,B,R){var E=w.attrs,P=w.componentStyle,I=w.defaultProps,G=w.foldedComponentIds,ie=w.shouldForwardProp,K=w.styledComponentId,j=w.target,te=function(ge,N,Ee){ge===void 0&&(ge=zo);var he=zs({},N,{theme:ge}),ze={};return Ee.forEach(function(we){var ke,se,de,Te=we;for(ke in Zf(Te)&&(Te=Te(he)),Te)he[ke]=ze[ke]=ke==="className"?(se=ze[ke],de=Te[ke],se&&de?se+" "+de:se||de):Te[ke]}),[he,ze]}(TU(T,Z.useContext(aS),I)||zo,T,E),le=te[0],ce=te[1],L=function(ge,N,Ee,he){var ze=CU(),we=MU(),ke=N?ge.generateAndInjectStyles(zo,ze,we):ge.generateAndInjectStyles(Ee,ze,we);return ke}(P,R,le),V=B,W=ce.$as||T.$as||ce.as||T.as||j,X=Bp(W),H=ce!==T?zs({},T,{},ce):T,q={};for(var ne in H)ne[0]!=="$"&&ne!=="as"&&(ne==="forwardedAs"?q.as=H[ne]:(ie?ie(ne,Iy,W):!X||Iy(ne))&&(q[ne]=H[ne]));return T.style&&ce.style!==T.style&&(q.style=zs({},T.style,{},ce.style)),q.className=Array.prototype.concat(G,K,L!==K?L:null,T.className,ce.className).filter(Boolean).join(" "),q.ref=V,Z.createElement(W,q)}(v,C,S,x)};return _.displayName=d,(v=Nr.forwardRef(_)).attrs=h,v.componentStyle=y,v.displayName=d,v.shouldForwardProp=g,v.foldedComponentIds=i?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):Tm,v.styledComponentId=p,v.target=i?n.target:n,v.withComponent=function(C){var S=e.componentId,w=function(B,R){if(B==null)return{};var E,P,I={},G=Object.keys(B);for(P=0;P<G.length;P++)E=G[P],R.indexOf(E)>=0||(I[E]=B[E]);return I}(e,["componentId"]),T=S&&S+"-"+(Bp(C)?C:Zg(Oy(C)));return lS(C,zs({},w,{attrs:h,componentId:T}),t)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=i?oS({},n.defaultProps,C):C}}),v.toString=function(){return"."+v.styledComponentId},r&&$O(v,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var j3=function(n){return function e(t,i,r){if(r===void 0&&(r=zo),!Kf.isValidElementType(i))return Sd(1,String(i));var s=function(){return t(i,r,rS.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,i,zs({},r,{},o))},s.attrs=function(o){return e(t,i,zs({},r,{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},s}(lS,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){j3[n]=j3(n)});function LU(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=rS.apply(void 0,[n].concat(t)).join(""),s=sS(r);return new iS(s,r)}const jr=j3;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nt(){return Nt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Nt.apply(this,arguments)}var Tn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Tn||(Tn={}));const Wy="popstate";function IU(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Yf("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Ys(r)}return FU(e,t,null,n)}function vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function DU(){return Math.random().toString(36).substr(2,8)}function Jy(n,e){return{usr:n.state,key:n.key,idx:e}}function Yf(n,e,t,i){return t===void 0&&(t=null),Nt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?to(e):e,{state:t,key:e&&e.key||i||DU()})}function Ys(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function to(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function FU(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Tn.Pop,l=null,f=d();f==null&&(f=0,o.replaceState(Nt({},o.state,{idx:f}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Tn.Pop;let x=d(),_=x==null?null:x-f;f=x,l&&l({action:a,location:y.location,delta:_})}function h(x,_){a=Tn.Push;let C=Yf(y.location,x,_);t&&t(C,x),f=d()+1;let S=Jy(C,f),w=y.createHref(C);try{o.pushState(S,"",w)}catch{r.location.assign(w)}s&&l&&l({action:a,location:y.location,delta:1})}function g(x,_){a=Tn.Replace;let C=Yf(y.location,x,_);t&&t(C,x),f=d();let S=Jy(C,f),w=y.createHref(C);o.replaceState(S,"",w),s&&l&&l({action:a,location:y.location,delta:0})}function v(x){let _=r.location.origin!=="null"?r.location.origin:r.location.href,C=typeof x=="string"?x:Ys(x);return vt(_,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,_)}let y={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Wy,p),l=x,()=>{r.removeEventListener(Wy,p),l=null}},createHref(x){return e(r,x)},createURL:v,encodeLocation(x){let _=v(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:g,go(x){return o.go(x)}};return y}var Kn;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Kn||(Kn={}));function kU(n){return n.index===!0}function uS(n,e,t){return e===void 0&&(e=[]),t===void 0&&(t=new Set),n.map((i,r)=>{let s=[...e,r],o=typeof i.id=="string"?i.id:s.join("-");return vt(i.index!==!0||!i.children,"Cannot specify children on an index route"),vt(!t.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),t.add(o),kU(i)?Nt({},i,{id:o}):Nt({},i,{id:o,children:i.children?uS(i.children,s,t):void 0})})}function ef(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?to(e):e,r=dS(i.pathname||"/",t);if(r==null)return null;let s=cS(n);NU(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=XU(s[a],ZU(r));return o}function cS(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let f=Vs([i,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(vt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),cS(s.children,e,d,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:WU(f,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of fS(s.path))r(s,o,l)}),e}function fS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=fS(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function NU(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:JU(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const OU=/^:\w+$/,UU=3,zU=2,GU=1,HU=10,VU=-2,Xy=n=>n==="*";function WU(n,e){let t=n.split("/"),i=t.length;return t.some(Xy)&&(i+=VU),e&&(i+=zU),t.filter(r=>!Xy(r)).reduce((r,s)=>r+(OU.test(s)?UU:s===""?GU:HU),i)}function JU(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function XU(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,f=r==="/"?e:e.slice(r.length)||"/",d=jU({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},f);if(!d)return null;Object.assign(i,d.params);let p=a.route;s.push({params:i,pathname:Vs([r,d.pathname]),pathnameBase:$U(Vs([r,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(r=Vs([r,d.pathnameBase]))}return s}function jU(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=KU(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((f,d,p)=>{if(d==="*"){let h=a[p]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return f[d]=YU(a[p]||"",d),f},{}),pathname:s,pathnameBase:o,pattern:n}}function KU(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Qf(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return n.endsWith("*")?(i.push("*"),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function ZU(n){try{return decodeURI(n)}catch(e){return Qf(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function YU(n,e){try{return decodeURIComponent(n)}catch(t){return Qf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function dS(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Qf(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QU(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?to(n):n;return{pathname:t?t.startsWith("/")?t:qU(t,e):e,search:ez(i),hash:tz(r)}}function qU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Qg(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Z8(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=to(n):(r=Nt({},n),vt(!r.pathname||!r.pathname.includes("?"),Qg("?","pathname","search",r)),vt(!r.pathname||!r.pathname.includes("#"),Qg("#","pathname","hash",r)),vt(!r.search||!r.search.includes("#"),Qg("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=t;else{let p=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;r.pathname=h.join("/")}a=p>=0?e[p]:"/"}let l=QU(r,a),f=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(f||d)&&(l.pathname+="/"),l}const Vs=n=>n.join("/").replace(/\/\/+/g,"/"),$U=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ez=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,tz=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class jy extends Error{}class nz{constructor(e,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],vt(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let i;this.abortPromise=new Promise((s,o)=>i=o),this.controller=new AbortController;let r=()=>i(new jy("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((s,o)=>{let[a,l]=o;return Object.assign(s,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let i=Promise.race([t,this.abortPromise]).then(r=>this.onSettle(i,e,null,r),r=>this.onSettle(i,e,r));return i.catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),i}onSettle(e,t,i,r){return this.controller.signal.aborted&&i instanceof jy?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>i}),Promise.reject(i)):(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),i?(Object.defineProperty(e,"_error",{get:()=>i}),this.emit(!1,t),Promise.reject(i)):(Object.defineProperty(e,"_data",{get:()=>r}),this.emit(!1,t),r))}emit(e,t){this.subscribers.forEach(i=>i(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let i=()=>this.cancel();e.addEventListener("abort",i),t=await new Promise(r=>{this.subscribe(s=>{e.removeEventListener("abort",i),(s||this.done)&&r(s)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return vt(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[i,r]=t;return Object.assign(e,{[i]:rz(r)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function iz(n){return n instanceof Promise&&n._tracked===!0}function rz(n){if(!iz(n))return n;if(n._error)throw n._error;return n._data}class Y8{constructor(e,t,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function hS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const pS=["post","put","patch","delete"],sz=new Set(pS),oz=["get",...pS],az=new Set(oz),lz=new Set([301,302,303,307,308]),uz=new Set([307,308]),qg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},cz={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Ky={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},mS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fz=!gS;function dz(n){vt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=uS(n.routes),t=null,i=new Set,r=null,s=null,o=null,a=n.hydrationData!=null,l=ef(e,n.history.location,n.basename),f=null;if(l==null){let F=Co(404,{pathname:n.history.location.pathname}),{matches:J,route:$}=e7(e);l=J,f={[$.id]:F}}let d=!l.some(F=>F.route.loader)||n.hydrationData!=null,p,h={historyAction:n.history.action,location:n.history.location,matches:l,initialized:d,navigation:qg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||f,fetchers:new Map,blockers:new Map},g=Tn.Pop,v=!1,y,x=!1,_=!1,C=[],S=[],w=new Map,T=0,B=-1,R=new Map,E=new Set,P=new Map,I=new Map,G=new Map,ie=!1;function K(){return t=n.history.listen(F=>{let{action:J,location:$,delta:me}=F;if(ie){ie=!1;return}Qf(G.size===0||me!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=Ye({currentLocation:h.location,nextLocation:$,historyAction:J});if(_e&&me!=null){ie=!0,n.history.go(me*-1),Ve(_e,{state:"blocked",location:$,proceed(){Ve(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),n.history.go(me)},reset(){Ne(_e),le({blockers:new Map(p.state.blockers)})}});return}return W(J,$)}),h.initialized||W(Tn.Pop,h.location),p}function j(){t&&t(),i.clear(),y&&y.abort(),h.fetchers.forEach((F,J)=>ke(J)),h.blockers.forEach((F,J)=>Ne(J))}function te(F){return i.add(F),()=>i.delete(F)}function le(F){h=Nt({},h,F),i.forEach(J=>J(h))}function ce(F,J){var $,me;let _e=h.actionData!=null&&h.navigation.formMethod!=null&&Ps(h.navigation.formMethod)&&h.navigation.state==="loading"&&(($=F.state)==null?void 0:$._isRedirect)!==!0,Se;J.actionData?Object.keys(J.actionData).length>0?Se=J.actionData:Se=null:_e?Se=h.actionData:Se=null;let re=J.loaderData?$y(h.loaderData,J.loaderData,J.matches||[],J.errors):h.loaderData;for(let[Be]of G)Ne(Be);let Le=v===!0||h.navigation.formMethod!=null&&Ps(h.navigation.formMethod)&&((me=F.state)==null?void 0:me._isRedirect)!==!0;le(Nt({},J,{actionData:Se,loaderData:re,historyAction:g,location:F,initialized:!0,navigation:qg,revalidation:"idle",restoreScrollPosition:D(F,J.matches||h.matches),preventScrollReset:Le,blockers:new Map(h.blockers)})),x||g===Tn.Pop||(g===Tn.Push?n.history.push(F,F.state):g===Tn.Replace&&n.history.replace(F,F.state)),g=Tn.Pop,v=!1,x=!1,_=!1,C=[],S=[]}async function L(F,J){if(typeof F=="number"){n.history.go(F);return}let{path:$,submission:me,error:_e}=Zy(F,J),Se=h.location,re=Yf(h.location,$,J&&J.state);re=Nt({},re,n.history.encodeLocation(re));let Le=J&&J.replace!=null?J.replace:void 0,Be=Tn.Push;Le===!0?Be=Tn.Replace:Le===!1||me!=null&&Ps(me.formMethod)&&me.formAction===h.location.pathname+h.location.search&&(Be=Tn.Replace);let He=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,Fe=Ye({currentLocation:Se,nextLocation:re,historyAction:Be});if(Fe){Ve(Fe,{state:"blocked",location:re,proceed(){Ve(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),L(F,J)},reset(){Ne(Fe),le({blockers:new Map(h.blockers)})}});return}return await W(Be,re,{submission:me,pendingError:_e,preventScrollReset:He,replace:J&&J.replace})}function V(){if(ze(),le({revalidation:"loading"}),h.navigation.state!=="submitting"){if(h.navigation.state==="idle"){W(h.historyAction,h.location,{startUninterruptedRevalidation:!0});return}W(g||h.historyAction,h.navigation.location,{overrideNavigation:h.navigation})}}async function W(F,J,$){y&&y.abort(),y=null,g=F,x=($&&$.startUninterruptedRevalidation)===!0,z(h.location,h.matches),v=($&&$.preventScrollReset)===!0;let me=$&&$.overrideNavigation,_e=ef(e,J,n.basename);if(!_e){let Ge=Co(404,{pathname:J.pathname}),{matches:st,route:yt}=e7(e);tt(),ce(J,{matches:st,loaderData:{},errors:{[yt.id]:Ge}});return}if(vz(h.location,J)&&!($&&$.submission&&Ps($.submission.formMethod))){ce(J,{matches:_e});return}y=new AbortController;let Se=Xc(n.history,J,y.signal,$&&$.submission),re,Le;if($&&$.pendingError)Le={[iu(_e).route.id]:$.pendingError};else if($&&$.submission&&Ps($.submission.formMethod)){let Ge=await X(Se,J,$.submission,_e,{replace:$.replace});if(Ge.shortCircuited)return;re=Ge.pendingActionData,Le=Ge.pendingActionError,me=Nt({state:"loading",location:J},$.submission),Se=new Request(Se.url,{signal:Se.signal})}let{shortCircuited:Be,loaderData:He,errors:Fe}=await H(Se,J,_e,me,$&&$.submission,$&&$.replace,re,Le);Be||(y=null,ce(J,Nt({matches:_e},re?{actionData:re}:{},{loaderData:He,errors:Fe})))}async function X(F,J,$,me,_e){ze();let Se=Nt({state:"submitting",location:J},$);le({navigation:Se});let re,Le=r7(me,J);if(!Le.route.action)re={type:Kn.error,error:Co(405,{method:F.method,pathname:J.pathname,routeId:Le.route.id})};else if(re=await Jc("action",F,Le,me,p.basename),F.signal.aborted)return{shortCircuited:!0};if(du(re)){let Be;return _e&&_e.replace!=null?Be=_e.replace:Be=re.location===h.location.pathname+h.location.search,await Ee(h,re,{submission:$,replace:Be}),{shortCircuited:!0}}if(gf(re)){let Be=iu(me,Le.route.id);return(_e&&_e.replace)!==!0&&(g=Tn.Push),{pendingActionData:{},pendingActionError:{[Be.route.id]:re.error}}}if(Da(re))throw Co(400,{type:"defer-action"});return{pendingActionData:{[Le.route.id]:re.data}}}async function H(F,J,$,me,_e,Se,re,Le){let Be=me;Be||(Be=Nt({state:"loading",location:J,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},_e));let He=_e||(Be.formMethod&&Be.formAction&&Be.formData&&Be.formEncType?{formMethod:Be.formMethod,formAction:Be.formAction,formData:Be.formData,formEncType:Be.formEncType}:void 0),[Fe,Ge]=Yy(n.history,h,$,He,J,_,C,S,re,Le,P);if(tt(We=>!($&&$.some(lt=>lt.route.id===We))||Fe&&Fe.some(lt=>lt.route.id===We)),Fe.length===0&&Ge.length===0)return ce(J,Nt({matches:$,loaderData:{},errors:Le||null},re?{actionData:re}:{})),{shortCircuited:!0};if(!x){Ge.forEach(lt=>{let Ut=h.fetchers.get(lt.key),sn={state:"loading",data:Ut&&Ut.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(lt.key,sn)});let We=re||h.actionData;le(Nt({navigation:Be},We?Object.keys(We).length===0?{actionData:null}:{actionData:We}:{},Ge.length>0?{fetchers:new Map(h.fetchers)}:{}))}B=++T,Ge.forEach(We=>w.set(We.key,y));let{results:st,loaderResults:yt,fetcherResults:Kt}=await he(h.matches,$,Fe,Ge,F);if(F.signal.aborted)return{shortCircuited:!0};Ge.forEach(We=>w.delete(We.key));let Y=t7(st);if(Y)return await Ee(h,Y,{replace:Se}),{shortCircuited:!0};let{loaderData:xe,errors:Ae}=qy(h,$,Fe,yt,Le,Ge,Kt,I);I.forEach((We,lt)=>{We.subscribe(Ut=>{(Ut||We.done)&&I.delete(lt)})}),Te();let Xe=be(B);return Nt({loaderData:xe,errors:Ae},Xe||Ge.length>0?{fetchers:new Map(h.fetchers)}:{})}function q(F){return h.fetchers.get(F)||cz}function ne(F,J,$,me){if(fz)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");w.has(F)&&se(F);let _e=ef(e,$,n.basename);if(!_e){we(F,J,Co(404,{pathname:$}));return}let{path:Se,submission:re}=Zy($,me,!0),Le=r7(_e,Se);if(v=(me&&me.preventScrollReset)===!0,re&&Ps(re.formMethod)){ge(F,J,Se,Le,_e,re);return}P.set(F,{routeId:J,path:Se,match:Le,matches:_e}),N(F,J,Se,Le,_e,re)}async function ge(F,J,$,me,_e,Se){if(ze(),P.delete(F),!me.route.action){let $t=Co(405,{method:Se.formMethod,pathname:$,routeId:J});we(F,J,$t);return}let re=h.fetchers.get(F),Le=Nt({state:"submitting"},Se,{data:re&&re.data," _hasFetcherDoneAnything ":!0});h.fetchers.set(F,Le),le({fetchers:new Map(h.fetchers)});let Be=new AbortController,He=Xc(n.history,$,Be.signal,Se);w.set(F,Be);let Fe=await Jc("action",He,me,_e,p.basename);if(He.signal.aborted){w.get(F)===Be&&w.delete(F);return}if(du(Fe)){w.delete(F),E.add(F);let $t=Nt({state:"loading"},Se,{data:void 0," _hasFetcherDoneAnything ":!0});return h.fetchers.set(F,$t),le({fetchers:new Map(h.fetchers)}),Ee(h,Fe,{isFetchActionRedirect:!0})}if(gf(Fe)){we(F,J,Fe.error);return}if(Da(Fe))throw Co(400,{type:"defer-action"});let Ge=h.navigation.location||h.location,st=Xc(n.history,Ge,Be.signal),yt=h.navigation.state!=="idle"?ef(e,h.navigation.location,n.basename):h.matches;vt(yt,"Didn't find any matches after fetcher action");let Kt=++T;R.set(F,Kt);let Y=Nt({state:"loading",data:Fe.data},Se,{" _hasFetcherDoneAnything ":!0});h.fetchers.set(F,Y);let[xe,Ae]=Yy(n.history,h,yt,Se,Ge,_,C,S,{[me.route.id]:Fe.data},void 0,P);Ae.filter($t=>$t.key!==F).forEach($t=>{let no=$t.key,rl=h.fetchers.get(no),sl={state:"loading",data:rl&&rl.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(no,sl),w.set(no,Be)}),le({fetchers:new Map(h.fetchers)});let{results:Xe,loaderResults:We,fetcherResults:lt}=await he(h.matches,yt,xe,Ae,st);if(Be.signal.aborted)return;R.delete(F),w.delete(F),Ae.forEach($t=>w.delete($t.key));let Ut=t7(Xe);if(Ut)return Ee(h,Ut);let{loaderData:sn,errors:Si}=qy(h,h.matches,xe,We,void 0,Ae,lt,I),zt={state:"idle",data:Fe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(F,zt);let wi=be(Kt);h.navigation.state==="loading"&&Kt>B?(vt(g,"Expected pending action"),y&&y.abort(),ce(h.navigation.location,{matches:yt,loaderData:sn,errors:Si,fetchers:new Map(h.fetchers)})):(le(Nt({errors:Si,loaderData:$y(h.loaderData,sn,yt,Si)},wi?{fetchers:new Map(h.fetchers)}:{})),_=!1)}async function N(F,J,$,me,_e,Se){let re=h.fetchers.get(F),Le=Nt({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Se,{data:re&&re.data," _hasFetcherDoneAnything ":!0});h.fetchers.set(F,Le),le({fetchers:new Map(h.fetchers)});let Be=new AbortController,He=Xc(n.history,$,Be.signal);w.set(F,Be);let Fe=await Jc("loader",He,me,_e,p.basename);if(Da(Fe)&&(Fe=await _S(Fe,He.signal,!0)||Fe),w.get(F)===Be&&w.delete(F),He.signal.aborted)return;if(du(Fe)){await Ee(h,Fe);return}if(gf(Fe)){let st=iu(h.matches,J);h.fetchers.delete(F),le({fetchers:new Map(h.fetchers),errors:{[st.route.id]:Fe.error}});return}vt(!Da(Fe),"Unhandled fetcher deferred data");let Ge={state:"idle",data:Fe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(F,Ge),le({fetchers:new Map(h.fetchers)})}async function Ee(F,J,$){var me;let{submission:_e,replace:Se,isFetchActionRedirect:re}=$===void 0?{}:$;J.revalidate&&(_=!0);let Le=Yf(F.location,J.location,Nt({_isRedirect:!0},re?{_isFetchActionRedirect:!0}:{}));if(vt(Le,"Expected a location on the redirect navigation"),mS.test(J.location)&&gS&&typeof((me=window)==null?void 0:me.location)<"u"){let yt=n.history.createURL(J.location).origin;if(window.location.origin!==yt){Se?window.location.replace(J.location):window.location.assign(J.location);return}}y=null;let Be=Se===!0?Tn.Replace:Tn.Push,{formMethod:He,formAction:Fe,formEncType:Ge,formData:st}=F.navigation;!_e&&He&&Fe&&st&&Ge&&(_e={formMethod:He,formAction:Fe,formEncType:Ge,formData:st}),uz.has(J.status)&&_e&&Ps(_e.formMethod)?await W(Be,Le,{submission:Nt({},_e,{formAction:J.location}),preventScrollReset:v}):await W(Be,Le,{overrideNavigation:{state:"loading",location:Le,formMethod:_e?_e.formMethod:void 0,formAction:_e?_e.formAction:void 0,formEncType:_e?_e.formEncType:void 0,formData:_e?_e.formData:void 0},preventScrollReset:v})}async function he(F,J,$,me,_e){let Se=await Promise.all([...$.map(Be=>Jc("loader",_e,Be,J,p.basename)),...me.map(Be=>Jc("loader",Xc(n.history,Be.path,_e.signal),Be.match,Be.matches,p.basename))]),re=Se.slice(0,$.length),Le=Se.slice($.length);return await Promise.all([n7(F,$,re,_e.signal,!1,h.loaderData),n7(F,me.map(Be=>Be.match),Le,_e.signal,!0)]),{results:Se,loaderResults:re,fetcherResults:Le}}function ze(){_=!0,C.push(...tt()),P.forEach((F,J)=>{w.has(J)&&(S.push(J),se(J))})}function we(F,J,$){let me=iu(h.matches,J);ke(F),le({errors:{[me.route.id]:$},fetchers:new Map(h.fetchers)})}function ke(F){w.has(F)&&se(F),P.delete(F),R.delete(F),E.delete(F),h.fetchers.delete(F)}function se(F){let J=w.get(F);vt(J,"Expected fetch controller: "+F),J.abort(),w.delete(F)}function de(F){for(let J of F){let me={state:"idle",data:q(J).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};h.fetchers.set(J,me)}}function Te(){let F=[];for(let J of E){let $=h.fetchers.get(J);vt($,"Expected fetcher: "+J),$.state==="loading"&&(E.delete(J),F.push(J))}de(F)}function be(F){let J=[];for(let[$,me]of R)if(me<F){let _e=h.fetchers.get($);vt(_e,"Expected fetcher: "+$),_e.state==="loading"&&(se($),R.delete($),J.push($))}return de(J),J.length>0}function Re(F,J){let $=h.blockers.get(F)||Ky;return G.get(F)!==J&&G.set(F,J),$}function Ne(F){h.blockers.delete(F),G.delete(F)}function Ve(F,J){let $=h.blockers.get(F)||Ky;vt($.state==="unblocked"&&J.state==="blocked"||$.state==="blocked"&&J.state==="blocked"||$.state==="blocked"&&J.state==="proceeding"||$.state==="blocked"&&J.state==="unblocked"||$.state==="proceeding"&&J.state==="unblocked","Invalid blocker state transition: "+$.state+" -> "+J.state),h.blockers.set(F,J),le({blockers:new Map(h.blockers)})}function Ye(F){let{currentLocation:J,nextLocation:$,historyAction:me}=F;if(G.size===0)return;G.size>1&&Qf(!1,"A router only supports one blocker at a time");let _e=Array.from(G.entries()),[Se,re]=_e[_e.length-1],Le=h.blockers.get(Se);if(!(Le&&Le.state==="proceeding")&&re({currentLocation:J,nextLocation:$,historyAction:me}))return Se}function tt(F){let J=[];return I.forEach(($,me)=>{(!F||F(me))&&($.cancel(),J.push(me),I.delete(me))}),J}function Ct(F,J,$){if(r=F,o=J,s=$||(me=>me.key),!a&&h.navigation===qg){a=!0;let me=D(h.location,h.matches);me!=null&&le({restoreScrollPosition:me})}return()=>{r=null,o=null,s=null}}function z(F,J){if(r&&s&&o){let $=J.map(_e=>i7(_e,h.loaderData)),me=s(F,$)||F.key;r[me]=o()}}function D(F,J){if(r&&s&&o){let $=J.map(Se=>i7(Se,h.loaderData)),me=s(F,$)||F.key,_e=r[me];if(typeof _e=="number")return _e}return null}return p={get basename(){return n.basename},get state(){return h},get routes(){return e},initialize:K,subscribe:te,enableScrollRestoration:Ct,navigate:L,fetch:ne,revalidate:V,createHref:F=>n.history.createHref(F),encodeLocation:F=>n.history.encodeLocation(F),getFetcher:q,deleteFetcher:ke,dispose:j,getBlocker:Re,deleteBlocker:Ne,_internalFetchControllers:w,_internalActiveDeferreds:I},p}function hz(n){return n!=null&&"formData"in n}function Zy(n,e,t){t===void 0&&(t=!1);let i=typeof n=="string"?n:Ys(n);if(!e||!hz(e))return{path:i};if(e.formMethod&&!xz(e.formMethod))return{path:i,error:Co(405,{method:e.formMethod})};let r;if(e.formData&&(r={formMethod:e.formMethod||"get",formAction:xS(i),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Ps(r.formMethod)))return{path:i,submission:r};let s=to(i),o=yS(e.formData);return t&&s.search&&CS(s.search)&&o.append("index",""),s.search="?"+o,{path:Ys(s),submission:r}}function pz(n,e){let t=n;if(e){let i=n.findIndex(r=>r.route.id===e);i>=0&&(t=n.slice(0,i))}return t}function Yy(n,e,t,i,r,s,o,a,l,f,d){let p=f?Object.values(f)[0]:l?Object.values(l)[0]:void 0,h=n.createURL(e.location),g=n.createURL(r),v=s||h.toString()===g.toString()||h.search!==g.search,y=f?Object.keys(f)[0]:void 0,_=pz(t,y).filter((S,w)=>{if(S.route.loader==null)return!1;if(mz(e.loaderData,e.matches[w],S)||o.some(R=>R===S.route.id))return!0;let T=e.matches[w],B=S;return Qy(S,Nt({currentUrl:h,currentParams:T.params,nextUrl:g,nextParams:B.params},i,{actionResult:p,defaultShouldRevalidate:v||vS(T,B)}))}),C=[];return d&&d.forEach((S,w)=>{if(t.some(T=>T.route.id===S.routeId))a.includes(w)?C.push(Nt({key:w},S)):Qy(S.match,Nt({currentUrl:h,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:t[t.length-1].params},i,{actionResult:p,defaultShouldRevalidate:v}))&&C.push(Nt({key:w},S));else return}),[_,C]}function mz(n,e,t){let i=!e||t.route.id!==e.route.id,r=n[t.route.id]===void 0;return i||r}function vS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Qy(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function Jc(n,e,t,i,r,s,o,a){r===void 0&&(r="/"),s===void 0&&(s=!1),o===void 0&&(o=!1);let l,f,d,p=new Promise((g,v)=>d=v),h=()=>d();e.signal.addEventListener("abort",h);try{let g=t.route[n];vt(g,"Could not find the "+n+' to run on the "'+t.route.id+'" route'),f=await Promise.race([g({request:e,params:t.params,context:a}),p]),vt(f!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(g){l=Kn.error,f=g}finally{e.signal.removeEventListener("abort",h)}if(yz(f)){let g=f.status;if(lz.has(g)){let x=f.headers.get("Location");if(vt(x,"Redirects returned/thrown from loaders/actions must have a Location header"),mS.test(x)){if(!s){let _=new URL(e.url),C=x.startsWith("//")?new URL(_.protocol+x):new URL(x);C.origin===_.origin&&(x=C.pathname+C.search+C.hash)}}else{let _=i.slice(0,i.indexOf(t)+1),C=_0(_).map(w=>w.pathnameBase),S=Z8(x,C,new URL(e.url).pathname);if(vt(Ys(S),"Unable to resolve redirect location: "+x),r){let w=S.pathname;S.pathname=w==="/"?r:Vs([r,w])}x=Ys(S)}if(s)throw f.headers.set("Location",x),f;return{type:Kn.redirect,status:g,location:x,revalidate:f.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:l||Kn.data,response:f};let v,y=f.headers.get("Content-Type");return y&&/\bapplication\/json\b/.test(y)?v=await f.json():v=await f.text(),l===Kn.error?{type:l,error:new Y8(g,f.statusText,v),headers:f.headers}:{type:Kn.data,data:v,statusCode:f.status,headers:f.headers}}return l===Kn.error?{type:l,error:f}:f instanceof nz?{type:Kn.deferred,deferredData:f}:{type:Kn.data,data:f}}function Xc(n,e,t,i){let r=n.createURL(xS(e)).toString(),s={signal:t};if(i&&Ps(i.formMethod)){let{formMethod:o,formEncType:a,formData:l}=i;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?yS(l):l}return new Request(r,s)}function yS(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,i instanceof File?i.name:i);return e}function gz(n,e,t,i,r){let s={},o=null,a,l=!1,f={};return t.forEach((d,p)=>{let h=e[p].route.id;if(vt(!du(d),"Cannot handle redirect results in processLoaderData"),gf(d)){let g=iu(n,h),v=d.error;i&&(v=Object.values(i)[0],i=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=v),s[h]=void 0,l||(l=!0,a=hS(d.error)?d.error.status:500),d.headers&&(f[h]=d.headers)}else Da(d)?(r.set(h,d.deferredData),s[h]=d.deferredData.data):s[h]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(f[h]=d.headers)}),i&&(o=i,s[Object.keys(i)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:f}}function qy(n,e,t,i,r,s,o,a){let{loaderData:l,errors:f}=gz(e,t,i,r,a);for(let d=0;d<s.length;d++){let{key:p,match:h}=s[d];vt(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let g=o[d];if(gf(g)){let v=iu(n.matches,h.route.id);f&&f[v.route.id]||(f=Nt({},f,{[v.route.id]:g.error})),n.fetchers.delete(p)}else if(du(g))vt(!1,"Unhandled fetcher revalidation redirect");else if(Da(g))vt(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};n.fetchers.set(p,v)}}return{loaderData:l,errors:f}}function $y(n,e,t,i){let r=Nt({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(r[o]=e[o]):n[o]!==void 0&&(r[o]=n[o]),i&&i.hasOwnProperty(o))break}return r}function iu(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function e7(n){let e=n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Co(n,e){let{pathname:t,routeId:i,method:r,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return n===400?(o="Bad Request",r&&t&&i?a="You made a "+r+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):n===403?(o="Forbidden",a='Route "'+i+'" does not match URL "'+t+'"'):n===404?(o="Not Found",a='No route matches URL "'+t+'"'):n===405&&(o="Method Not Allowed",r&&t&&i?a="You made a "+r.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(a='Invalid request method "'+r.toUpperCase()+'"')),new Y8(n||500,o,new Error(a),!0)}function t7(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(du(t))return t}}function xS(n){let e=typeof n=="string"?to(n):n;return Ys(Nt({},e,{hash:""}))}function vz(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash!==e.hash}function Da(n){return n.type===Kn.deferred}function gf(n){return n.type===Kn.error}function du(n){return(n&&n.type)===Kn.redirect}function yz(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function xz(n){return az.has(n)}function Ps(n){return sz.has(n)}async function n7(n,e,t,i,r,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o],f=n.find(p=>p.route.id===l.route.id),d=f!=null&&!vS(f,l)&&(s&&s[l.route.id])!==void 0;Da(a)&&(r||d)&&await _S(a,i,r).then(p=>{p&&(t[o]=p||t[o])})}}async function _S(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Kn.data,data:n.deferredData.unwrappedData}}catch(r){return{type:Kn.error,error:r}}return{type:Kn.data,data:n.deferredData.data}}}function CS(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function i7(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function r7(n,e){let t=typeof e=="string"?to(e).search:e.search;if(n[n.length-1].route.index&&CS(t||""))return n[n.length-1];let i=_0(n);return i[i.length-1]}/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bm(){return Bm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bm.apply(this,arguments)}function _z(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const Cz=typeof Object.is=="function"?Object.is:_z,{useState:Mz,useEffect:Sz,useLayoutEffect:wz,useDebugValue:Az}=n2;function Ez(n,e,t){const i=e(),[{inst:r},s]=Mz({inst:{value:i,getSnapshot:e}});return wz(()=>{r.value=i,r.getSnapshot=e,$g(r)&&s({inst:r})},[n,i,e]),Sz(()=>($g(r)&&s({inst:r}),n(()=>{$g(r)&&s({inst:r})})),[n]),Az(i),i}function $g(n){const e=n.getSnapshot,t=n.value;try{const i=e();return!Cz(t,i)}catch{return!0}}function Tz(n,e,t){return e()}const bz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bz=!bz,Rz=Bz?Tz:Ez,Pz="useSyncExternalStore"in n2?(n=>n.useSyncExternalStore)(n2):Rz,Q8=Z.createContext(null),q8=Z.createContext(null),C0=Z.createContext(null),M0=Z.createContext(null),il=Z.createContext({outlet:null,matches:[]}),MS=Z.createContext(null);function Lz(n,e){let{relative:t}=e===void 0?{}:e;wd()||vt(!1);let{basename:i,navigator:r}=Z.useContext(C0),{hash:s,pathname:o,search:a}=SS(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:Vs([i,o])),r.createHref({pathname:l,search:a,hash:s})}function wd(){return Z.useContext(M0)!=null}function S0(){return wd()||vt(!1),Z.useContext(M0).location}function Iz(){wd()||vt(!1);let{basename:n,navigator:e}=Z.useContext(C0),{matches:t}=Z.useContext(il),{pathname:i}=S0(),r=JSON.stringify(_0(t).map(a=>a.pathnameBase)),s=Z.useRef(!1);return Z.useEffect(()=>{s.current=!0}),Z.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let f=Z8(a,JSON.parse(r),i,l.relative==="path");n!=="/"&&(f.pathname=f.pathname==="/"?n:Vs([n,f.pathname])),(l.replace?e.replace:e.push)(f,l.state,l)},[n,e,r,i])}const Dz=Z.createContext(null);function Fz(n){let e=Z.useContext(il).outlet;return e&&Z.createElement(Dz.Provider,{value:n},e)}function SS(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=Z.useContext(il),{pathname:r}=S0(),s=JSON.stringify(_0(i).map(o=>o.pathnameBase));return Z.useMemo(()=>Z8(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}function kz(n,e){wd()||vt(!1);let{navigator:t}=Z.useContext(C0),i=Z.useContext(q8),{matches:r}=Z.useContext(il),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=S0(),f;if(e){var d;let y=typeof e=="string"?to(e):e;a==="/"||(d=y.pathname)!=null&&d.startsWith(a)||vt(!1),f=y}else f=l;let p=f.pathname||"/",h=a==="/"?p:p.slice(a.length)||"/",g=ef(n,{pathname:h}),v=zz(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Vs([a,t.encodeLocation?t.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Vs([a,t.encodeLocation?t.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),r,i||void 0);return e&&v?Z.createElement(M0.Provider,{value:{location:Bm({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Tn.Pop}},v):v}function Nz(){let n=wS(),e=hS(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:r},t):null,s)}class Oz extends Z.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Z.createElement(il.Provider,{value:this.props.routeContext},Z.createElement(MS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uz(n){let{routeContext:e,match:t,children:i}=n,r=Z.useContext(Q8);return r&&r.static&&r.staticContext&&t.route.errorElement&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(il.Provider,{value:e},i)}function zz(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let i=n,r=t==null?void 0:t.errors;if(r!=null){let s=i.findIndex(o=>o.route.id&&(r==null?void 0:r[o.route.id]));s>=0||vt(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((s,o,a)=>{let l=o.route.id?r==null?void 0:r[o.route.id]:null,f=t?o.route.errorElement||Z.createElement(Nz,null):null,d=e.concat(i.slice(0,a+1)),p=()=>Z.createElement(Uz,{match:o,routeContext:{outlet:s,matches:d}},l?f:o.route.element!==void 0?o.route.element:s);return t&&(o.route.errorElement||a===0)?Z.createElement(Oz,{location:t.location,component:f,error:l,children:p(),routeContext:{outlet:null,matches:d}}):p()},null)}var s7;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(s7||(s7={}));var Rm;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(Rm||(Rm={}));function Gz(n){let e=Z.useContext(q8);return e||vt(!1),e}function Hz(n){let e=Z.useContext(il);return e||vt(!1),e}function Vz(n){let e=Hz(),t=e.matches[e.matches.length-1];return t.route.id||vt(!1),t.route.id}function wS(){var n;let e=Z.useContext(MS),t=Gz(Rm.UseRouteError),i=Vz(Rm.UseRouteError);return e||((n=t.errors)==null?void 0:n[i])}function Wz(n){let{fallbackElement:e,router:t}=n,i=Pz(t.subscribe,()=>t.state,()=>t.state),r=Z.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:o=>t.navigate(o),push:(o,a,l)=>t.navigate(o,{state:a,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,a,l)=>t.navigate(o,{replace:!0,state:a,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[t]),s=t.basename||"/";return Z.createElement(Z.Fragment,null,Z.createElement(Q8.Provider,{value:{router:t,navigator:r,static:!1,basename:s}},Z.createElement(q8.Provider,{value:i},Z.createElement(jz,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:r},t.state.initialized?Z.createElement(Kz,null):e))),null)}function Jz(n){return Fz(n.context)}function Xz(n){vt(!1)}function jz(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Tn.Pop,navigator:s,static:o=!1}=n;wd()&&vt(!1);let a=e.replace(/^\/*/,"/"),l=Z.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=to(i));let{pathname:f="/",search:d="",hash:p="",state:h=null,key:g="default"}=i,v=Z.useMemo(()=>{let y=dS(f,a);return y==null?null:{pathname:y,search:d,hash:p,state:h,key:g}},[a,f,d,p,h,g]);return v==null?null:Z.createElement(C0.Provider,{value:l},Z.createElement(M0.Provider,{children:t,value:{location:v,navigationType:r}}))}function Kz(n){let{children:e,location:t}=n,i=Z.useContext(Q8),r=i&&!e?i.router.routes:K3(e);return kz(r,t)}var o7;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(o7||(o7={}));new Promise(()=>{});function K3(n,e){e===void 0&&(e=[]);let t=[];return Z.Children.forEach(n,(i,r)=>{if(!Z.isValidElement(i))return;if(i.type===Z.Fragment){t.push.apply(t,K3(i.props.children,e));return}i.type!==Xz&&vt(!1),!i.props.index||!i.props.children||vt(!1);let s=[...e,r],o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(o.children=K3(i.props.children,s)),t.push(o)}),t}function AS(n){return n.map(e=>{let t=Bm({},e);return t.hasErrorBoundary==null&&(t.hasErrorBoundary=t.errorElement!=null),t.children&&(t.children=AS(t.children)),t})}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pm(){return Pm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pm.apply(this,arguments)}function Zz(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Yz(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Qz(n,e){return n.button===0&&(!e||e==="_self")&&!Yz(n)}const qz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function $z(n,e){return dz({basename:e==null?void 0:e.basename,history:IU({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||eG(),routes:AS(n)}).initialize()}function eG(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Pm({},e,{errors:tG(e.errors)})),e}function tG(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new Y8(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){let s=new Error(r.message);s.stack="",t[i]=s}else t[i]=r;return t}const nG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iG=Z.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:f,preventScrollReset:d}=e,p=Zz(e,qz),h,g=!1;if(nG&&typeof f=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(f)){h=f;let _=new URL(window.location.href),C=f.startsWith("//")?new URL(_.protocol+f):new URL(f);C.origin===_.origin?f=C.pathname+C.search+C.hash:g=!0}let v=Lz(f,{relative:r}),y=rG(f,{replace:o,state:a,target:l,preventScrollReset:d,relative:r});function x(_){i&&i(_),_.defaultPrevented||y(_)}return Z.createElement("a",Pm({},p,{href:h||v,onClick:g||s?i:x,ref:t,target:l}))});var a7;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(a7||(a7={}));var l7;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(l7||(l7={}));function rG(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Iz(),l=S0(),f=SS(n,{relative:o});return Z.useCallback(d=>{if(Qz(d,t)){d.preventDefault();let p=i!==void 0?i:Ys(l)===Ys(f);a(n,{replace:p,state:r,preventScrollReset:s,relative:o})}},[l,a,f,i,r,t,n,s,o])}const sG=LU`
  from { opacity: 1; }
  to { opacity: 0; }
`,oG=jr.div` ${sG} 4s normal forwards ease-in-out;
`,aG=jr.div`
  font-size: 16px;
  
  & h1 {
    color: seashell;
    font-family: 'Ayer Poster', serif;   
    font-weight: 400;
    font-size: min(18vw, 14em);
    line-height: 0.85em;
  }
  
  & h2 {
    color: seagreen;
    font-family: Georgia, serif;
    font-weight: 400;
    font-size: min(5vw, 3em);
    line-height: 0.85em;
    -webkit-text-stroke: 0.2px black;
  }
  
  & p {
    color: seagreen;
    font-family: Tahoma, sans-serif;
    font-weight: 400;
    font-size: min(2.5vw, 1.5em);
    line-height: 0.85em;
    -webkit-text-stroke: 0.25px black;
  }

  & img {
    position: relative;
    width: 100px;
    height: 100px;
  }
`,lG=jr.div`
  position: absolute;
  top: 5vw;
  left: 5vw;
`,uG=jr.div`
  position: absolute;
  bottom: 5vw;
  left: 5vw;
  width: 30ch;
  max-width: 40%;
  
  
`,cG=jr.div`
  position: absolute;
  bottom: 5vw;
  left: 45vw; 
  text-align: center;
  display: flex;
  flex-direction: row;
  & > div {
    position: relative;
    width: 48px;
    height: 2px;
  }
`,fG=jr.div`
  position: absolute;
  bottom: 5vw;
  right: 5vw;
  width: 35ch;
  max-width: 40%;
  line-height: 1em;
  letter-spacing: -0.01em;
  text-align: right;
`,dG=jr.div`
  position: absolute;
  display: flex;
  flex-direction: column;
  top: 5vw;
  right: 5vw;
  color: wheat;
`,hG=jr.div`
  font-family: Tahoma, sans-serif;
  position: absolute;
  bottom: 50%;
  right: 5vw;
  font-weight: 400;
  line-height: 1em;
  letter-spacing: -0.01em;
  font-size: 12px;
  transform: rotate(90deg) translate3d(50%, 0, 0);
  transform-origin: 100% 50%;
  color: wheat;
`,e2=jr.a`
  font-family: Tahoma, sans-serif;
  text-decoration: none;
  position: relative;
  z-index: 1;
  
  &::before {
    content: '';
    background-color: seashell ;
    position: absolute ;
    left: 0 ;
    bottom: 3px ;
    width: 105% ;
    height: 8px ;
    z-index: -1 ;
    transition: all .3s ease-in-out ;
  }

  &:hover::before {
    bottom: 0 ;
    height: 110% ;
  }
`,t2=jr(iG)`
  font-family: Tahoma, sans-serif;
  text-decoration: none;
  position: relative;
  z-index: 1;
  font-size: 150%;
  
  &::before {
    content: '' ;
    background-color: seashell ;
    position: absolute  ;
    left: 0  ;
    bottom: 3px  ;
    width: 105%  ;
    height: 8px  ;
    z-index: -1  ;
    transition: all .3s ease-in-out  ;
  }

  &:hover::before {
    bottom: 0  ;
    height: 110%  ;
  }
`,pG=jr.svg`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate3d(-50%, -50%, 0) rotate(0deg);
  width: 75%;
  height: 75%;
  & g.skin {
    cursor: pointer;
  }
`;function mG(){return fe(pG,{viewBox:"0 0 1138 1191",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:gr("g",{className:"skin",children:[fe("path",{d:"M269 994L262 984L256 981L251 976L248 971L234.5 966L230.5 959L234.5 955.5L236.5 946.5L245 944.5L285.5 916.5L290.5 907L316 872L355 835.5L431 784.5L549 699.5L594.5 655.5L642 595.5L676.5 535L713.5 459.5L738.5 406.5L751.5 370.5L764.5 347L766 339L758.5 318.5L734.5 267L712.5 238.5L710 232.5L705.5 229.5L696.5 215.5L696.5 204.5L703.5 195.5L711 206L719 204.5L726.5 207.5L734.5 206L739.5 210.5L744 215.5L746.5 219.5L754 222.5L771.5 228L799 282L801.5 291L822.5 313.5L859 341.5L867 347L875.5 358L887.5 383L891.5 398L893.5 404.5L900 420.5L904 438L905.5 467L904 495L897.5 525L890.5 551L869 603.5L843.5 656.5L799 722.5L739.5 787L647.5 865.5L578 910.5L478.5 962L433 977.5L423 979L410 984L386 989L352 992L316 992L284.5 995L276 994L269 994Z",fill:"transparent"}),fe("path",{d:"M474.982 955.934C475.323 956.041 475.814 955.671 475.985 955.125C476.156 954.58 475.965 953.995 475.624 953.888C475.215 953.76 474.792 954.152 474.621 954.697C474.45 955.243 474.573 955.806 474.982 955.934Z",fill:"black"}),fe("path",{d:"M300.998 964.139C302.354 964.114 303.03 962.678 301.87 962.314C301.256 962.122 300.629 962.45 300.436 963.063C300.244 963.677 300.478 964.125 300.998 964.139Z",fill:"black"}),fe("path",{d:"M322.705 978.29C323.535 979.225 325.212 978.177 325.12 976.8C325.04 976.101 324.575 975.431 323.962 975.238C322.802 974.874 321.78 977.176 322.705 978.29Z",fill:"black"}),fe("path",{d:"M343.527 943.916C344.345 944.173 344.699 943.76 344.948 942.489C345.111 941.492 344.959 940.545 344.618 940.438C344.208 940.309 343.611 941.021 343.175 941.933C342.653 943.118 342.708 943.659 343.527 943.916Z",fill:"black"}),fe("path",{d:"M341.458 967.466C342.207 968.9 343.717 968.624 343.983 967.059C344.103 966.198 343.772 965.345 343.226 965.174C342.135 964.831 340.965 966.412 341.458 967.466Z",fill:"black"}),fe("path",{d:"M348.468 948.463C348.757 949.453 348.894 949.495 349.624 948.601C350.619 947.339 350.236 946.171 348.982 946.826C348.534 947.06 348.252 947.721 348.468 948.463Z",fill:"black"}),fe("path",{d:"M393.935 932.009C394.89 932.309 397.638 930.474 397.242 929.825C397.123 929.488 396.369 929.027 395.687 928.813C394.8 928.535 394.31 928.905 393.924 930.133C393.625 931.088 393.662 931.924 393.935 932.009Z",fill:"black"}),fe("path",{d:"M416.303 926.14C417.433 926.12 418.13 924.616 417.128 924.226C416.719 924.098 416.16 924.447 415.878 925.108C415.459 925.726 415.625 926.152 416.303 926.14Z",fill:"black"}),fe("path",{d:"M470.339 884.281C471.412 886.116 472.209 886.44 473.553 885.738C474.897 885.036 474.543 881.629 472.974 881.137C471.883 880.794 469.861 881.508 469.604 882.327C469.518 882.6 469.85 883.453 470.339 884.281Z",fill:"black"}),fe("path",{d:"M478.588 886.644C479.06 887.766 479.797 888.521 480.291 888.377C481.844 887.965 482.402 884.993 481.158 883.704C478.879 881.416 477.308 883.32 478.588 886.644Z",fill:"black"}),fe("path",{d:"M505.828 839.45C506.31 839.826 507.709 839.665 508.92 839.146C510.648 838.415 511.024 837.933 510.646 836.99C510.148 835.711 507.543 835.418 506.318 836.457C505.114 837.428 504.934 838.72 505.828 839.45Z",fill:"black"}),fe("path",{d:"M535.43 824.613C536.806 825.718 538.124 824.859 538.221 822.641C538.364 820.513 536.855 819.591 535.706 821.103C534.468 822.663 534.33 823.818 535.43 824.613Z",fill:"black"}),fe("path",{d:"M562.117 827.665C562.305 828.023 563.059 828.484 563.741 828.698C565.105 829.126 565.981 827.528 564.989 826.393C564.273 825.569 561.649 826.769 562.117 827.665Z",fill:"black"}),fe("path",{d:"M561.985 832.867C562.474 833.695 565.379 833.033 565.158 832.065C564.844 830.917 562.324 830.351 562.003 831.375C561.832 831.92 561.844 832.598 561.985 832.867Z",fill:"black"}),fe("path",{d:"M569.223 822.926C569.973 823.162 570.49 822.949 570.392 822.544C570.316 822.07 569.719 821.583 569.174 821.412C568.628 821.241 568.133 821.386 568.005 821.795C567.898 822.136 568.405 822.669 569.223 822.926Z",fill:"black"}),fe("path",{d:"M568.002 828.012C568.492 828.84 569.682 828.389 570.046 827.23C570.217 826.684 569.868 826.125 569.322 825.954C568.299 825.633 567.441 826.937 568.002 828.012Z",fill:"black"}),fe("path",{d:"M568.926 832.947C569.595 833.681 570.82 832.642 570.552 831.584C570.31 830.684 568.933 830.776 568.633 831.731C568.526 832.072 568.671 832.567 568.926 832.947Z",fill:"black"}),fe("path",{d:"M569.358 839.451C569.835 839.601 571.158 838.967 572.25 838.111C573.343 837.255 574.529 836.578 574.802 836.664C575.075 836.749 576.222 836.435 577.297 835.873C578.351 835.38 580.33 834.802 581.708 834.71C584.258 834.461 585.902 832.804 585.904 830.407C585.876 828.825 583.434 827.535 583.028 828.83C582.899 829.24 580.936 830.722 578.632 832.096C576.306 833.539 574.364 834.953 574.236 835.362C574.129 835.703 572.875 836.359 571.548 836.767C569.006 837.468 567.857 838.98 569.358 839.451Z",fill:"black"}),fe("path",{d:"M574.751 829.904C575.501 830.14 576.034 829.633 576.398 828.473C577.061 826.359 575.428 826.072 574.403 828.147C573.945 829.128 574.068 829.691 574.751 829.904Z",fill:"black"}),fe("path",{d:"M581.178 825.178C582.747 825.67 583.554 824.05 582.293 823.055C581.352 822.236 580.499 822.567 580.092 823.863C579.942 824.341 580.428 824.943 581.178 825.178Z",fill:"black"}),fe("path",{d:"M608.309 755.4C610.473 757.578 613.19 757.755 615.686 755.767C617.428 754.515 617.646 754.059 617.28 752.596C616.456 749.49 612.637 748.292 609.142 750.118C606.634 751.429 606.307 753.424 608.309 755.4Z",fill:"black"}),fe("path",{d:"M626.452 747.007C626.438 747.527 627.06 748.172 627.742 748.385C629.311 748.878 649.543 738.593 650.014 737.092C650.207 736.478 651.589 735.414 653.091 734.686C655.848 733.303 659.834 729.909 662.311 726.79C663.041 725.895 663.912 725.269 664.253 725.376C664.594 725.483 664.973 725.228 665.102 724.819C665.23 724.41 667.454 722.335 670.083 720.163C679.776 712.191 683.34 709.188 685.227 707.233C686.316 706.151 687.626 704.839 688.07 704.379C688.582 703.941 689.714 702.722 690.623 701.734C691.532 700.745 692.668 699.753 693.163 699.609C694.604 699.312 699.099 695.253 699.484 694.025C699.677 693.411 702.119 690.881 705.013 688.342C707.838 685.783 710.284 683.478 710.37 683.205C710.477 682.864 712.572 681.199 714.894 679.53C717.775 677.512 719.461 675.719 719.868 674.423C720.274 673.127 721.183 672.138 722.621 671.616C723.811 671.165 724.818 670.582 724.925 670.241C725.032 669.9 726.432 668.541 728.105 667.268C729.732 665.905 731.2 664.567 731.328 664.158C731.671 663.067 730.032 656.11 729.35 655.896C729.077 655.81 728.149 654.47 727.332 653.015C725.74 649.969 725.054 649.529 723.97 650.837C723.462 651.502 722.217 651.411 719.284 650.491C716.828 649.721 714.812 649.462 714.252 649.812C713.002 650.693 705.059 661.686 704.942 662.774C704.882 663.204 704.164 664.777 703.378 666.328C702.305 668.314 701.439 669.166 700.219 669.233C697.396 669.396 696.128 670.572 696.505 672.713C696.704 673.749 697.108 674.85 697.432 675.251C698.45 676.544 696.667 676.734 695.581 675.42C694.197 673.862 691.469 673.006 689.443 673.494C688.137 673.834 687.592 673.663 686.714 672.638C686.093 671.994 684.857 671.157 683.902 670.857C682.674 670.472 681.98 669.58 681.611 667.891C681.339 666.607 680.752 665.374 680.343 665.246C679.456 664.968 677.765 667.733 677.729 669.52C677.693 671.307 681.176 675.246 683.359 675.931C684.382 676.252 686.185 677.192 687.352 678.008C688.52 678.824 689.803 679.75 690.237 680.037C691.175 680.63 689.646 682.398 686.736 684.033C685.819 684.569 684.619 685.766 684.115 686.657C683.611 687.547 682.377 689.333 681.36 690.662C680.322 692.06 679.421 693.5 679.293 693.909C679.143 694.387 677.721 695.814 676.138 697.04C674.533 698.335 672.689 700.154 672.164 701.113C671.57 702.05 670.771 702.923 670.366 703.021C669.961 703.119 669.453 703.783 669.239 704.465C669.004 705.216 667.843 706.05 666.537 706.39C663.769 707.095 661.243 708.7 660.747 710.042C660.554 710.656 659.308 711.764 657.853 712.581C656.466 713.419 654.148 715.315 652.637 716.788C651.126 718.262 648.45 720.344 646.705 721.37C642.139 723.984 634.122 732.107 634.18 734.073C634.196 734.977 633.734 735.731 633.082 735.901C632.361 736.05 631.66 737.328 631.091 739.622C630.431 741.962 629.752 743.172 629.031 743.321C627.747 743.592 626.338 745.697 626.452 747.007Z",fill:"black"}),fe("path",{d:"M680.711 644.01C681.294 645.017 683.079 646.251 685.198 647.14C688.386 648.44 689.064 648.428 692.703 647.097C694.904 646.289 697.02 645.754 697.497 645.904C698.657 646.268 703.376 643.403 704.901 641.409C705.827 640.127 706.612 639.773 707.84 640.159C709.886 640.8 710.622 638.933 708.879 637.563C708.146 637.033 707.508 635.485 707.527 633.992C707.491 631.958 707.116 631.241 705.659 630.634C703.289 629.591 698.615 629.923 695.543 631.356C694.22 631.99 692.42 632.475 691.516 632.491C689.776 632.544 685.966 634.421 685.624 635.512C685.495 635.921 684.851 636.543 684.224 636.871C681.271 638.642 680.716 639.217 680.245 640.717C679.967 641.604 680.174 643.092 680.711 644.01Z",fill:"black"}),fe("path",{d:"M699.193 620.44C700.312 622.364 703.611 623.549 704.039 622.185C704.21 621.639 703.935 620.129 703.369 618.828C702.497 616.831 702.131 616.567 700.621 616.842C698.48 617.219 698.026 618.426 699.193 620.44Z",fill:"black"}),fe("path",{d:"M792.568 320.62C793.523 320.92 796.839 319.188 797.138 318.233C797.266 317.823 796.512 317.362 795.378 317.156C793.903 316.843 793.276 317.171 792.69 318.56C792.211 319.609 792.159 320.492 792.568 320.62Z",fill:"black"}),fe("path",{d:"M775.126 384.822C775.672 384.993 776.299 384.665 776.47 384.12C776.642 383.574 776.314 382.947 775.768 382.776C775.223 382.605 774.595 382.932 774.424 383.478C774.253 384.024 774.581 384.651 775.126 384.822Z",fill:"black"}),fe("path",{d:"M794.426 325.923C794.988 326.998 798.279 327.731 799.943 327.204C801.133 326.753 801.483 326.114 801.613 324.506C801.717 322.741 801.577 322.472 800.617 323.145C799.968 323.541 798.483 323.974 797.285 323.973C795.025 324.013 793.864 324.848 794.426 325.923Z",fill:"black"}),fe("path",{d:"M805.308 299.594C805.653 299.927 806.378 300.005 806.915 299.724C807.632 299.349 807.492 299.081 806.4 298.738C804.764 298.225 804.384 298.48 805.308 299.594Z",fill:"black"}),fe("path",{d:"M707.126 622.853C707.437 623.775 708.515 624.637 709.81 625.044C711.652 625.621 711.989 625.502 712.524 623.797C713.059 622.092 711.872 618.948 710.508 618.52C709.758 618.285 706.984 619.962 706.728 620.78C706.621 621.121 706.841 622.09 707.126 622.853Z",fill:"black"}),fe("path",{d:"M798.981 336.716C800.427 336.645 801.295 334.595 800.067 334.21C799.385 333.996 798.783 334.482 798.527 335.3C798.27 336.119 798.461 336.703 798.981 336.716Z",fill:"black"}),fe("path",{d:"M810.015 308.712C811.46 308.641 812.328 306.591 811.101 306.206C810.418 305.992 809.817 306.477 809.56 307.296C809.303 308.114 809.494 308.699 810.015 308.712Z",fill:"black"}),fe("path",{d:"M711.963 640.628C713.355 642.638 716.612 643.959 718.45 643.112C719.325 642.713 721.607 642.604 723.376 642.934C725.124 643.333 726.842 643.348 727.133 643.139C728.067 642.308 730.007 643.291 731.105 645.284C731.688 646.291 731.955 647.349 731.622 647.694C730.82 648.341 733.488 653.448 734.852 653.876C735.466 654.069 735.815 654.628 735.665 655.105C735.515 655.583 735.672 656.756 735.982 657.677C736.599 659.294 736.688 659.247 738.993 657.872C741.677 656.242 742.447 653.786 740.508 652.804C738.454 651.71 738.254 650.673 739.888 649.762C741.301 649.082 741.437 649.124 742.322 650.601C743.255 652.167 743.391 652.21 745.051 651.457C746.015 651.01 746.95 650.179 747.142 649.566C747.335 648.952 748.663 647.346 750.084 645.919C756.351 639.793 761.743 634.068 761.957 633.386C762.278 632.363 765.633 629.07 766.179 629.241C766.861 629.455 769.922 626.145 771.345 623.52C771.981 622.446 773.74 620.9 775.174 620.151C777.682 618.84 777.858 618.521 778.561 614.845C779.037 612.373 779.837 610.301 780.789 609.176C782.493 607.089 782.629 603.311 781.15 598.951C780.623 597.287 780.581 596.225 781.076 596.081C781.549 596.005 782.361 594.611 782.853 593.042C783.345 591.474 784.729 589.211 785.929 588.014C787.107 586.885 788.363 585.032 788.705 583.94C789.069 582.781 789.663 581.843 790.068 581.746C790.473 581.648 791.443 580.229 792.182 578.588C792.968 577.037 793.938 575.618 794.411 575.541C794.838 575.376 795.517 574.165 795.967 572.733C796.437 571.232 797.317 569.86 798.081 569.575C799.024 569.197 799.81 567.646 801.008 563.826C801.992 560.689 803.279 558.02 804.167 557.1C806.233 555.051 807.481 552.746 808.897 548.47C809.628 546.377 810.594 544.732 811.289 544.426C811.963 544.188 812.651 543.43 812.843 542.816C813.036 542.202 813.855 541.26 814.615 540.749C815.575 540.077 816.558 538.138 817.371 535.546C818.099 533.227 819.124 531.151 819.662 530.87C821.096 530.121 820.399 527.805 817.813 524.821C816.246 523.131 815.54 521.561 815.674 520.18C815.945 517.643 814.628 517.304 812.084 519.203C809.72 521.009 808.595 523.878 809.467 525.874C809.82 526.659 809.987 529.708 809.903 532.604L809.706 538.011L807.728 537.39C805.34 536.641 804.49 538.397 805.591 541.814C805.952 543.051 805.928 545.516 805.529 547.264C804.925 550.146 804.57 550.559 801.699 551.831C797.706 553.575 795.391 553.074 796.183 550.55C796.482 549.595 796.569 548.124 796.395 547.246C796.192 545.983 796.453 545.391 797.549 544.761C798.377 544.271 799.282 543.057 799.582 542.102C799.903 541.079 800.761 539.775 801.406 539.153C802.52 538.229 802.644 537.594 802.169 535.047C801.394 530.833 799.369 530.123 795.388 532.545C791.317 535.014 789.454 538.326 791.094 540.263C791.903 541.266 791.991 542.418 791.435 544.191C790.793 546.237 790.92 547.026 792.326 548.516C794.148 550.586 794.104 551.921 792.129 552.725C790.67 553.316 788.664 558.755 789.542 559.78C790.696 561.115 789.621 561.677 786.832 561.252C785.246 561.054 783.664 561.082 783.374 561.291C782.217 562.351 781.822 560.505 782.635 557.913C783.363 555.594 783.265 555.189 781.833 554.739C780.946 554.461 779.705 554.596 779.057 554.992C777.469 555.993 776.796 555.032 777.502 552.782C777.977 551.507 778.891 550.745 780.691 550.261C782.085 549.874 783.476 549.261 783.763 548.827C784.535 547.796 781.105 541.775 779.468 541.261C778.786 541.048 777.644 540.39 777.09 539.766C776.17 538.878 775.586 539.07 772.978 541.173C771.283 542.515 769.815 543.852 769.708 544.193C769.601 544.534 770.009 545.861 770.643 547.184C772.005 550.008 771.054 553.755 768.724 554.972C766.036 556.377 762.314 559.405 761.66 560.773C761.357 561.502 760.357 563.735 759.51 565.717C758.664 567.699 757.566 569.527 757.096 569.829C756.021 570.391 755.148 573.414 755.56 574.966C755.708 575.687 755.341 576.621 754.431 577.609C750.478 581.613 748.367 586.195 749.576 588.073C750.691 589.771 750.033 590.913 747.055 592.526C745.173 593.509 744.131 594.681 743.661 596.181C743.233 597.545 742.281 598.67 741.159 599.142C739.589 599.848 739.328 600.441 738.346 605.003C737.695 607.795 737.402 610.4 737.636 610.848C737.849 611.364 737.78 612.541 737.459 613.564C736.624 616.224 736.878 617.802 738.174 618.209C740.357 618.894 740.543 620.45 738.696 624.666C736.721 629.29 734.783 630.93 732.704 629.678C730.441 628.294 727.421 628.845 725.965 630.861C725.213 631.824 724.368 632.607 724.027 632.5C723.754 632.415 722.346 633.322 720.852 634.501C718.825 636.188 717.745 636.523 716.313 636.074C715.29 635.753 713.955 635.709 713.328 636.037C711.894 636.786 711.171 639.331 711.963 640.628Z",fill:"black"}),fe("path",{d:"M716.523 627.524C718.377 628.78 720.906 628.599 721.04 627.218C721.16 626.357 720.449 625.759 718.812 625.245C716.083 624.39 714.44 626.047 716.523 627.524Z",fill:"black"}),fe("path",{d:"M813.993 316.328C814.487 317.382 817.254 317.875 818.372 317.177C819.289 316.641 819.238 316.325 818.254 315.642C817.5 315.181 816.4 314.386 815.714 313.946C814.777 313.352 814.371 313.45 814.051 314.473C813.837 315.155 813.784 316.038 813.993 316.328Z",fill:"black"}),fe("path",{d:"M723.184 623.246C725.991 625.999 727.424 626.449 727.937 624.812C728.729 622.288 727.419 618.581 725.51 617.982C721.417 616.698 719.917 620.048 723.184 623.246Z",fill:"black"}),fe("path",{d:"M802.427 384.246C803.095 384.98 803.065 385.795 802.125 387.597C801.142 389.537 801.132 390.283 801.992 391.601C802.618 392.472 803.457 393.859 803.925 394.755C804.346 395.561 805.428 396.65 806.229 397.201C806.941 397.799 808.551 399.353 809.658 400.599C812.129 403.471 813.45 404.036 815.647 403.002C817.217 402.296 817.285 402.317 817.245 403.878C817.193 404.761 817.525 405.614 818.002 405.764C818.957 406.063 823.07 404.656 825.327 403.192C826.735 402.285 826.821 402.012 826.128 399.922C825.529 398.011 824.979 397.613 823.235 397.441C820.698 397.17 819.634 395.787 819.765 392.981C819.813 391.872 819.49 390.273 818.954 389.355C818.486 388.459 818.236 387.107 818.471 386.357C819.22 383.97 818.187 380.574 816.24 379.139C815.277 378.388 814.536 377.406 814.665 376.997C814.836 376.451 814.175 376.169 812.725 376.014C810.687 375.824 810.572 375.713 811.193 373.735C811.706 372.098 811.583 371.535 810.56 371.215C808.514 370.573 806.981 372.115 805.787 376.16C804.953 378.82 804.295 379.962 803.527 380.021C802.082 380.092 801.23 383.046 802.427 384.246Z",fill:"black"}),fe("path",{d:"M753.145 568.816C754.659 568.767 755.955 565.352 754.659 564.946C753.909 564.711 753.354 565.286 752.904 566.718C752.476 568.082 752.557 568.782 753.145 568.816Z",fill:"black"}),fe("path",{d:"M806.386 421.299C808.061 422.648 809.541 421.989 810.311 419.533C811.574 415.509 810.056 415.333 806.888 418.984C805.714 420.339 805.653 420.769 806.386 421.299Z",fill:"black"}),fe("path",{d:"M834.543 331.54C835.089 331.711 835.716 331.383 835.887 330.838C836.059 330.292 835.731 329.665 835.185 329.493C834.64 329.322 834.012 329.65 833.841 330.196C833.67 330.741 833.998 331.368 834.543 331.54Z",fill:"black"}),fe("path",{d:"M832.631 348.621C833.577 349.666 835.365 348.504 834.709 347.25C834.148 346.174 832.544 346.271 832.223 347.294C832.116 347.635 832.308 348.219 832.631 348.621Z",fill:"black"}),fe("path",{d:"M777.398 531.624C779.103 532.158 779.53 531.993 779.958 530.628C780.257 529.674 780.284 528.633 779.939 528.3C779.062 527.276 776.229 528.185 775.78 529.618C775.438 530.709 775.829 531.131 777.398 531.624Z",fill:"black"}),fe("path",{d:"M826.278 371.5C827.634 371.476 828.31 370.04 827.15 369.676C826.536 369.483 825.909 369.811 825.717 370.425C825.524 371.039 825.758 371.487 826.278 371.5Z",fill:"black"}),fe("path",{d:"M842.23 329.006C842.86 330.103 845.716 330.55 846.037 329.526C846.23 328.913 845.744 328.311 844.721 327.99C842.948 327.434 841.736 327.952 842.23 329.006Z",fill:"black"}),fe("path",{d:"M791.071 494.483C791.12 495.997 792.864 496.17 793.812 494.819C794.782 493.4 794.6 492.069 793.304 491.663C792.622 491.449 790.859 492.769 790.961 493.4C790.94 493.468 790.995 494.01 791.071 494.483Z",fill:"black"}),fe("path",{d:"M794.452 487.527C797.385 488.447 802.095 482.508 800.225 480.348C799.233 479.213 797.368 479.902 796.833 481.607C796.619 482.289 796.043 482.932 795.638 483.03C794.422 483.323 793.429 487.206 794.452 487.527Z",fill:"black"}),fe("path",{d:"M788.825 516.928C789.77 517.974 791.558 516.811 790.903 515.557C790.341 514.482 788.738 514.578 788.417 515.601C788.31 515.942 788.501 516.527 788.825 516.928Z",fill:"black"}),fe("path",{d:"M843.788 342.905C844.303 343.891 845.489 343.214 845.939 341.782C846.195 340.963 846.004 340.379 845.416 340.344C844.354 340.386 843.32 342.009 843.788 342.905Z",fill:"black"}),fe("path",{d:"M838.134 370.724C838.859 370.801 839.575 370.427 839.747 369.881C839.918 369.336 839.543 368.619 838.904 368.269C838.128 367.875 837.68 368.109 837.359 369.132C837.039 370.156 837.273 370.604 838.134 370.724Z",fill:"black"}),fe("path",{d:"M849.85 334.093C851.419 334.585 852.226 332.966 850.965 331.971C850.024 331.151 849.17 331.483 848.764 332.779C848.614 333.256 849.1 333.858 849.85 334.093Z",fill:"black"}),fe("path",{d:"M816.228 444.614C817.557 445.63 818.543 445.115 817.841 443.771C817.42 442.965 817.01 442.836 816.204 443.258C815.397 443.679 815.448 443.995 816.228 444.614Z",fill:"black"}),fe("path",{d:"M815.721 449.099C817.239 449.276 817.76 448.091 816.345 447.347C815.706 446.997 815.122 447.188 814.908 447.87C814.694 448.552 814.996 449.022 815.721 449.099Z",fill:"black"}),fe("path",{d:"M814.178 480.53C814.706 480.995 815.725 481.09 816.373 480.694C817.449 480.132 817.534 479.86 816.93 478.921C816.048 477.67 813.831 477.574 813.425 478.87C813.275 479.347 813.628 480.132 814.178 480.53Z",fill:"black"}),fe("path",{d:"M811.813 489.977C812.157 491.508 811.694 493.461 809.855 498.128C807.478 504.275 807.478 504.275 808.994 505.649C809.821 506.358 810.506 507.996 810.594 509.148C810.688 513.148 813 512.225 815.33 507.187C817.223 503.061 817.94 502.687 820.104 504.864C821.071 505.842 822.149 506.704 822.422 506.79C823.786 507.218 830.229 499.575 832.276 495.197C834.798 489.546 836.69 486.618 838.739 484.863C839.563 484.148 840.823 482.52 841.502 481.31C842.181 480.1 843.509 478.493 844.491 477.752C845.473 477.011 846.625 475.725 846.993 474.791C847.647 473.423 848.142 473.279 849.804 473.95C853.334 475.357 857.003 477.033 858.968 478.173C859.995 478.72 861.525 479.575 862.211 480.015C863.626 480.758 865.228 485.681 864.651 487.522C864.308 488.614 868.061 492.413 868.957 491.945C869.294 491.826 869.274 490.696 868.938 489.617C868.284 487.164 869.175 483.847 870.933 482.301C871.958 481.424 871.95 480.972 870.766 479.252C869.025 476.683 869.26 475.933 871.768 475.82C874.228 475.618 875.016 472.869 872.872 471.822C872.096 471.429 871.083 470.361 870.683 469.487C869.977 467.917 870.088 467.802 873.245 466.095C875.037 465.159 877.111 463.562 877.841 462.667C879.52 460.422 881.02 460.893 881.363 463.622C881.819 467.661 884.277 469.855 887.059 468.63C889.213 467.733 890.811 468.609 890.255 470.382C890.02 471.132 889.145 471.532 888.036 471.484C886.113 471.405 885.981 471.589 883.466 478.891C883.038 480.255 882.337 481.533 882.047 481.742C881.688 481.929 881.529 483.153 881.622 484.53C881.782 485.929 881.499 487.788 880.994 488.679C880.315 489.889 880.464 490.61 881.362 491.566C883.343 493.611 884.611 492.435 883.676 489.445C883.081 487.76 883.133 486.877 883.76 486.55C884.387 486.222 884.819 485.084 884.927 483.545C885.187 480.33 885.691 479.439 888.289 478.081C890.081 477.145 890.444 477.184 890.485 478.246C890.497 478.924 890.962 479.594 891.507 479.765C892.871 480.193 894.425 474.762 893.681 472.356C893.201 470.782 893.326 470.147 894.521 468.724C896.093 466.819 896.014 464.921 894.112 460.954C893.218 459.025 893.185 458.415 894.124 457.811C895.062 457.206 895.076 456.686 894.327 455.252C893.765 454.177 892.935 453.242 892.457 453.093C891.298 452.729 890.361 450.937 890.747 449.709C890.896 449.232 890.348 447.636 889.578 446.271C888.53 444.594 888.306 443.4 888.882 442.756C889.655 441.725 889.27 439.132 887.844 436.512C887.491 435.727 886.866 433.658 886.54 431.833C886.26 430.097 885.644 428.48 885.166 428.33C884.757 428.202 883.507 429.083 882.397 430.234C880.736 432.185 880.539 432.573 881.126 433.806C881.879 435.465 881.652 436.668 880.505 436.982C880.031 437.058 879.61 436.252 879.543 435.032L879.46 432.908L877.719 434.16C876.2 435.182 875.816 435.211 874.755 434.055C873.49 432.834 873.512 432.766 875.078 431.833C875.905 431.344 876.529 430.79 876.435 430.611C874.936 428.942 872.248 426.525 871.77 426.376C871.429 426.269 871.006 426.661 870.835 427.206C870.664 427.752 870.787 428.315 871.196 428.443C871.537 428.55 871.686 429.271 871.429 430.09C871.044 431.317 870.728 431.368 868.879 430.338C867.784 429.77 866.306 428.033 865.693 426.642C864.608 424.129 863.164 423.002 862.758 424.298C862.651 424.639 862.066 424.83 861.521 424.659C860.975 424.488 860.626 423.929 860.797 423.383C860.968 422.837 860.539 421.579 859.819 420.529C859.1 419.479 858.649 418.289 858.777 417.88C858.884 417.539 858.502 416.37 857.919 415.363C857.008 413.729 857.072 413.524 858.155 413.414C858.902 413.424 859.636 412.755 859.893 411.937C860.128 411.186 860.969 410.177 861.707 409.734C863.004 408.942 863.111 408.601 862.748 405.94C862.337 403.189 862.175 402.988 859.681 402.58C856.552 402.048 855.943 400.884 858.047 399.67C860.709 398.108 860.331 397.166 856.583 396.215C854.563 395.731 852.875 394.902 852.547 394.274C851.658 392.572 850.255 392.506 848.177 393.877C846.658 394.899 846.116 394.954 845.558 394.105C844.49 392.496 842.711 392.912 842.585 394.745C842.489 396.963 844.624 398.756 846.833 398.4C848.995 397.955 849.779 398.8 849.116 400.914C848.731 402.142 848.082 402.538 846.747 402.494C844.394 402.355 844.051 403.446 845.592 406.177L846.784 408.349L844.522 409.587C841.791 411.128 841.727 411.333 842.726 414.118L843.602 416.341L839.61 416.887C837.491 417.196 835.622 417.659 835.515 418C835.28 418.75 838.129 422.565 839.152 422.886C839.493 422.993 839.936 423.731 840.152 424.474C840.424 425.757 840.697 425.843 842.16 425.478C843.87 425.041 843.938 425.062 842.22 428.868C841.262 430.965 839.989 433.113 839.434 433.688C838.879 434.263 838.401 435.312 838.434 435.921C838.514 436.621 837.942 437.49 837.204 437.933C835.928 438.656 835.889 439.019 836.944 441.148C837.578 442.471 838.345 443.61 838.686 443.717C839.095 443.845 838.791 444.574 838.014 445.379C836.973 446.551 836.917 447.207 837.379 449.076C837.932 450.897 837.623 452.598 836.189 457.168C835.116 460.352 834.17 463.127 834.085 463.4C833.909 463.72 832.959 463.646 831.935 463.325C829.412 462.534 826.928 464.002 826.431 466.543C826.101 468.313 825.811 468.521 824.31 468.051C822.878 467.601 822.498 467.857 821.651 469.839C820.916 471.706 820.979 472.699 821.936 474.423C822.8 475.968 822.914 477.277 822.336 479.119C821.309 482.392 822.288 484.048 824.571 482.741C826.675 481.528 827.971 481.935 827.982 483.811C827.988 485.461 826.561 487.861 825.743 487.604C825.47 487.518 824.323 487.833 823.201 488.305C821.204 489.177 818.565 488.274 817.425 486.418C816.722 485.074 813.41 484.409 812.569 485.419C811.463 486.795 811.321 487.725 811.813 489.977ZM856.897 406.202C857.318 407.009 855.888 407.984 855.22 407.249C854.896 406.848 855.024 406.439 855.652 406.111C856.189 405.83 856.709 405.844 856.897 406.202ZM842.739 461.845C843.618 460.472 845.131 457.8 846.114 455.861C848.255 451.663 849.484 450.85 852.076 451.663C854.667 452.476 860.758 459.331 860.287 460.832C859.859 462.196 853.963 464.991 852.463 464.52C851.849 464.328 849.46 464.777 847.054 465.521C844.559 466.311 842.303 466.578 841.774 466.112C840.675 465.318 840.718 465.181 842.739 461.845ZM861.688 446.812C863.011 446.178 863.599 446.213 864.021 447.019C864.676 448.274 861.671 450.927 860.171 450.456C858.67 449.986 859.67 447.752 861.688 446.812Z",fill:"black"}),fe("path",{d:"M801.429 529.048C802.077 529.851 803.494 528.198 803.201 526.982C803.104 526.577 802.733 526.086 802.324 525.958C801.506 525.701 800.714 528.224 801.429 529.048Z",fill:"black"}),fe("path",{d:"M827.706 461.999C828.456 462.234 829.22 461.949 829.391 461.404C829.562 460.858 829.098 460.188 828.348 459.953C827.598 459.717 826.834 460.002 826.663 460.548C826.492 461.093 826.956 461.763 827.706 461.999Z",fill:"black"}),fe("path",{d:"M855.228 372.116C856.246 373.409 859.338 373.105 859.787 371.673C860.215 370.309 858.843 369.429 856.404 369.563C855.026 369.655 854.329 371.16 855.228 372.116Z",fill:"black"}),fe("path",{d:"M805.702 294.998C805.821 295.335 806.575 295.796 807.257 296.01C807.939 296.224 808.335 296.873 808.164 297.418C807.993 297.964 808.252 298.57 808.798 298.741C809.344 298.912 809.722 299.855 809.649 300.806C809.554 301.825 810.141 303.058 810.874 303.587C812.911 304.975 815.163 308.304 815.191 309.886C815.182 310.632 815.901 311.682 816.86 312.208C817.798 312.802 819.106 313.886 819.821 314.71C820.537 315.534 822.339 316.474 824.019 316.851L826.948 317.545L825.007 313.939C823.978 311.968 821.87 309.134 820.238 307.649C818.675 306.184 816.575 303.803 815.6 302.373C814.604 301.012 812.781 298.941 811.609 297.9C810.459 296.79 809.352 295.543 809.254 295.138C809.178 294.665 808.309 294.092 807.354 293.793C805.785 293.301 805.025 293.811 805.702 294.998Z",fill:"black"}),fe("path",{d:"M230.11 962.281C231.478 966.755 232.237 967.443 238.985 969.335C245.235 971.145 245.235 971.145 246.664 973.991C247.37 975.561 248.414 977.012 248.959 977.184C249.437 977.333 250.536 978.128 251.388 978.994C252.24 979.861 253.821 981.031 254.963 981.689C256.173 982.368 257.502 983.385 257.988 983.986C258.703 984.81 259.271 984.913 260.192 984.603C261.246 984.109 261.638 984.532 262.177 986.874C262.614 988.584 264.1 990.773 265.987 992.639L269.139 995.725L271.929 994.952C274.113 994.439 275.789 994.59 279.54 995.766C282.2 996.601 284.604 997.055 284.916 996.779C285.228 996.502 286.4 996.345 287.488 996.462C288.665 996.531 290.562 996.452 291.893 996.27C296.879 995.662 299.881 995.405 300.631 995.64C301.04 995.768 302.013 995.774 302.802 995.647C303.523 995.498 306.03 995.386 308.269 995.414C310.508 995.442 313.783 995.271 315.497 995.059C322.445 994.167 324.343 994.088 325.638 994.494C326.389 994.73 328.039 994.723 329.233 994.498C330.496 994.295 332.214 994.31 333.033 994.566C333.851 994.823 334.755 994.807 335.067 994.53C335.447 994.275 336.961 994.225 338.547 994.423C340.133 994.621 341.625 994.64 341.937 994.363C342.248 994.086 343.809 994.126 345.532 994.367C347.186 994.586 348.904 994.601 349.399 994.456C349.826 994.29 351.34 994.241 352.653 994.353C353.966 994.466 356 994.429 357.195 994.205C358.389 993.98 359.677 993.934 360.154 994.084C360.564 994.212 361.941 994.12 363.203 993.917C364.398 993.692 367.511 993.32 370.061 993.071C383.06 991.755 404.37 987.352 409.391 984.956C410.377 984.442 411.84 984.076 412.676 984.039C413.422 984.048 415.849 983.236 417.957 982.249C420.133 981.284 422.087 980.548 422.428 980.655C424.747 981.383 443.395 977.343 448.284 975.131C449.248 974.684 451.518 973.898 453.339 973.345C455.25 972.746 457.272 972.032 457.968 971.726C458.663 971.419 460.19 970.85 461.338 970.535C463.97 969.788 464.307 969.669 468.658 967.737C470.565 966.912 474.358 965.33 477.054 964.378C483.095 962.077 488.053 959.887 497.823 955.01C502.081 952.9 506.612 950.875 507.849 950.514C509.133 950.242 521.344 944.034 534.938 936.761C560.202 923.334 564.904 920.764 576.199 913.893C579.711 911.773 583.671 909.42 584.925 908.764C586.179 908.109 588.885 906.41 590.963 905.04C597.488 900.718 598.516 900.067 599.882 899.297C600.62 898.854 603.278 897.066 605.847 895.325C608.348 893.562 610.917 891.82 611.544 891.493C613.537 890.395 626.805 881.296 634.64 875.663C638.814 872.627 642.834 869.843 643.482 869.447C648.048 866.833 673.322 847.642 683.613 838.958C687.177 835.955 690.497 833.251 690.877 832.996C691.347 832.693 692.84 831.514 694.198 830.291C695.555 829.069 697.006 828.026 697.3 828.043C697.616 827.992 698.06 827.532 698.21 827.055C698.359 826.577 700.408 824.823 702.751 823.085C706.502 820.441 709.149 817.975 716.526 810.7C717.682 809.639 718.75 808.625 719.018 808.485C719.287 808.345 720.666 807.054 722.199 805.512C723.641 804.017 725.114 802.905 725.387 802.991C725.728 803.098 726.039 802.821 726.168 802.412C726.296 802.003 728.695 799.609 731.431 797.096C734.146 794.651 737.147 791.772 738.035 790.851C738.944 789.863 740.123 788.734 740.771 788.338C742.022 787.457 755.721 773.4 763.905 764.505C766.855 761.31 772.179 755.563 775.774 751.746C785.602 741.194 787.109 739.494 787.344 738.744C787.473 738.334 788.758 736.865 790.269 735.391C791.78 733.917 793.087 732.379 793.236 731.902C793.386 731.424 794.227 730.414 795.026 729.541C795.914 728.621 797.904 726.099 799.514 723.832C801.145 721.497 802.935 719.136 803.443 718.472C804.019 717.828 807.551 713.018 811.279 707.819C815.008 702.621 818.539 697.81 819.116 697.167C819.692 696.524 820.884 694.875 821.695 693.481C823.913 689.757 825.852 686.919 827.594 684.469C831.173 679.748 832.758 677.323 834.087 674.518C834.873 672.967 835.928 671.275 836.394 670.747C837.482 669.665 842.002 661.943 843.81 658.09C844.618 656.47 845.562 654.894 845.942 654.638C846.411 654.336 847.398 652.623 848.249 650.867C849.121 649.043 850.176 647.351 850.555 647.095C851.025 646.793 852.29 644.193 853.504 641.278C854.718 638.362 856.073 635.716 856.542 635.413C857.012 635.111 858.845 631.416 860.513 627.294C863.998 618.573 868.024 609.797 869.258 608.012C871.351 604.923 876.631 592.869 879.903 583.632C881.952 578.056 884.098 572.886 884.875 572.081C885.784 571.092 888.265 564.379 892.659 550.849C898.358 533.158 898.996 530.886 898.273 529.61C896.587 526.384 898.501 519.002 891.916 539.603C891.356 541.15 890.276 542.684 889.537 543.127C887.925 543.969 886.954 546.587 887.75 548.11C888.171 548.916 888.042 549.325 887.236 549.747C885.713 550.543 884.437 555.087 885.344 556.495C885.855 557.255 885.725 558.862 885.062 560.977C883.928 564.592 882.677 565.473 882.16 563.063C882.007 562.116 881.454 561.493 880.776 561.505C879.309 561.644 877.764 566.329 878.517 567.989C879.266 569.422 878.936 571.191 875.785 582.19C874.356 586.986 872.957 590.967 872.62 591.086C872.215 591.184 871.911 591.913 871.902 592.659C871.893 593.405 871.124 594.662 870.321 595.31C868.584 596.787 863.191 611.353 863.722 613.242C863.892 613.895 863.431 614.649 862.603 615.139C861.843 615.65 860.395 618.117 859.202 620.964C858.052 623.675 855.393 629.284 853.295 633.346C851.197 637.408 848.509 642.633 847.398 644.981C845.347 649.132 844.266 650.666 841.269 653.772C840.381 654.692 839.48 656.132 839.223 656.951C838.966 657.769 838.061 658.984 837.19 659.609C836.298 660.304 835.615 661.288 835.67 661.829C835.784 663.139 832.737 668.551 830.632 670.962C829.723 671.951 828.779 673.528 828.479 674.482C828.18 675.437 827.189 676.925 826.322 677.776C825.434 678.697 824.529 679.911 824.358 680.457C824.118 680.981 823.081 682.378 821.924 683.439C820.28 685.096 819.875 685.194 819.855 684.064C819.682 681.987 818.1 682.015 816.895 684.184C816.327 685.279 815.202 688.148 814.454 690.535C813.726 692.854 812.701 694.93 812.295 695.027C811.822 695.104 811.078 696.519 810.586 698.087C810.094 699.656 808.932 701.689 808.044 702.609C807.177 703.461 806.251 704.744 806.058 705.357C805.673 706.585 802.41 711.255 799.489 714.834C798.161 716.44 797.794 717.374 798.168 718.091C798.683 719.076 798.111 719.946 794.055 724.517C792.902 725.803 791.155 728.027 790.164 729.515C789.195 730.933 787.931 732.335 787.325 732.595C786.72 732.854 785.721 733.889 785.174 734.916C783.901 737.064 780.682 740.4 773.558 746.631C770.753 749.122 768.354 751.516 768.226 751.925C768.098 752.335 766.3 754.243 764.277 756.156C762.164 758.115 759.188 761.152 757.592 762.899C750.585 770.665 748.541 772.646 745.549 774.779C743.697 776.146 742.1 777.892 741.758 778.984C741.415 780.075 740.865 780.876 740.592 780.79C740.251 780.683 738.957 781.701 737.579 782.992C736.247 784.372 734.736 785.846 734.223 786.284C733.711 786.723 732.358 788.171 731.205 789.458C730.052 790.745 727.696 793.002 725.869 794.527C724.064 795.983 722.484 797.436 722.377 797.777C722.27 798.118 719.756 800.401 716.837 802.781C713.896 805.23 710.379 808.322 709.068 809.634C706.072 812.74 702.085 816.134 700.472 816.976C699.755 817.351 697.148 819.455 694.587 821.648C692.094 823.863 688.799 826.725 687.284 827.973C685.768 829.22 683.899 830.882 683.122 831.687C680.436 834.515 666.305 845.89 662.861 848.031C661.923 848.636 658.193 851.211 654.599 853.83C649.086 857.794 647.997 858.876 647.714 860.735C647.494 862.389 646.764 863.284 644.887 864.493C643.478 865.4 641.883 865.948 641.201 865.734C639.496 865.199 637.976 866.221 637.335 868.267C636.714 870.245 635.506 870.99 629.974 872.626C626.915 873.54 626.259 873.483 626.038 872.515C625.72 871.142 624.104 870.56 623.353 871.523C622.934 872.141 622.593 872.034 622.15 871.296C620.656 868.654 626.057 867.202 629.44 869.312C631.017 870.256 631.457 869.57 630.184 867.897C629.417 866.758 629.482 866.553 631.211 864.623C632.231 863.52 633.29 862.054 633.526 861.304C633.889 860.144 631.122 855.83 628.809 854.131C628.029 853.511 628.034 852.539 628.847 849.947C629.874 846.673 629.421 844.059 627.716 843.524C627.374 843.417 625.596 843.833 623.889 844.496C620.835 845.636 619.328 847.336 614.646 854.857C613.766 856.229 611.819 858.615 610.308 860.089C608.797 861.563 607.447 863.237 607.276 863.783C607.126 864.26 606.704 864.652 606.363 864.545C606.022 864.438 605.309 865.039 604.805 865.93C603.288 868.376 594.735 875.582 591.752 876.968C590.272 877.628 586.935 879.428 584.384 880.875C581.832 882.322 577.309 884.799 574.284 886.322C570.385 888.246 568.511 889.681 567.857 891.049C567.186 892.711 566.29 893.179 562.276 893.793C559.683 894.179 557.363 894.649 557.094 894.79C556.019 895.352 547.471 897.764 546.993 897.615C546.72 897.529 545.053 897.83 543.253 898.314C541.453 898.798 538.318 899.238 536.241 899.411C532.65 899.633 532.377 899.548 531.765 898.157C531.012 896.497 531.676 893.184 532.892 892.892C533.229 892.773 534.344 890.65 535.362 888.122C536.918 884.116 539.327 880.975 541.528 880.168C541.797 880.027 542.548 879.064 543.164 878.059C543.8 876.985 544.842 875.813 545.491 875.417C546.139 875.021 547.45 873.709 548.334 872.563C549.218 871.417 551.155 869.777 552.521 869.007C553.908 868.169 555.29 867.104 555.53 866.58C555.837 866.077 554.557 862.754 552.685 859.169C548.987 852.091 548.937 850.577 552.492 848.321C554.348 847.18 554.985 846.106 556.166 842.581L557.535 838.216L554.555 837.206C551.827 836.35 551.354 836.426 550.563 837.752C550.081 838.574 548.663 840.227 547.553 841.377L545.465 843.495L546.3 840.835C546.771 839.334 547.011 837.611 546.841 836.959C546.357 835.159 544.152 835.741 543.489 837.855C543.039 839.287 542.771 839.428 542.349 838.621C542.022 837.994 541.105 837.332 540.287 837.075C539.469 836.819 538.544 835.705 538.23 834.557C537.313 831.273 532.788 823.485 531.56 823.1C531.219 822.993 530.647 823.863 530.305 824.954C529.556 827.341 530.753 832.362 533.025 836.82C534.638 839.798 534.678 842.059 533.246 841.609C532.769 841.46 532.189 840.679 531.926 839.847C531.382 838.477 531.224 838.503 529.525 839.618C528.164 840.614 527.814 841.254 528.081 842.312C528.565 844.112 527.169 845.696 525.6 845.204C523.213 844.456 522.175 845.853 520.894 851.37C519.827 856.204 519.652 856.524 517.369 857.831C513.832 859.793 508.574 860.316 506.085 858.936C504.303 857.927 504.146 857.953 504.17 859.309C504.126 860.643 503.52 860.903 500.249 861.3C496.163 861.667 494.558 862.961 495.055 865.44C495.402 867.197 494.711 867.729 492.938 867.173C492.051 866.895 491.56 867.265 491.175 868.493C490.875 869.448 490.299 870.091 489.958 869.984C489.549 869.856 489.383 869.429 489.49 869.088C489.832 867.997 487.952 867.781 486.296 868.76C485.289 869.344 484.696 870.281 484.626 871.458C484.565 873.087 484.385 873.18 482.335 872.313C480.626 871.552 479.769 871.657 478.386 872.722C475.151 875.153 476.99 878.128 480.365 875.965C481.283 875.429 482.294 875.072 482.703 875.2C483.931 875.585 484.679 882.038 484.001 885.871C483.07 890.748 481.814 892.602 479.597 892.505C478.578 892.411 476.71 892.873 475.34 893.418C473.028 894.341 472.371 894.284 467.32 892.475C460.675 890.016 459.438 890.377 458.23 894.943C457.725 897.032 456.977 898.221 455.859 898.919C454.741 899.617 454.169 900.486 453.996 902.23C453.459 906.332 449.282 907.944 444.206 905.976C440.996 904.745 432.905 906.177 432.306 908.087C432.177 908.496 430.787 909.109 429.166 909.5L426.261 910.162L425.433 914.472C424.979 916.877 424.865 919.388 425.171 920.083C426.112 922.101 423.715 925.92 421.788 925.615C419.997 925.353 418.512 926.984 418.573 929.176C418.547 930.217 417.97 930.86 416.575 931.247C415.428 931.561 414.199 932.374 413.78 932.992C412.747 934.616 411.382 934.188 411.461 932.265C411.501 930.704 410.129 929.824 409.083 930.769C408.772 931.046 407.232 930.938 405.8 930.489C403.686 929.825 402.739 929.978 401.356 931.043C400.375 931.783 398.518 932.924 397.128 933.537C395.784 934.239 394.601 935.142 394.452 935.619C394.131 936.642 392.369 936.764 389.914 935.994C388.55 935.566 387.786 935.851 386.68 937.227C385.442 938.786 384.947 938.931 382.833 938.268C381.469 937.84 380.27 937.838 380.142 938.248C380.014 938.657 380.936 940.969 382.29 943.341C383.575 945.692 384.566 948.026 384.438 948.435C384.309 948.845 383.316 948.908 382.225 948.565C380.997 948.18 379.734 948.383 378.911 949.099C377.639 950.048 377.119 950.035 374.382 948.727C372.102 947.637 371.135 946.66 370.68 945.244C370.413 944.186 369.557 943.093 368.807 942.858C367.715 942.515 367.404 942.792 367.338 944.195C367.243 945.214 366.876 946.148 366.402 946.224C364.534 946.687 364.736 949.148 366.802 950.919C368.937 952.713 369.081 953.208 367.767 954.294C367.165 954.779 366.299 954.433 364.19 952.797C360.914 950.346 359.042 950.583 358.036 953.788C357.694 954.88 356.784 955.868 355.863 956.178C355.031 956.442 353.849 957.345 353.276 958.214C352.704 959.083 351.142 960.241 349.819 960.875C345.224 963.105 345.092 963.288 346.038 968.155C346.516 970.927 346.565 973.639 346.051 975.276C345.409 977.322 345.515 978.179 346.482 979.157C347.219 979.913 348.164 980.958 348.629 981.628C349.391 982.542 349.932 982.487 352.147 981.159C354.609 979.759 354.925 979.708 356.373 981.061C359.317 983.857 358.242 988.24 354.831 987.17C354.013 986.913 352.226 986.877 350.942 987.149C349.612 987.331 346.465 987.093 343.877 986.506C341.153 985.876 338.641 985.762 338.082 986.112C336.653 987.086 334.423 986.312 334.352 984.867C334.251 984.235 333.855 983.587 333.309 983.416C332.832 983.266 332.27 982.191 332.114 981.018C331.754 978.582 329.781 976.99 329.246 978.695C329.054 979.309 329.381 979.936 329.927 980.107C330.473 980.278 331.03 981.127 331.226 981.938C331.73 984.868 331.06 985.332 327.833 984.395C325.22 983.65 324.806 983.295 325.127 982.272C325.427 981.318 325.056 980.827 323.488 980.335C322.328 979.971 321.365 979.219 321.332 978.609C321.231 976.78 318.048 974.508 316.5 975.146C315.399 975.55 314.828 975.221 313.116 973.036C311.426 970.782 310.74 970.342 309.387 970.592C308.172 970.885 307.716 970.667 307.521 969.857C307.079 967.92 302.301 966.197 300.01 967.051C297.54 968 296.662 966.975 296.641 963.223C296.638 961.798 296.141 960.519 295.663 960.369C294.026 959.855 294.322 958.674 296.332 957.282C298.231 956.005 298.295 955.8 297.636 954.32C296.955 952.908 297.177 952.678 300.683 951.53C304.595 950.285 305.607 948.729 303.066 948.232C301.659 947.941 300.797 945.198 301.46 943.083C301.653 942.469 300.643 941.628 298.704 940.645C295.831 939.295 295.537 939.277 292.874 940.839C290.839 942.074 289.487 942.324 287.828 941.879C285.283 941.155 284.402 939.905 286.321 939.758C288.082 939.636 289.597 934.567 288.371 932.984C287.537 931.823 287.784 931.751 290.521 931.861C292.15 931.922 294.044 931.617 294.693 931.221C296.28 930.221 295.997 928.259 294.291 927.724C292.177 927.061 292.435 925.044 294.807 923.69C296.599 922.754 297.572 922.76 301.255 923.915C303.642 924.664 305.616 925.058 305.723 924.717C305.809 924.444 308.142 923.453 310.838 922.501C314.524 921.26 316.38 920.119 318.242 918.006C319.548 916.468 321.755 914.688 323.056 914.122C324.426 913.578 326.999 912.063 328.808 910.832C330.639 909.533 333.212 908.018 334.492 907.521C335.861 906.976 340.209 904.819 344.219 902.781C354.259 897.764 357.915 896.139 362.877 894.174C365.189 893.251 371.132 890.546 376.017 888.108C380.903 885.669 386.957 882.849 389.516 881.854C392.008 880.837 399.137 877.455 405.298 874.293C411.438 871.2 416.775 868.753 417.048 868.839C418.48 869.288 461.595 847.676 465.517 844.487C466.319 843.839 467.352 843.414 467.693 843.521C468.375 843.735 473.678 841.877 477.556 840.022C478.699 839.482 480.004 839.142 480.482 839.292C481.505 839.613 486.753 837.214 487.031 836.327C487.566 834.622 491.398 831.479 495.968 829.091C498.746 827.64 502.441 825.653 504.276 824.58C507.476 822.737 512.642 820.837 516.63 820.065C517.756 819.819 519.164 818.912 519.848 817.928C521.129 816.232 524.345 815.293 526.754 815.974C527.913 816.337 528.289 815.856 529.67 812.169C530.534 809.893 531.474 808.09 531.883 808.218C532.225 808.325 534.247 807.611 536.307 806.534C538.368 805.458 541.982 803.969 544.362 803.068C549.396 801.35 552.571 799.35 553.127 797.576C553.341 796.894 555.756 795.404 558.47 794.158C562.262 792.575 564.025 791.256 565.814 788.895C567.206 787.084 569.345 785.283 571.273 784.389C579.145 780.79 585.814 776.964 586.694 775.592C587.198 774.701 587.911 774.1 588.184 774.186C588.525 774.293 589.843 773.433 591.09 772.326C592.426 771.172 595.26 769.064 597.406 767.714C599.506 766.275 601.264 764.729 601.277 764.209C601.203 762.537 597.6 762.081 593.982 763.344C592.05 764.011 590.246 764.27 589.99 763.89C589.645 763.557 588.694 763.483 587.884 763.678C585.768 764.213 580.552 760.779 580.563 758.835C580.574 756.89 578.335 756.862 577.399 758.891C576.463 760.92 577.582 762.844 581.178 765.471C584.361 767.743 584.496 768.984 581.838 770.772C579.132 772.471 578.842 772.679 574.92 775.869C572.914 777.487 569.509 779.266 566.877 780.014C562.155 781.454 547.593 788.948 547.208 790.175C547.101 790.517 545.424 791.564 543.517 792.389C536.315 795.524 532.04 797.929 531.74 798.883C531.462 799.77 517.222 808.863 515.691 809.207C514.834 809.313 512.977 810.454 511.53 811.723C510.105 812.924 507.246 814.874 505.232 816.04C501.852 817.977 501.289 818.1 498.378 817.111C496.353 816.401 494.067 816.284 491.747 816.755C488.638 817.352 487.946 817.885 485.674 821.068C484.218 823.083 482.467 825.081 481.819 825.477C481.17 825.873 480.171 826.908 479.599 827.777C477.681 830.547 473.231 833.271 466.985 835.508C463.547 836.677 460.339 838.068 459.852 838.664C459.318 839.171 457.479 840.018 455.679 840.502C453.879 840.986 449.89 842.956 446.805 844.91C442.111 847.933 441.01 848.337 439.663 847.614C438.432 847.003 437.8 847.105 436.895 848.319C436.276 849.099 434.441 850.172 432.935 850.673C431.429 851.175 429.612 851.953 428.921 852.485C427.47 853.529 417.948 857.134 417.197 856.899C416.925 856.813 414.881 857.596 412.616 858.608C402.816 863.101 399.796 863.652 400.695 860.787C401.058 859.628 404.205 856.045 405.37 855.436C406.714 854.734 410.299 851.663 410.492 851.05C410.599 850.709 410.979 850.453 411.388 850.582C411.729 850.689 412.241 850.25 412.455 849.568C412.883 848.204 417.394 845.049 421.408 843.236C425.222 841.586 427.552 840.369 429.361 839.139C430.3 838.534 431.405 838.356 431.886 838.732C432.849 839.483 434.855 837.865 435.519 835.751C435.754 835.001 437.384 833.864 439.338 833.128C441.202 832.439 442.858 831.46 443.008 830.983C443.435 829.619 448.093 828.383 450.344 829.089C451.436 829.431 452.305 830.004 452.176 830.413C451.856 831.436 453.693 831.788 455.012 830.928C456.04 830.276 456.164 829.641 455.924 827.543C455.542 825.176 455.628 824.903 457.348 823.719C458.308 823.047 459.264 822.148 459.393 821.739C459.628 820.988 464.121 818.128 467.931 816.251C473.691 813.413 476.217 811.808 477.814 810.062C478.813 809.026 482.052 806.821 485.03 805.208C490.449 802.263 498.673 796.826 498.929 796.008C499.058 795.599 505.668 791.005 506.701 790.579C507.038 790.46 508.373 789.306 509.705 787.926C511.016 786.614 512.377 785.618 512.65 785.703C513.673 786.024 518.794 782.836 519.158 781.676C519.543 780.448 523.583 778.794 527.059 778.461C528.389 778.279 529.597 777.534 530.165 776.439C531.789 773.652 533.705 772.08 539.636 768.696C542.704 767.037 545.23 765.432 545.316 765.159C545.401 764.886 546.19 764.759 547.163 764.764C548.25 764.881 549.837 763.88 551.502 762.155C552.945 760.66 555.084 758.858 556.27 758.182C558.374 756.969 560.85 753.85 561.663 751.258C562.284 749.28 565.382 746.806 570.468 744.206C572.887 742.942 577.129 739.927 579.912 737.504C586.635 731.597 587.352 731.222 589.944 732.035C591.785 732.613 592.506 732.464 593.612 731.088C594.342 730.194 595.649 728.656 596.511 727.578C597.421 726.589 598.536 724.467 599.007 722.966C599.563 721.193 600.797 719.408 602.266 718.07C603.58 716.984 605.177 715.238 605.771 714.3C606.386 713.294 607.983 711.548 609.34 710.325C610.744 709.193 612.029 707.723 612.222 707.109C612.65 705.745 616.231 702.448 619.163 700.746C620.281 700.047 622.24 698.34 623.593 696.891C624.946 695.443 626.479 693.901 626.991 693.462C627.503 693.023 628.968 691.46 630.253 689.99C631.538 688.52 633.587 686.766 634.841 686.11C637.751 684.476 640.629 681.033 641.549 678.101C641.934 676.873 642.571 675.799 642.976 675.701C644.686 675.264 648.752 669.947 650.402 666.119C652.091 661.929 653.351 660.301 657.619 656.246C662.802 651.429 663.69 650.509 666.038 647.799C667.434 646.215 668.511 644.455 668.477 643.845C668.422 643.303 668.884 642.549 669.511 642.221C674.008 639.586 675.003 638.325 676.199 633.081C676.918 630.31 677.612 627.382 677.916 626.653C678.151 625.902 679.152 622.471 680.133 619.107C682.735 610.334 682.82 610.061 685.317 604.252C686.531 601.336 687.886 598.69 688.266 598.434C688.667 598.111 690.038 596.368 691.383 594.467C693.233 591.676 693.711 590.628 693.393 589.254C693.24 588.308 693.511 586.969 694.04 586.236C694.745 585.183 694.673 584.936 693.611 584.978C692.911 585.058 692.233 585.07 692.097 585.027C691.551 584.856 683.965 593.039 683.601 594.199C683.002 596.109 676.801 600.831 675.168 600.544C674.375 600.445 672.79 599.049 671.632 597.487C670.474 595.925 668.859 594.145 667.99 593.572C667.189 593.021 666.269 592.133 665.898 591.643C664.97 590.303 662.08 593.067 660.097 597.24C658.092 601.48 657.892 601.642 656.303 600.02C655.681 599.375 653.444 598.149 651.44 597.371C649.416 596.661 647.706 595.9 647.681 595.742C647.587 595.563 647.392 594.752 647.107 593.989C646.729 593.046 646.896 592.274 647.651 591.537C648.206 590.962 649.731 588.968 650.987 587.115C652.242 585.261 654.082 583.216 655.111 582.565C656.092 581.824 657.049 580.925 657.198 580.448C657.541 579.356 660.738 576.089 661.706 575.869C662.133 575.703 662.898 574.22 663.433 572.514C663.968 570.809 665.104 568.619 666.014 567.63C667.542 565.862 670.435 560.701 673.269 554.773C673.944 553.336 675.024 551.802 675.605 551.385C677.393 550.223 680.34 545.604 680.269 544.158C680.257 543.48 680.681 541.89 681.339 540.748C682.258 539.013 682.817 538.664 684.113 539.07C686.227 539.734 688.744 542.696 689.952 545.772C690.641 547.636 690.583 549.491 689.829 552.85L688.779 557.391L691.239 558.387C693.562 559.34 693.899 559.221 695.675 557.381C697.049 555.865 697.528 554.816 697.393 553.575C697.119 550.867 698.503 548.604 699.875 549.484C700.881 550.099 701.124 549.801 701.826 547.324C702.353 545.167 702.84 544.57 703.59 544.806C705.295 545.341 704.177 549.86 701.924 551.55C700.831 552.406 700.084 553.595 700.01 554.546C699.937 555.497 699.518 556.115 698.819 556.195C696.989 556.295 696.547 559.378 698.221 560.727C699.252 561.5 699.563 562.422 699.22 563.513C698.707 565.15 700.31 568.874 701.743 569.324C702.22 569.473 702.882 568.557 703.31 567.193C704.123 564.601 707.369 560.225 709.425 558.923C710.095 558.459 711.937 555.215 713.455 551.571C715.019 548.016 717.417 543 718.844 540.601C725.859 528.267 727.822 522.965 726.504 520.004C725.985 518.792 726.134 518.315 727.073 517.71C727.743 517.246 728.29 516.219 728.36 515.042C728.4 513.481 728.998 512.77 730.901 511.719C732.334 510.97 733.265 509.913 733.253 509.235C733.173 508.536 733.659 507.939 734.222 507.816C736.091 507.353 738.858 504.026 739.799 501.025C740.655 498.297 740.744 498.25 742.547 499.19C746.178 501.228 748.53 498.744 752.507 488.455C754.171 484.107 754.377 482.973 753.714 481.266C753.165 479.671 753.32 478.221 754.544 474.56C756.281 469.261 758.14 465.723 759.638 464.77C760.397 464.259 760.496 463.466 760.127 461.777C759.643 459.977 759.831 459.137 760.848 457.808C761.578 456.913 762.142 455.591 762.109 454.982C762.028 454.282 762.112 451.387 762.243 448.581C762.508 444.394 762.928 442.578 764.8 438.52C767.78 431.888 768.1 430.865 768.655 426.469C769.012 423.659 769.508 422.317 770.725 420.825C772.032 419.287 772.31 418.401 772.167 416.708C772.002 415.083 772.216 414.401 773.066 413.843C773.714 413.447 774.543 411.759 774.92 410.08C775.529 407.424 775.431 407.018 773.858 406.3L772.081 405.518L769.193 414.726C766.154 424.411 765.065 426.691 762.636 428.701C761.432 429.672 760.782 431.266 759.754 435.739C758.512 440.893 758.23 441.553 756.681 442.191C755.807 442.591 754.765 443.763 754.422 444.854C754.08 445.945 753.533 446.973 753.175 447.16C752.1 447.722 749.207 456.703 748.421 462.075C747.747 466.134 747.315 467.272 745.697 469.087C744.655 470.259 743.349 471.797 742.772 472.44C742.196 473.083 740.738 476.297 739.417 479.554C738.143 482.9 736.66 485.956 736.105 486.531C734.414 488.098 731.141 494.713 728.575 501.699C727.193 505.386 725.689 508.511 725.194 508.655C724.789 508.753 722.751 508.563 720.777 508.168C716.083 507.37 715.43 507.54 714.258 510.319C713.544 512.118 712.943 512.603 711.809 512.397C710.674 512.191 710.325 511.632 710.365 510.072C710.561 507.061 709.582 505.406 705.1 501.303C701.585 498.178 701.189 497.529 701.916 496.408C702.445 495.675 704.321 491.844 706.151 487.923C707.933 483.912 710.981 477.301 712.943 473.197C714.904 469.092 717.495 463.462 718.713 460.773C719.931 458.083 721.615 454.865 722.362 453.676C723.178 452.509 724.905 449.155 726.323 446.303C727.674 443.431 730.114 438.278 731.773 434.902C733.431 431.527 736.171 425.419 737.796 421.434C739.51 417.401 741.365 413.638 742.031 412.948C742.786 412.211 744.057 408.639 745.474 403.165C749.542 387.809 754.285 374.838 757.527 370.236C758.342 369.069 759.505 367.036 760.159 365.668C761.099 363.865 761.7 363.38 762.655 363.679C763.406 363.914 764.685 363.417 765.595 362.429C768.327 359.69 772.499 357.852 773.94 358.753C774.945 359.368 775.004 360.136 774.298 362.387C773.806 363.956 773.628 366.672 773.976 368.429C775.362 376.43 775.801 376.943 777.813 373.154C782.321 364.754 783.578 361.702 783.448 359.488C783.416 357.68 783.827 356.61 785.441 354.57C787.409 352.115 787.474 351.911 786.721 350.251C786.108 348.86 786.121 348.34 786.928 347.919C787.555 347.591 788.581 345.516 789.265 343.333C790.442 339.582 790.796 339.168 793.642 337.739L796.714 336.305L794.818 335.186C792.785 334.024 792.564 333.055 794.415 332.887C795.929 332.837 796.46 330.906 795.267 329.933C794.304 329.181 793.003 329.747 790.578 331.983C789.844 332.652 789.571 332.566 788.92 331.538C788.315 330.599 788.389 329.648 789.243 328.118C789.966 326.771 790.107 325.842 789.698 325.713C789.289 325.585 788.983 324.89 788.992 324.143C788.98 323.465 788.5 321.891 787.913 320.658C787.394 319.447 786.531 316.704 786.107 314.473C785.246 310.532 785.246 310.532 786.952 309.868C787.873 309.558 789.256 308.494 790.008 307.531C791.156 306.018 791.191 305.43 790.311 302.981C789.741 301.454 789.505 299.581 789.74 298.831C789.975 298.081 789.597 297.138 788.932 296.63C788.063 296.058 787.889 295.179 788.338 293.747C788.809 292.246 788.618 291.662 787.595 291.341C786.572 291.02 786.38 290.435 786.765 289.208C787.065 288.253 787.573 287.588 787.914 287.695C788.255 287.802 788.964 286.976 789.579 285.97C790.498 284.235 790.767 284.095 792.343 285.039C793.349 285.654 794.683 286.896 795.334 287.925C798.093 291.787 820.863 305.588 800.937 287.695C807.863 285.088 798.759 283.455 800.175 283.001C802.039 282.312 802.339 281.357 800.937 280.093C798.892 278.253 785.359 253.33 775.836 234.011C772.317 226.839 771.836 226.463 762.654 223.733C755.539 221.576 754.58 221.05 754.104 219.702C753.674 218.444 753.286 218.247 752.118 218.63C748.364 219.85 746.783 218.679 743.272 211.959C741.234 207.949 739.218 206.492 733.285 204.631C731.238 203.989 729.95 204.035 728.832 204.733C726.887 205.92 725.638 205.603 722.975 203.345C721.85 202.393 719.246 200.902 717.149 199.944C715.12 199.008 713.292 197.91 713.195 197.505C713.097 197.1 712.228 196.527 711.341 196.249C709.158 195.564 708.986 197.308 711.083 198.266C711.859 198.659 712.574 199.483 712.608 200.093C712.641 200.702 713.058 201.283 713.536 201.433C715.104 201.925 714.996 203.464 713.473 204.26C712.129 204.962 711.924 204.898 710.425 203.229C709.526 202.273 708.269 201.504 707.659 201.537C706.823 201.575 706.309 200.589 705.992 198.017C705.776 196.077 705.202 194.324 704.793 194.195C703.361 193.746 697.979 197.527 696.753 199.764C694.916 203.233 694.116 209.126 694.896 213.566C695.625 217.69 701.549 229.138 703.254 229.673C703.731 229.822 704.468 230.578 704.889 231.384C705.383 232.438 706.342 232.964 708.064 233.204C710.149 233.484 710.494 233.817 710.641 235.736C710.865 238.128 712.384 240.927 714.799 243.258C715.651 244.125 716.971 245.888 717.67 247.006C720.002 251.034 722.322 254.384 722.936 254.576C723.209 254.662 723.831 255.306 724.18 255.865C724.576 256.514 725.159 257.521 725.53 258.012C726.202 258.972 730.174 264.938 732.52 268.446C736.028 273.741 749.347 300.544 752.03 307.754C753.288 311.145 755.594 316.214 758.828 322.622C760.445 325.827 761.67 328.608 761.584 328.881C761.499 329.154 761.813 330.301 762.285 331.423C763.68 334.858 763.752 335.105 764.529 338.121C765.527 342.105 763.876 347.131 758.993 354.814C756.883 358.197 754.094 362.791 752.799 365.007C751.505 367.223 750.206 369.213 749.894 369.49C749.561 369.835 746.816 376.915 743.801 385.334C735.704 408.041 729.978 422.952 729.132 423.735C728.71 424.127 726.701 428.142 724.747 432.699C722.794 437.255 719.772 444.023 717.917 447.787C716.062 451.55 713.604 456.997 712.39 459.913C711.176 462.828 709.667 465.726 708.954 466.327C708.31 466.949 706.336 470.375 704.545 473.934C701.533 479.956 700.246 482.624 693.599 497.845C689.319 507.665 683.977 518.725 679.469 527.125C678.046 529.751 675.619 534.383 674.068 537.418C668.213 548.917 661.992 560.151 658.301 566.185C656.917 568.448 654.832 571.989 653.581 574.069C652.397 576.17 650.355 579.575 649.035 581.633C647.784 583.713 645.917 586.798 644.84 588.558C643.853 590.271 642.662 591.92 642.261 592.244C641.881 592.499 640.89 593.986 640.125 595.47C639.339 597.021 638.412 598.303 637.985 598.469C637.58 598.567 637.05 599.3 636.794 600.118C636.537 600.937 635.567 602.356 634.679 603.276C633.791 604.196 632.468 606.028 631.792 607.465C631.07 608.811 630.165 610.026 629.828 610.145C629.422 610.242 628.893 610.975 628.636 611.794C628.379 612.612 627.5 613.984 626.633 614.836C625.766 615.688 624.575 617.337 623.917 618.479C623.327 619.643 622.336 621.13 621.76 621.773C621.252 622.438 619.77 624.296 618.557 626.013C617.297 627.64 615.286 630.231 614.001 631.701C612.784 633.192 611.166 635.007 610.525 635.855C609.816 636.681 608.553 638.083 607.686 638.935C606.798 639.855 606.004 640.954 605.875 641.363C605.34 643.068 579.282 670.255 571.671 677.082C568.666 679.736 566.088 682.223 565.981 682.565C565.874 682.906 565.251 683.459 564.623 683.787C562.878 684.813 561.098 686.427 559.638 688.216C558.886 689.179 558.016 689.805 557.675 689.698C557.334 689.591 556.932 689.915 556.783 690.392C556.611 690.938 555.211 692.297 553.649 693.455C552.087 694.613 550.418 696.112 549.957 696.867C549.427 697.6 548.668 698.111 548.327 698.004C547.986 697.897 547.584 698.22 547.456 698.629C547.221 699.38 535.168 709.384 532.774 710.805C532.236 711.086 531.143 711.942 530.341 712.589C527.733 714.693 519.59 720.829 518.583 721.412C518.093 721.783 517.58 722.221 517.538 722.358C517.473 722.562 515.489 724.112 513.257 725.735C510.935 727.404 507.32 730.091 505.246 731.688C503.172 733.284 501.119 734.813 500.718 735.137C500.27 735.371 496.386 738.198 492.012 741.396C487.659 744.525 483.886 747.238 483.549 747.357C483.281 747.497 481.335 748.685 479.235 750.124C477.225 751.516 475.258 752.772 474.989 752.912C474.72 753.053 471.503 755.19 467.841 757.787C464.201 760.316 460.962 762.522 460.693 762.662C460.424 762.803 458.146 764.335 455.645 766.098C453.144 767.861 450.575 769.602 449.948 769.93C449.321 770.257 447.4 771.603 445.706 772.944C444.011 774.286 441.353 776.074 439.83 776.87C438.353 777.755 435.136 779.892 432.746 781.54C430.266 783.234 427.787 784.929 427.16 785.257C426.533 785.584 424.365 787.002 422.265 788.441C420.187 789.812 418.019 791.229 417.55 791.532C409.25 796.495 392.531 807.283 389.855 809.365C387.781 810.962 384.183 813.354 380.582 815.521C378.995 816.521 377.565 817.496 377.479 817.769C377.33 818.247 368.287 824.625 366.025 825.863C365.377 826.259 363.413 827.741 361.766 829.172C360.118 830.603 358.42 831.718 358.079 831.612C357.738 831.505 357.337 831.828 357.187 832.306C357.016 832.851 355.859 833.912 354.562 834.704C353.264 835.495 350.99 837.254 349.432 838.638C347.942 840.044 345.134 842.309 343.17 843.791C341.16 845.184 337.729 848.003 335.526 850.009C333.324 852.015 331.296 853.701 331.027 853.842C330.353 854.08 328.731 855.669 325.047 859.533C323.382 861.258 321.516 863.145 320.872 863.767C317.073 867.519 313.482 871.562 312.431 873.48C311.751 874.691 310.803 876.041 310.27 876.548C307.913 878.806 302.618 886.135 300.516 889.97C299.836 891.181 298.931 892.395 298.53 892.719C298.15 892.974 297.248 894.414 296.573 895.851C295.355 898.54 291.938 903.462 289.654 905.967C288.898 906.704 287.962 908.732 287.474 910.527C286.751 913.072 285.914 914.308 282.819 917.008C280.749 918.831 278.274 920.752 277.356 921.288C276.439 921.824 274.117 923.493 272.201 925.065C270.284 926.636 268.232 928.165 267.604 928.492C261.874 931.714 251.773 938.36 248.564 940.949C246.869 942.291 244.271 943.648 242.739 943.992C241.208 944.336 239.007 945.143 237.753 945.799C235.939 946.803 235.567 947.511 235.117 950.141C234.684 952.478 234.094 953.641 232.536 955.025C230.064 957.172 229.247 959.538 230.11 962.281ZM320.156 981.163C321.124 980.942 321.536 982.495 320.713 983.21C320 983.811 318.922 982.948 319.221 981.993C319.328 981.652 319.73 981.328 320.156 981.163ZM352.113 969.087C353.068 969.386 353.436 972.273 352.63 972.695C351.913 973.069 350.023 969.779 350.646 969.226C350.936 969.017 351.568 968.915 352.113 969.087ZM379.522 983.453C380.23 982.626 381.732 981.899 382.905 981.742C384.01 981.564 385.566 981.378 386.287 981.23C387.076 981.103 388.594 981.279 389.754 981.643C393.3 982.756 391.516 984.144 385.247 985.024C377.489 986.112 377.216 986.026 379.522 983.453ZM397.794 955.772C398.396 955.286 398.758 955.325 398.86 955.956C399.128 957.014 398.129 958.049 397.174 957.75C396.424 957.514 396.659 956.764 397.794 955.772ZM450.978 794.826C453.043 793.975 453.673 795.072 451.889 796.46C451.087 797.107 450.097 797.396 449.82 797.085C449.126 796.193 449.519 795.417 450.978 794.826ZM405.932 958.25C406.819 958.528 408.306 963.339 407.564 963.556C406.416 963.87 404.531 960.807 404.98 959.374C405.194 958.692 405.659 958.164 405.932 958.25ZM461.513 789.665C462.122 789.631 462.989 788.779 463.468 787.731C464.447 785.566 466.621 785.798 467.228 788.161C467.543 789.309 467.278 789.675 466.152 789.921C465.341 790.117 464.522 791.058 464.158 792.218C463.623 793.923 463.243 794.178 461.947 793.772C461.061 793.494 460.17 792.989 460.051 792.652C459.489 791.577 460.451 789.706 461.513 789.665ZM404.728 979.523C405.99 979.32 406.536 979.491 406.957 980.297C407.31 981.082 406.956 981.495 405.407 982.133C404.375 982.559 403.223 982.647 402.947 982.335C402.048 981.379 402.971 979.871 404.728 979.523ZM467.913 793.62C469.483 792.914 470.213 792.019 470.287 791.069C470.339 790.186 471.24 788.746 472.354 787.821C473.823 786.484 474.481 785.342 474.803 783.121C475.275 780.422 475.54 780.055 479.504 777.927C483.041 775.965 483.796 775.229 484.059 773.438C484.367 771.737 485.123 771 488.28 769.293C490.542 768.055 493.69 767.094 495.814 767.011C498.343 766.831 500.185 766.21 501.88 764.869C504.287 762.927 504.287 762.927 505.854 764.617C507.907 766.909 507.47 769.02 505.211 767.862C502.906 766.614 500.392 768.897 499.56 772.981C499.234 774.977 498.537 776.481 497.688 777.039C496.505 777.942 496.437 777.92 495.893 776.551C495.536 775.54 494.803 775.01 493.694 774.962C491.477 774.866 491.057 776.682 493.103 777.324C495.968 778.222 495.353 779.228 490.8 781.321C488.424 782.449 486.32 783.662 486.213 784.003C486.085 784.412 484.881 785.383 483.448 786.132C482.082 786.902 478.434 788.979 475.277 790.686C472.187 792.414 469.486 794.339 469.315 794.884C469.037 795.771 466.635 796.74 465.544 796.398C464.589 796.099 465.806 794.607 467.913 793.62ZM410.541 978.425C411.087 978.596 412.119 978.171 413.011 977.477C414.817 976.02 415.558 977.002 414.216 979.128C413.251 980.773 410.206 981.166 409.052 979.83C408.336 979.007 409.382 978.061 410.541 978.425ZM426.442 927.974C427.806 928.402 428.04 928.85 427.612 930.214C427.013 932.124 428.522 933.046 429.99 931.709C431.058 930.695 432.817 931.772 432.871 933.512C433.014 935.205 432.029 935.72 430.119 935.121C429.232 934.842 427.74 934.824 426.793 934.976C425.398 935.363 425.078 935.188 424.39 933.323C423.939 932.133 423.817 930.372 424.159 929.281C424.63 927.78 425.01 927.525 426.442 927.974ZM424.753 956.287C425.99 955.926 426.3 956.847 425.348 957.972C424.951 958.522 424.388 958.645 424.043 958.312C423.327 957.488 423.627 956.533 424.753 956.287ZM427.505 966.141C432.344 959.792 432.899 959.217 433.854 959.516C436.036 960.201 435.258 966.025 432.668 967.835C431.106 968.993 430.302 970.839 430.996 971.731C431.55 972.354 432.424 971.954 436.692 969.097C438.591 967.82 439.806 967.527 440.561 967.988C441.178 968.407 443.012 968.533 444.701 968.163C446.369 967.862 447.994 967.698 448.403 967.826C448.812 967.955 449.687 967.555 450.399 966.954C451.112 966.354 451.991 966.18 452.541 966.577C453.069 967.042 453.901 966.779 454.742 965.769C456.672 963.678 457.699 964.225 456.319 966.713C455.75 967.809 455.157 968.746 454.999 968.772C452.797 969.579 442.176 972.391 441.34 972.428C440.709 972.53 439.865 972.116 439.516 971.557C438.703 970.328 437.538 970.936 436.513 973.012C435.512 975.245 431.252 975.931 428.464 974.308C426.683 973.299 426.321 973.261 426.337 974.165C426.404 975.384 424.812 976.159 423.175 975.645C422.016 975.282 424.191 970.495 427.505 966.141ZM510.956 762.921C512.318 761.925 513.845 761.355 514.664 761.612C515.618 761.911 516.783 761.303 518.559 759.463C519.891 758.082 521.338 756.813 521.812 756.737C522.238 756.571 522.746 755.907 522.982 755.156C523.238 754.338 523.866 754.01 524.752 754.288C526.321 754.78 525.881 755.466 521.032 759.939C517.694 762.937 510.351 767.002 508.918 766.552C507.827 766.21 508.549 764.863 510.956 762.921ZM461.336 941.167C462.018 941.381 462.141 941.944 461.683 942.924C460.658 945 459.025 944.712 459.688 942.598C460.052 941.439 460.585 940.932 461.336 941.167ZM460.661 954.066C461.087 953.9 461.888 954.451 462.378 955.279C463.45 957.114 464.337 957.392 468.06 956.986C469.933 956.75 471.144 956.231 471.422 955.344C472.193 952.889 473.938 951.863 476.257 952.59C477.484 952.975 478.956 953.062 479.493 952.781C480.21 952.407 480.76 952.804 481.462 954.148C482.024 955.223 482.359 956.303 482.252 956.644C482.145 956.985 480.421 957.942 478.493 958.836C475.554 960.086 474.313 960.221 471.994 959.494C470.22 958.938 468.659 958.897 467.832 959.387C466.893 959.991 465.963 959.85 463.342 958.653C461.518 957.781 459.852 956.884 459.575 956.572C458.953 955.927 459.624 954.265 460.661 954.066ZM541.787 739.629C546.262 738.261 547.333 737.473 547.079 735.895C546.786 734.679 547.477 734.147 551.023 732.637C553.446 731.599 555.524 730.228 555.738 729.546C556.123 728.318 558.435 727.396 559.936 727.866C561.164 728.251 560.241 729.76 558.402 730.607C557.459 730.985 556.46 732.02 556.182 732.907C555.904 733.794 554.056 735.386 551.816 736.557C549.712 737.77 546.917 739.515 545.599 740.375C544.259 741.303 542.326 741.971 541.149 741.901C538.591 741.698 538.886 740.517 541.787 739.629ZM489.446 949.236C490.196 949.471 492.205 949.277 493.868 948.75C499.085 947.165 499.928 948.778 495.085 951.08C492.91 952.045 491.6 952.159 489.418 951.474C487.917 951.004 486.481 950.328 486.362 949.991C485.872 949.164 487.741 948.701 489.446 949.236ZM486.798 952.9C487.344 953.071 487.671 953.699 487.5 954.244C487.329 954.79 486.702 955.118 486.156 954.946C485.61 954.775 485.283 954.148 485.454 953.602C485.625 953.057 486.252 952.729 486.798 952.9ZM498.265 936.644C499.66 936.258 500.341 937.67 499.112 938.483C498.531 938.9 497.789 939.117 497.448 939.01C496.63 938.753 497.276 936.933 498.265 936.644ZM573.022 717.437C574.455 716.688 574.961 718.42 574.003 720.517C573.414 721.681 572.913 722.797 572.849 723.002C572.695 723.253 571.906 723.38 571.092 723.35C569.621 723.263 569.596 723.105 570.839 720.573C571.604 719.09 572.574 717.671 573.022 717.437ZM581.159 704.632C585.195 702.751 588.837 702.845 588.195 704.891C588.024 705.437 587.533 705.807 587.192 705.7C586.783 705.572 585.865 706.108 585.156 706.935C584.247 707.923 583.078 708.305 581.288 708.043C579.838 707.888 578.188 707.895 577.582 708.154C576.886 708.461 576.656 708.239 576.892 707.488C577.063 706.943 578.962 705.666 581.159 704.632ZM581.214 712.815C583.096 711.832 584.988 712.725 584.496 714.294C584.154 715.385 579.571 718.293 578.684 718.015C577.593 717.672 579.422 713.751 581.214 712.815ZM516.045 938.476C517.662 937.859 519.318 936.88 519.736 936.262C520.176 935.576 521.926 934.777 523.546 934.386C525.167 933.995 529.229 932.273 532.523 930.609C540.408 926.49 544.656 925.125 545.265 926.29C545.827 927.365 536.525 931.94 534.035 931.758C533.221 931.727 531.676 932.591 530.609 933.605C529.52 934.687 527.754 935.781 526.675 936.116C525.595 936.452 523.082 937.537 521.111 938.567C515.893 941.35 511.917 942.8 511.363 942.176C510.648 941.353 512.854 939.573 516.045 938.476ZM544.799 844.185C545.281 844.56 545.702 845.367 545.757 845.909C545.828 847.354 544.139 847.723 543.752 846.328C543.315 844.618 543.837 843.433 544.799 844.185ZM603.703 681.961C604.86 680.901 606.341 680.242 606.954 680.434C609.069 681.097 612.06 678.964 612.938 676.168C613.387 674.735 614.024 673.662 614.365 673.769C614.706 673.876 616.25 673.012 617.812 671.853C620.958 669.469 622.489 669.125 622.632 670.818C622.674 671.88 621.568 673.256 617.149 677.789C616.372 678.594 615.364 680.375 614.957 681.671C614.529 683.035 613.782 684.224 613.377 684.322C612.903 684.398 612.395 685.063 612.181 685.745C611.967 686.427 610.968 687.462 609.94 688.113C608.911 688.764 607.998 689.527 607.891 689.868C607.677 690.55 606.427 691.431 602.778 693.508C600.833 694.696 600.065 694.755 599.644 693.948C599.222 693.142 599.372 692.665 600.285 691.902C601.288 691.093 601.37 690.594 600.812 689.745C599.697 688.047 601.232 684.108 603.703 681.961ZM754.8 242.321C754.872 242.568 754.726 243.272 754.376 243.911C753.829 244.938 753.761 244.917 752.918 243.304C752.076 241.691 752.097 241.623 753.252 241.761C753.977 241.838 754.638 242.12 754.8 242.321ZM632.814 652.211C634.923 650.026 637.463 647.901 638.427 647.454C639.391 647.007 640.326 646.177 640.476 645.699C640.647 645.154 641.291 644.532 641.965 644.294C642.639 644.056 643.809 642.475 644.617 640.855C645.335 639.282 646.198 638.205 646.543 638.538C647.352 639.54 645.706 643.594 644.315 644.207C643.62 644.513 642.821 645.386 642.565 646.205C642.261 646.934 641.402 648.238 640.557 649.021C639.712 649.805 638.811 651.245 638.422 652.247C637.801 654.225 631.2 658.073 629.495 657.538C628.199 657.131 628.571 656.424 632.814 652.211ZM550.114 921.818C551.59 920.933 553.041 919.889 553.306 919.523C553.682 919.042 554.07 919.238 554.491 920.045C555.027 920.962 554.383 921.584 550.888 923.409C546.229 925.844 545.506 924.568 550.114 921.818ZM762.688 247.268C763.903 246.975 764.248 247.308 764.912 249.014C765.954 251.663 765.257 253.168 763.125 252.799C759.702 252.249 759.425 248.117 762.688 247.268ZM557.602 914.428C557.943 914.535 558.805 913.457 559.549 912.042C560.685 909.851 561.155 909.549 562.519 909.977C564.224 910.512 565.436 909.993 570.172 906.834C573.1 904.905 578.005 903.597 580.051 904.239C581.075 904.56 581.1 904.718 579.824 905.441C579.065 905.952 577.686 907.243 576.823 908.321C575.961 909.398 574.825 910.391 574.33 910.535C573.836 910.68 571.646 912.166 569.551 913.831C567.366 915.543 565.309 916.845 564.9 916.717C564.559 916.61 562.652 917.435 560.795 918.576C557.864 920.278 557.233 920.38 556.513 919.33C555.7 918.101 556.579 914.107 557.602 914.428ZM766.124 256.137C766.737 256.329 766.972 256.777 766.685 257.212C765.891 258.311 764.326 258.045 764.69 256.886C764.883 256.272 765.51 255.944 766.124 256.137ZM691.75 519.74C693.476 516.386 695.737 511.327 696.887 508.616L698.901 503.629L701.421 504.194C703.531 504.632 704.221 505.298 705.511 507.875C707.643 512.064 707.549 511.885 711.664 519.544C714.724 525.074 715.273 526.669 714.738 528.375C714.374 529.534 714.111 532.523 714.223 535.031C714.384 540.25 713.38 542.258 710.924 541.488C710.037 541.209 709.394 540.633 709.501 540.292C709.95 538.86 707.647 539.036 705.957 540.604C703.844 542.563 703 542.148 704.269 539.775C705.013 538.36 704.872 538.091 703.167 537.556C702.076 537.214 699.379 535.543 697.112 533.933C694.866 532.255 692.65 530.96 692.155 531.105C691.75 531.203 690.296 530.821 688.975 530.257C686.81 529.278 686.716 529.099 687.66 527.522C688.233 526.653 690.092 523.116 691.75 519.74ZM668.915 609.97C669.256 610.076 669.468 610.593 669.297 611.138C669.126 611.684 668.571 612.259 668.166 612.357C667.692 612.433 667.548 611.938 667.783 611.188C668.04 610.369 668.505 609.841 668.915 609.97ZM672.097 604.6C672.711 604.793 672.953 605.693 672.747 606.827C672.374 608.732 670.979 609.119 670.115 607.574C669.554 606.499 671.006 604.258 672.097 604.6ZM778.902 293.259C779.818 293.921 779.298 297.728 778.275 297.407C777.525 297.172 777.343 295.841 777.831 294.046C777.998 293.275 778.467 292.973 778.902 293.259Z",fill:"black"}),fe("path",{d:"M863.7 353.947C863.988 356.135 864.426 356.647 866.472 357.289C869.815 358.337 874.437 362.709 874.153 364.568C873.99 365.565 874.407 366.146 875.771 366.574C877.135 367.002 877.851 367.825 878.199 369.583C879.642 375.729 880.19 377.324 881.43 378.388C882.188 379.075 882.635 380.039 882.464 380.585C882.293 381.131 883.321 384.3 884.781 387.53C886.24 390.759 887.264 393.703 886.999 394.069C886.756 394.368 885.148 394.238 883.49 393.793C878.784 392.316 875.688 392.394 875.622 393.797C875.635 394.475 875.019 395.481 874.17 396.038C873.009 396.873 872.557 396.881 871.701 395.788C870.155 394.03 869.998 394.055 869.334 396.17C868.842 397.738 869.217 398.455 871.032 400.073C872.182 401.183 873.716 402.264 874.261 402.435C874.875 402.627 875.612 403.383 875.897 404.147C876.395 405.426 876.241 405.678 874.598 406.137C871.067 407.126 871.988 410.637 876.127 412.01C879.128 412.952 885.404 409.901 884.869 407.785C884.241 405.49 885.4 405.854 888.557 409.167C890.26 410.9 892.654 413.299 893.919 414.52C895.368 415.873 896.513 417.956 896.907 419.802C897.277 421.491 898.11 423.851 898.786 425.037C899.442 426.291 899.832 427.912 899.597 428.662C899.409 429.502 899.867 431.144 900.659 432.442C901.54 433.692 902.042 435.198 901.828 435.88C901.635 436.494 901.787 438.639 902.185 440.712C902.635 443.1 902.542 445.544 901.922 447.522C901.173 449.909 901.215 450.971 902.215 452.558C903.262 454.235 903.274 454.913 902.27 456.921C901.441 458.608 901.278 459.606 901.904 460.477C902.415 461.236 902.32 462.255 901.708 463.487C900.94 464.744 901.002 465.738 901.773 467.103C902.356 468.11 902.581 469.304 902.273 469.807C901.919 470.221 901.964 471.508 902.368 472.609C902.938 474.136 902.787 475.812 901.674 479.359C900.647 482.633 900.432 484.513 900.9 485.409C901.253 486.194 901.388 487.435 901.132 488.253C900.875 489.072 900.706 491.042 900.76 492.782C901 499.899 900.688 503.997 899.725 507.066C899.169 508.839 898.833 511.581 898.973 513.048C899.09 514.583 898.605 517.802 897.835 520.258C896.337 525.032 896.194 527.16 897.341 526.846C898.31 526.625 903.316 510.665 902.648 509.931C902.439 509.64 903.095 505.876 904.217 501.583C905.339 497.29 906.252 492.707 906.186 491.487C906.208 490.221 906.545 486.281 906.98 482.746C907.952 475.11 908.131 467.374 907.489 461.779C907.201 459.591 907.028 457.514 907.114 457.241C907.199 456.969 907.035 455.344 906.845 453.561C905.961 447.065 905.806 444.694 906.148 443.603C906.34 442.989 906.217 442.426 905.876 442.319C905.535 442.212 905.315 441.244 905.384 440.067C905.653 436.106 903.067 421.66 901.476 418.613C901.148 417.986 900.953 417.176 901.017 416.971C901.103 416.698 899.405 412.795 897.154 408.268C891.9 397.554 892.019 397.891 892.401 395.239C893.103 388.942 879.985 361.977 870.203 349.694C838.5 318.502 819.95 309.07 819.5 310.502C814.5 309.502 831.975 320.871 865.397 347.502C867.268 348.463 867.443 350.851 865.397 350.209C856.5 343.502 863.205 350.27 863.7 353.947Z",fill:"black"}),fe("path",{d:"M863.135 421.42C865.386 422.126 866.077 421.594 865.184 419.665C864.172 417.4 862.743 417.177 862.101 419.223C861.674 420.587 861.908 421.035 863.135 421.42Z",fill:"black"}),fe("path",{d:"M868.266 425.127C869.716 425.282 870.946 423.27 870.441 421.538C870.003 419.828 868.412 420.602 867.685 422.921C867.171 424.558 867.316 425.053 868.266 425.127Z",fill:"black"}),fe("path",{d:"M874.41 422.259C875.718 423.344 877.42 422.454 876.718 421.11C876.11 419.946 873.892 419.849 873.571 420.873C873.464 421.214 873.86 421.862 874.41 422.259Z",fill:"black"}),fe("path",{d:"M880.191 415.532C880.805 415.725 881.253 415.49 881.266 414.97C881.242 413.614 879.805 412.939 879.442 414.098C879.249 414.712 879.577 415.339 880.191 415.532Z",fill:"black"}),fe("path",{d:"M801.939 677.168C802.657 679.416 804.998 680.075 805.554 678.302C805.789 677.552 805.641 676.831 805.3 676.724C804.277 676.403 804.952 674.967 806.972 672.828C808.304 671.448 808.628 670.651 808.254 669.934C807.458 668.411 807.945 667.814 809.446 668.285C810.469 668.606 810.66 669.19 810.296 670.35C809.654 672.396 810.118 673.066 812.267 673.141C813.581 673.253 814.046 672.725 814.795 670.338C816.186 665.904 816.877 665.372 819.742 666.271C822.811 667.233 823.62 668.236 822.949 669.899C822.581 670.832 822.841 671.438 823.821 671.895C825.509 672.725 826.607 670.896 825.094 669.748C824.634 669.304 824.435 668.267 824.713 667.38C825.162 665.948 824.885 665.637 822.566 664.909C821.066 664.438 819.787 663.738 819.69 663.332C819.303 661.938 820.976 660.664 822.545 661.157C823.431 661.435 824.515 661.325 825.005 660.954C825.407 660.631 826.899 656.829 828.225 652.6C830.279 646.052 830.485 644.918 829.531 644.619C827.757 644.062 827.741 643.158 829.494 642.584C830.416 642.274 831.265 641.716 831.372 641.375C831.5 640.966 832.657 639.906 833.997 638.977C835.337 638.049 836.537 636.852 836.686 636.375C836.836 635.897 837.929 635.041 839.162 634.454C841.786 633.255 842.414 631.729 840.919 630.286C839.56 628.886 837.209 630.171 835.521 633.163C834.381 635.127 834.133 635.199 831.789 634.314C828.647 633.104 826.454 634.364 824.535 638.332C823.839 639.836 822.762 641.596 822.228 642.103C821.673 642.678 820.486 644.553 819.478 646.335C816.564 651.564 814.321 655.131 813.404 655.667C813.024 655.922 812.076 657.273 811.354 658.62C810.653 659.898 809.748 661.113 809.342 661.21C808.937 661.308 808.472 661.836 808.279 662.45C808.108 662.996 807.249 664.3 806.34 665.288C803.924 667.976 801.293 675.167 801.939 677.168Z",fill:"black"}),fe("path",{d:"M844.378 557.879C846.015 558.392 849.286 557.995 849.5 557.313C849.607 556.972 849.054 556.349 848.21 555.934C847.025 555.412 846.855 554.76 847.382 552.603C848.449 547.768 846.012 549.326 844.365 554.578C843.68 556.761 843.696 557.665 844.378 557.879Z",fill:"black"}),fe("path",{d:"M847.474 546.339C848.014 547.482 850.257 547.736 850.578 546.713C850.77 546.099 850.285 545.497 849.194 545.155C847.557 544.641 846.797 545.152 847.474 546.339Z",fill:"black"}),fe("path",{d:"M850.746 540.922C851.06 542.07 856.086 543.721 857.545 543.13C858.241 542.824 858.719 541.775 858.896 540.257C859.132 538.309 859.419 537.874 860.305 538.152C861.669 538.58 862.098 541.037 861.327 543.492C860.878 544.925 859.696 545.827 856.825 547.099C854.649 548.065 852.792 549.206 852.621 549.751C852.236 550.979 855.327 551.874 856.756 550.899C857.874 550.201 858.079 550.265 858.803 551.541C859.943 553.397 860.238 553.414 861.357 551.518C862.237 550.146 862.484 550.073 863.136 551.102C863.808 552.062 864.375 552.165 866.312 551.724C868.654 551.185 868.79 551.227 869.722 552.793C870.212 553.621 870.547 554.7 870.44 555.041C869.948 556.61 871.298 562.577 872.185 562.856C873.48 563.262 874.247 560.581 873.101 559.697C872.504 559.21 872.527 557.943 873.211 555.761C874.196 552.623 873.912 546.841 872.758 545.505C872.434 545.103 872.508 544.153 873.059 543.351C873.584 542.393 873.521 541.399 872.891 540.302C871.585 538.019 871.91 537.222 874.751 535.567C877.862 533.771 877.923 532.142 874.803 530.863C872.549 529.931 872.301 530.003 871.809 531.572C871.189 533.55 869.718 533.463 868.845 531.467C868.42 530.434 868.613 529.82 869.787 528.465C871.491 526.378 871.356 525.137 869.309 524.495C867.4 523.896 867.004 523.247 865.809 519.651C865.21 517.74 865.131 515.842 865.709 514.001C866.415 511.75 866.313 511.119 865.197 510.619C864.489 510.247 863.069 510.476 862.151 511.012C860.696 511.829 860.436 512.422 860.489 514.161C860.624 515.402 860.196 516.767 859.534 517.683C858.894 518.531 858.445 519.963 858.537 521.34C858.572 524.573 857.066 528.895 855.179 530.85C852.891 533.129 852.471 534.946 854.108 535.459C856.018 536.058 855.514 536.949 853.168 537.262C851.227 537.477 850.215 539.033 850.746 540.922Z",fill:"black"}),fe("path",{d:"M805.607 687.684C806.438 688.619 807.739 688.053 808.21 686.552C808.467 685.734 808.139 685.107 807.252 684.829C805.82 684.379 804.568 686.459 805.607 687.684Z",fill:"black"}),fe("path",{d:"M847.189 565.877C848.024 567.038 848.231 568.527 847.867 569.686C847.204 571.801 848.682 573.538 850.107 572.337C851.332 571.298 852.27 568.071 851.922 566.313C851.744 565.209 852.188 564.749 854.142 564.013C855.558 563.558 856.766 562.813 856.894 562.404C857.044 561.927 856.681 561.888 855.828 562.22C855.133 562.526 854.135 562.363 853.586 561.966C852.921 561.457 851.927 561.52 850.831 562.15C849.913 562.686 848.493 562.915 847.811 562.701C845.969 562.124 845.725 563.62 847.189 565.877Z",fill:"black"}),fe("path",{d:"M874.834 483.001C875.375 484.144 877.617 484.398 877.917 483.443C878.323 482.147 877.561 481.234 876.026 481.352C874.717 481.465 874.319 482.015 874.834 483.001Z",fill:"black"}),fe("path",{d:"M852.282 559.909C853.066 560.754 855.029 559.272 855.206 557.754C855.464 555.738 853.426 555.548 852.558 557.598C852.122 558.51 852.006 559.597 852.282 559.909Z",fill:"black"}),fe("path",{d:"M856.502 558.161C857.182 559.573 860.581 559.965 861.418 558.729C862.08 557.813 862.621 557.758 864.219 558.634C865.818 559.51 866.133 559.459 866.318 558.393C866.512 556.581 863.541 554.825 860.535 554.856C857.665 554.93 858.092 554.764 857.011 556.298C856.571 556.984 856.314 557.802 856.502 558.161Z",fill:"black"}),fe("path",{d:"M872.395 518.72C874.274 520.134 876.056 519.944 875.666 518.323C875.33 517.244 873.51 516.598 871.868 517.056C870.968 517.299 871.087 517.636 872.395 518.72Z",fill:"black"}),fe("path",{d:"M877.763 506.62C878.223 507.064 879.199 507.295 879.878 507.283C880.871 507.22 881.025 506.969 880.6 505.936C880.293 505.241 879.693 504.528 879.215 504.378C877.92 503.972 876.732 505.847 877.763 506.62Z",fill:"black"}),fe("path",{d:"M897.22 452.714C897.497 453.026 898.017 453.039 898.418 452.715C899.152 452.047 898.924 450.626 897.969 450.327C897.15 450.07 896.573 451.912 897.22 452.714Z",fill:"black"}),fe("path",{d:"M860.721 575.517C861.868 576.401 862.674 575.979 862.624 574.465C862.485 572.998 861.462 572.677 860.51 573.802C860.113 574.352 860.193 575.051 860.721 575.517Z",fill:"black"}),fe("path",{d:"M862.214 571.715C863.237 572.035 863.685 571.801 863.827 570.872C863.883 570.215 863.509 569.498 862.963 569.327C862.418 569.156 861.701 569.531 861.372 570.102C860.957 570.946 861.191 571.394 862.214 571.715Z",fill:"black"}),fe("path",{d:"M878.367 520.219C879.291 521.333 880.657 520.563 880.112 519.193C879.853 518.588 879.325 518.122 878.919 518.22C877.951 518.44 877.72 519.417 878.367 520.219Z",fill:"black"}),fe("path",{d:"M866.346 575.258C867.778 575.708 868.701 574.199 868.145 572.152C867.733 570.599 866.116 571.216 865.495 573.194C865.132 574.353 865.323 574.938 866.346 575.258Z",fill:"black"}),fe("path",{d:"M868.59 566.672C869.186 567.159 870.048 567.28 870.585 566.999C871.302 566.624 871.341 566.262 870.561 565.643C869.965 565.156 869.103 565.035 868.566 565.316C867.849 565.691 867.81 566.053 868.59 566.672Z",fill:"black"})]})})}function gG(){return gr($f,{children:[fe(Jz,{}),fe(aG,{children:gr(oG,{children:[gr(lG,{children:[fe("h1",{children:"Banan "}),fe("h2",{children:"A project by David Adeyemi"}),fe("p",{children:"Built in React & ThreeJS  Tutorial by 0xca0a "})]}),gr(uG,{children:[fe(e2,{href:"https://0xca0a.gumroad.com/l/B4N4N4S",children:"More about this site"}),fe("br",{}),fe(e2,{href:"https://bydavid.me",children:"Visit me on my site"}),fe("br",{}),fe(e2,{href:"https://www.linkedin.com/in/davidfadeyemi/",children:"Let's connect on LinkedIn"}),fe("br",{})]}),fe(hG,{children:fe("h3",{children:"Hungry yet? :)"})}),gr(cG,{children:[fe(t2,{to:"/",children:" Banan"}),fe("div",{}),fe(t2,{to:"strawbs",children:" Strawbs"}),fe("div",{}),fe(t2,{to:"goes",children:" Goes"})]}),fe(fG,{}),fe(dG,{children:fe("a",{href:"https://bydavid.me",children:fe("img",{src:"/banan/banner.png",alt:"banner"})})}),fe(mG,{})]})})]})}function vG(){const n=wS();return console.error(n),gr("div",{id:"error-page",children:[fe("h1",{children:"Oops!"}),fe("p",{children:"Sorry, an unexpected error has occurred."}),fe("p",{children:fe("i",{children:n.statusText||n.message})})]})}function yG({index:n,z:e,speed:t}){const i=Z.useRef(),{nodes:r,materials:s}=Md("/banan/strawberry-v1.glb"),{viewport:o,camera:a}=cs(),{width:l,height:f}=o.getCurrentViewport(a,[0,0,-e]),[d]=Z.useState({y:Gr.randFloatSpread(f*2),x:Gr.randFloatSpread(2),spin:Gr.randFloat(8,12),rX:Math.random()*Math.PI,rZ:Math.random()*Math.PI});return Zu((p,h)=>{h<.1&&i.current.position.set(n===0?0:d.x*l,d.y+=h*t,-e),i.current.rotation.set(d.rX+=h/d.spin,Math.sin(n*1e3+p.clock.elapsedTime/10)*Math.PI,d.rZ+=h/d.spin),d.y>f*(n===0?4:1)&&(d.y=-(f*(n===0?4:1)))}),gr("group",{dispose:null,ref:i,children:[fe("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.defaultMaterial.geometry,material:s[1001]}),fe("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.defaultMaterial001.geometry,material:s[1001]}),fe("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.defaultMaterial002.geometry,material:s[1001]})]})}function xG({speed:n=1,count:e=380,depth:t=80,easing:i=r=>Math.sqrt(1-Math.pow(r-1,2))}){return fe($f,{children:gr(D8,{gl:{antialias:!1},dpr:[1,1.5],camera:{position:[0,0,10],fov:20,near:.01,far:t+15},children:[fe("color",{attach:"background",args:["#fa2a55"]}),fe("spotLight",{position:[10,20,10],penumbra:1,intensity:3,color:"pink"}),Array.from({length:e},(r,s)=>fe(yG,{index:s,z:Math.round(i(s/e)*t),speed:n},s)),fe(O8,{preset:"sunset"}),fe(z8,{multisampling:0,children:fe(G8,{target:[0,0,60],focalLength:1,bokehScale:10,height:700})})]})})}function _G({index:n,z:e,speed:t}){const i=Z.useRef(),{nodes:r,materials:s}=Md("/banan/mango-v1.glb"),{viewport:o,camera:a}=cs(),{width:l,height:f}=o.getCurrentViewport(a,[0,0,-e]),[d]=Z.useState({y:Gr.randFloatSpread(f*2),x:Gr.randFloatSpread(2),spin:Gr.randFloat(10,15),rX:Math.random()*Math.PI,rZ:Math.random()*Math.PI});return Zu((p,h)=>{h<.1&&i.current.position.set(n===0?0:d.x*l,d.y+=h*t,-e),i.current.rotation.set(d.rX+=h/d.spin,Math.sin(n*1e3+p.clock.elapsedTime/10)*Math.PI,d.rZ+=h/d.spin),d.y>f*(n===0?4:1)&&(d.y=-(f*(n===0?4:1)))}),fe("mesh",{ref:i,castShadow:!0,receiveShadow:!0,scale:35,geometry:r.Mango.geometry,material:s.AppleMangoSkin})}function CG({speed:n=1,count:e=100,depth:t=80,easing:i=r=>Math.sqrt(1-Math.pow(r-1,2))}){return fe($f,{children:gr(D8,{gl:{antialias:!1},dpr:[1,1.5],camera:{position:[0,0,10],fov:20,near:.01,far:t+15},children:[fe("color",{attach:"background",args:["#2B7CEA"]}),fe("spotLight",{position:[10,20,10],penumbra:1,intensity:3,color:"red"}),Array.from({length:e},(r,s)=>fe(_G,{index:s,z:Math.round(i(s/e)*t),speed:n},s)),"console.log(Math.round(easing(i / count) * depth))",fe(O8,{preset:"sunset"}),fe(z8,{multisampling:0,children:fe(G8,{target:[0,0,60],focalLength:1,bokehScale:10,height:700})})]})})}const MG=$z([{path:"/banan/",element:fe(gG,{}),errorElement:fe(vG,{}),children:[{path:"/banan/",element:fe(FO,{})},{path:"/banan/strawbs",element:fe(xG,{})},{path:"/banan/goes",element:fe(CG,{})}]}]);function SG(){return fe($f,{children:fe(Wz,{router:MG})})}i2.createRoot(document.getElementById("root")).render(fe(Nr.StrictMode,{children:fe(SG,{})}));
